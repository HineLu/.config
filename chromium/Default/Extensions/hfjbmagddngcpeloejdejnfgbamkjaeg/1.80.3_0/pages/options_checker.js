"use strict";var U={Og:null,pu:function(){function n(n,t,r){var i,e,s=t.toLowerCase(),u=r.length>1,o=s.includes("s-"),c=r.toUpperCase();if(!u){if(!s)return n;if(o&&s.length<3)return c}return i=r.toLowerCase(),s=(e=s).length<4?e:e.slice(0,-1).split("-").sort().join("-")+"-",r!==i&&!o&&(s+="s-"),s||u?"<"+s+i+">":r}this.Og=function(t){return t.replace(/<(?!<)((?:[ACMSacms]-){0,4})(.[^>]*)>/g,n)},this.Gg=this.Gg.bind(this),this.$g=this.$g.bind(this),this.zg=this.zg.bind(this),this.pu=null},Jg:function(n,t){return t?"\\u00"+t:"\\\\"},zg:function(n,t,r,i){var e,s;r?t='"'+(r=r.replace(/\\(?:x([\da-z]{2})|\\)/gi,this.Jg))+'"':i||"\\\\"!==t||(t="\\"),e="",t.startsWith("{")&&(e=t=t.replace(/([{,] ?)(\w+):/g,'$1"$2":'));try{if("string"!=typeof(s=JSON.parse(t)))return true!==s?e?"="+e+i:n:"";t=s}catch(n){r&&(t=r)}return"="+(t=(t=t&&t.replace(/\\(\\|s)/g,function(n,t){return"s"===t?" ":n}))&&JSON.stringify(t).replace(/\s/g,this.Lg))+i},Lg:function(n){return"\\u"+(n.charCodeAt(0)+1048576).toString(16).slice(2)},Gg:function(n,t,r,i){var e=this.Og(r);return e!==r&&(console.log("KeyMappings Checker:",r,"is corrected into",e),r=e),this.$g("",t,r,i)},$g:function(n,t,r,i){return(i.includes("createTab")||i.includes("openUrl"))&&/^\s+(createTab|openUrl)\s/.test(i)&&!/\surls?=/i.test(i)&&(i=this.Ng(i)),t+r+(i?i.replace(/=("(\S*(?:\s[^=]*)?)"|\S+)(\s|$)/g,this.zg):"")},Ng:function(n){var t,r=[];return(n=(n+" ").replace(/\s(\w+:[^=\s]+|[^\s=]+:\/\/\S+)(?=\s|$)/g,function(n,t){return r.push(t),""}).trimRight())+((t=r.length)>1?" urls=":t?" url=":"")+(t?JSON.stringify(t>1?r:r[0]):"")},hh:function(n){return n?(this.pu&&this.pu(),n=(n=(n=(n="\n"+n.replace(/\\\\?\n/g,function(n){return 3===n.length?n:"\\\r"})).replace(/(\n[ \t]*#?(?:un)?map\s+)(\S+)([^\n]*)/g,this.Gg)).replace(/(\n[ \t]*#?(?:command|shortcut)\s+)(\S+)([^\n]*)/g,this.$g)).replace(/\\\r/g,"\\\n").trim()):n}};_.wh.keyMappings.ah=U,U=null,_.wh.searchUrl.ah={hh:function(n){var t,r,i,e=Object.create(null);return u.r.Ka("k:"+n,e),null==(t=e.k)?N.Sc("searchUrl",true):(r=u.r.ma(t.Ha,null,-2),u.r.fa>2?(i=s("nonPlainURL",[t.Ha]),console.log("searchUrl checker:",i),_.wh.searchUrl.hd(i),N.Sc("searchUrl",true)):(r=r.replace(u.r.aa,"%20"),t.Wa&&"k"!==t.Wa&&(r+=" "+t.Wa),_.wh.searchUrl.hd(""),r))}},_.wh.vimSync.lh=function(){var n,t,r,i;if(!this.ih&&true===this.vh()){for(r in t=0,n=_.wh)n[r].ih||++t;if(i=t>1,setTimeout(alert,100,s(i?"changedBeforeSync":"warningForSync")),i)return false}return true},_.wh.keyboard.ah={hh:function(n){return null!=n&&2===n.length&&n[0]>0&&n[0]<4e3&&n[1]>0&&n[1]<1e3?[+n[0],n[1]]:N.Tc.keyboard}},(function(){function n(t){u.Commands||u.r.Ma("Commands"),t&&this.removeEventListener("input",n)}var t,r,i,e=V,s=e.Vh;for(e.Vh="",t=0,r=w("[data-check]");t<r.length;t++)(i=r[t]).removeEventListener(i.dataset.check||"input",e);if("keyMappings"===s)return n();_.wh.keyMappings.lu.addEventListener("input",n)})();