"use strict";function T(){var t=this,n=t.xh;n.ondragstart=function(n){(t.Bh=n.target).style.opacity="0.5"},n.ondragend=function(){var n=t.Bh;t.Bh=null,n&&(n.style.opacity="")},n.ondragover=function(t){return t.preventDefault()},n.ondrop=function(n){var i,e,o,r,s;for(n.preventDefault(),i=t.Bh,e=n.target;e&&e.classList.contains("exclusionRule");)e=e.parentElement;i&&e&&i!==e&&(t.xh.insertBefore(i,e),o=t.U_,r=i.querySelector(".pattern").vnode,s=e.querySelector(".pattern").vnode,o.splice(o.indexOf(r),1),o.splice(o.indexOf(s),0,r),t.nh())}}function B(t){var n=document.createElement("script");return n.src=t,document.head.appendChild(n),n}function V(){null==V.Vh&&(V.Vh=this.id,B("options_checker.js"))}function C(){function t(){var t,n,i,e,o,r=_.wh;for(t in r)"object"==typeof(i=(n=r[t]).gl)&&i&&(n.gl=N.Sc(n.th));e=false,o=false,_.wh.exclusionRules.U_.length>0?e=o=true:_.wh.keyMappings.ah&&(o=true),e&&!u.Exclusions&&u.r.Ma("Exclusions"),o&&!u.Commands&&u.r.Ma("Commands"),u.r.ic(1)}u.removeEventListener("unload",C),setTimeout(function(){if(u=chrome.extension.getBackgroundPage(),!u)return window.onbeforeunload=null,void window.close();N=u.l,N?(u.addEventListener("unload",C),"loading"===u.document.readyState?u.addEventListener("DOMContentLoaded",function n(){u.removeEventListener("DOMContentLoaded",n,true),setTimeout(t,100)},true):setTimeout(t,67)):u=null},200)}function G(t){var n=document.createEvent("MouseEvents");return n.initMouseEvent("click",true,true,window,1,0,0,0,0,false,false,false,false,0,null),t.dispatchEvent(n)}var E,M,D,L,H,A,F,z,I;_.ph=[],_.prototype.eh=function(t){t.call(this),window.VDom&&(VDom._[N.Rc[this.th]]=this.vh())},_.Ch=function(){var t,n,i=_.wh,e=[];for(t in i)(n=i[t]).ih||n.gh(n.gl,N.Sc(n.th))||e.push(n.th);if(e.length>0&&!confirm(s("dirtyOptions",[e.join("\n  * ")])))return false;for(t in i)if(!(n=i[t]).ih&&!n.lh())return false;for(t in i.vimSync.ih||i.vimSync.dh(),i.exclusionRules.ih||i.exclusionRules.dh(),i)i[t].ih||i[t].dh();return true},_.Gh=function(){var t,n=_.wh;for(t in n)if(!n[t].ih)return true;return false},_.prototype.gh=function(t,n){return t===n},E=(function(t){function n(i,e){var o,r,s=t.call(this,i,e)||this;return s.ah={min:(o=i.min)&&!isNaN(r=parseFloat(o))?r:null,max:(o=i.max)&&!isNaN(r=parseFloat(o))?r:null,default:N.Tc[s.th],hh:n.Eh},s.lu.oninput=s.nh,s.lu.onfocus=s.Mh.bind(s),s}return x(n,t),n.prototype.sh=function(t){this.lu.value=""+t},n.prototype.vh=function(){return parseFloat(this.lu.value)},n.prototype.Mh=function(){var t=this,n=this.lu,i=function(n){return t.Lh(n)},e=function(){n.removeEventListener("wheel",i,{passive:false}),n.removeEventListener("blur",e),t.Hh=0};this.Hh=0,n.addEventListener("wheel",i,{passive:false}),n.addEventListener("blur",e)},n.prototype.Lh=function(t){var n,i,e,o,r,s,u,a;if(t.preventDefault(),n=this.Hh,!((i=Date.now())-n<100&&i+99>n&&n>0))return this.Hh=i,r=(e=this.lu).value,"function"==typeof(u=(o=(t.deltaY||t.deltaX)>0)?e.stepUp:e.stepDown)?(u.call(e),s=e.value,e.value=r):(a=(u=parseFloat)(e.step)||1,i=(+e.value||0)+(o?a:-a),isNaN(a=u(e.max))||(i=Math.min(i,a)),isNaN(a=u(e.min))||(i=Math.max(i,a)),s=""+i),this.Ah(s,n>0,false)},n.Eh=function(t){return isNaN(t)&&(t=this.default),t=null!=this.min?Math.max(this.min,t):t,null!=this.max?Math.min(this.max,t):t},n})(_),M=(function(t){function n(i,e){var o=t.call(this,i,e)||this,r=o.lu.dataset.converter||"",s=r?r.split(" "):[];return o.lu.oninput=o.nh,o.Fh=s,o.zh=false,s.indexOf("chars")>=0&&(o.ah=n.Ih),o}return x(n,t),n.prototype.oh=function(){t.prototype.oh.call(this),this.zh=this.Fh.indexOf("chars")>=0&&n.Ih.hh(this.gl)===this.gl},n.prototype.sh=function(t,n){var i=t.replace(/ /g,"\xa0");true!==n?this.lu.value=i:this.Ah(i,true,true)},n.prototype.vh=function(){var t=this.lu.value.trim().replace(/\xa0/g," "),i=this.Fh;return t&&i.length>0&&(i.indexOf("lower")>=0&&(t=t.toLowerCase()),i.indexOf("upper")>=0&&(t=t.toUpperCase()),this.zh&&(t=n.Uh(t))),t},n.Uh=function(t){var n,i,e,o="";for(n=0,i=t.replace(/\s/g,"");n<i.length;n++)o.includes(e=i[n])||(o+=e);return o},n.Ih={hh:function(t){return n.Uh(t)}},n})(_),D=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return x(n,t),n.prototype.vh=function(){var n=t.prototype.vh.call(this);return n||(n=N.Tc[this.th],this.sh(n,true)),n},n})(M),M.prototype.Ah=E.prototype.Ah=function(t,n,i){n&&(this.Wh=true,document.activeElement!==this.lu&&this.lu.focus(),document.execCommand("undo")),this.Wh=i,this.lu.select(),document.execCommand("insertText",false,t),this.Wh=false},L=(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return x(n,t),n.prototype.sh=function(n,i){var e=this.lu instanceof HTMLInputElement,o=JSON.stringify(n,null,e?1:2),r=e?o.replace(/(,?)\n\s*/g,function(t,n){return n?", ":""}):o;t.prototype.sh.call(this,r,i)},n.prototype.vh=function(){var n=t.prototype.vh.call(this),i=null;if(n)try{i=JSON.parse(n)}catch(t){}else i=N.Tc[this.th],this.sh(i,true);return i},n})(M),H=(function(t){function n(n,i){var e=t.call(this,n,i)||this;return e.qh=true,O(function(){e.lu.classList.add("masked")}),e.Qh=e.Xh.bind(e),e.lu.addEventListener("focus",e.Qh),e}return x(n,t),n.prototype.Xh=function(){this.Qh&&(this.lu.removeEventListener("focus",this.Qh),this.lu.classList.remove("masked"),this.Qh=null,this.qh=false,this.lu.removeAttribute("placeholder"),this.oh())},n.prototype.sh=function(n,i){if(this.qh){var e=this.lu.dataset.mask||"";(e=s(e||"clickToUnmask")||e)&&(this.lu.placeholder=e)}else t.prototype.sh.call(this,n,i)},n.prototype.vh=function(){return this.qh?this.gl:t.prototype.vh.call(this)},n})(M),L.prototype.gh=_.mh,A=(function(t){function n(i,e){var o=t.call(this,i,e)||this,r=i.dataset.map;return o.Yh=r?JSON.parse(r):o.lu.dataset.allowNull?n.Zh:n.td,o.ud=o.Yh.length-1,o.ud>1&&"vimSync"!==o.th&&o.lu.addEventListener("change",o.onTripleStatusesClicked.bind(o),true),o.lu.onchange=o.nh,o}return x(n,t),n.prototype.sh=function(t){this.lu.checked=t===this.Yh[this.ud],this.lu.indeterminate=this.ud>1&&t===this.Yh[1],this.fd=Math.max(0,this.Yh.indexOf(t))},n.prototype.vh=function(){var t=this.lu.indeterminate?this.Yh[1]:this.Yh[this.lu.checked?this.ud:0];return"ignoreCapsLock"===this.th&&window.VDom&&VDom._&&(VDom._.i=t>1||1===t&&!N.gc.o),t},n.prototype.onTripleStatusesClicked=function(t){t.preventDefault();var n=this.fd;this.fd=2===n?1:n?0:2,this.lu.indeterminate=2===n,this.lu.checked=2===this.fd},n.td=[false,true],n.Zh=[false,null,true],n})(_),J.prototype.Rh=function(n){var i,e,o,r,s,a;if(this.U_.length===n)for(n&&!u.Exclusions&&u.r.Ma("Exclusions"),e=(i=t("#exclusionToolbar")).querySelectorAll("[data-model]"),i.style.visibility=n?"":"hidden",o=0,r=e.length;o<r;o++)(a=(s=_.wh[e[o].id]).lu.parentNode.style).visibility=n||s.ih?"":"visible",a.display=!n&&s.ih?"none":""},M.prototype.hd=function(t,n,i){var e,o,r,s;null!=i||(i=!!t),o=(e=this.lu).classList,r=e.parentElement,s=(s=e.nextElementSibling)&&s.classList.contains("tip")?s:null,O(function(){i?(null==s&&((s=document.createElement("div")).className="tip",r.insertBefore(s,e.nextElementSibling)),s.textContent=t,null!==n&&o.add(n||"has-error")):(o.remove("has-error"),o.remove("highlight"),s&&s.remove())})},P&&O(P),O(function(t){var n=document.documentElement.classList,i="DOMContentLoaded",e=function(){removeEventListener(i,e),N.gc.d&&n.add("auto-dark"),N.gc.m&&n.add("less-motion")};addEventListener(i,e),t.textContent=N.me.Qc},t(".version")),F=function(){function n(){this.Wh||((this.ih=this.gh(this.vh(),this.gl))?S&&!_.Gh()&&(T.disabled=true,T.firstChild.data=s("o115"),x.disabled=false,S=false,window.onbeforeunload=null):S||(window.onbeforeunload=e,S=true,T.disabled=false,T.firstChild.data=s("o115_2"),x.disabled=true))}function i(t){var n,i,e,o=Object.create(null),r={N:6,d:o};for(n=0,i=t;n<i.length;n++)e=i[n],o[N.Rc[e]]=N.Sc(e);N.Pc(r)}function e(){return s("beforeUnload")}var o,r,a,c,f,h,l,d,p,g,m,v,b,T=t("#saveOptions"),x=t("#exportButton"),S=false;for(T.onclick=function(t){if(false===t||_.Ch()){var n=_.ph;_.ph=[],this.disabled=true,this.firstChild.data=s("o115_3"),x.disabled=false,S=false,window.onbeforeunload=null,0!==n.length&&setTimeout(i,100,n)}},o=false,(r=t("#advancedOptionsButton")).onclick=function(n,i){var e,r=this;null==i||"hash"===i&&false===N.Sc("showAdvancedOptions")?(o=!o,N.xc("showAdvancedOptions",o)):o=N.Sc("showAdvancedOptions"),e=t("#advancedOptions"),O(function(){e.previousElementSibling.style.display=e.style.display=o?"":"none";var t=o?"Hide":"Show";r.firstChild.data=s(t)||t,r.setAttribute("aria-checked",""+o)},9)},r.onclick(null,true),a=w("[data-model]"),c={Number:E,Text:M,NonEmptyText:D,JSON:L,MaskedText:H,Boolean:A,ExclusionRules:J},f=a.length;0<=--f;)(h=new(0,c[(r=a[f]).dataset.model])(r,n)).oh(),_.wh[h.th]=h;for(O(function(){var t,n=_.wh;for(t in _.rh=false,n)n[t].sh(n[t].gl)}),_.wh.exclusionRules.gl.length>0&&O(function(t){t.style.visibility=""},t("#exclusionToolbar")),f=(a=w("[data-check]")).length;0<=--f;)(r=a[f]).addEventListener(r.dataset.check||"input",V);for(document.addEventListener("keyup",function(t){var n=t.target,i=t.keyCode;if(13===i){if(n instanceof HTMLAnchorElement)n.hasAttribute("href")||setTimeout(function(t){G(t),t.blur()},0,n);else if((t.ctrlKey||t.metaKey)&&(n.blur&&n.blur(),S))return T.onclick()}else{if(32!==i)return;n instanceof HTMLSpanElement&&n.parentElement instanceof HTMLLabelElement&&(t.preventDefault(),G(n.parentElement.control))}}),l=function(){var n,i,e=t("#"+this.dataset.autoResize),o=e.scrollHeight,r=e.scrollWidth,s=r-e.clientWidth;o<=e.clientHeight&&s<=0||(n=Math.max(Math.min(innerWidth,1024)-120,550),e.style.maxWidth=r>n?n+"px":"",e.style.height=e.style.width="",i=e.offsetHeight-e.clientHeight,o+=i=(s=r-e.clientWidth)>0?Math.max(26,i):i+18,s>0&&(e.style.width=e.offsetWidth+s+4+"px"),e.style.height=o+"px")},f=(a=w("[data-auto-resize]")).length;0<=--f;)a[f].onclick=l;for(l=function(t){var n=this.dataset.delay,i=null;"continue"!==n&&t&&t.preventDefault(),"event"===n&&(i=t||null),window._d=["#"+this.id,i],"complete"!==document.readyState?window.addEventListener("load",function t(n){n.target===document&&(window.removeEventListener("load",t),B("options_ext.js"))}):B("options_ext.js")},f=(a=w("[data-delay]")).length;0<=--f;)a[f].onclick=l;if(R<53)for(l=function(t){t.target===this&&(t.preventDefault(),getSelection().selectAllChildren(this))},f=(a=w(".sel-all")).length;0<=--f;)a[f].onmousedown=l;for((d=_.wh.keyMappings).uh=function(){var t,n,i=N.uc.fc,e=i?s("openBgLogs",[s(1===i?"error":"errors",[i])]):"";N.gc.l&&!e&&(t=Object.keys(u.c.xs).join(""),t+=(n=u.c.Ts)?Object.keys(n).join(""):"",/[^ -\xff]/.test(t))?this.hd(s("ignoredNonEN"),null):this.hd(e)},d.uh(),p=_.wh.linkHintCharacters,g=_.wh.linkHintNumbers,d=m=_.wh.filterLinkHints,p.uh=g.uh=function(){this.hd(!this.lu.style.display&&this.gl.length<4?s("hintCharsTooFew"):"")},d.uh=function(){O(function(t){var n=m.vh();t.style.display=g.lu.style.display=n?"":"none",p.lu.style.display=n?"none":"",p.uh(),g.uh()},t("#waitForEnterBox"))},d.uh(),d.lu.addEventListener("change",d.uh.bind(d),true),(d=_.wh.vomnibarPage).uh=function(){var t=this.lu,n=this.gl,i=n.startsWith(location.protocol)||n.startsWith("front/");if(R<50)return O(function(){t.style.textDecoration=i?"":"line-through"}),this.hd(n===N.Tc.vomnibarPage?"":s("onlyExtVomnibar",[50]),null);if(n=N._.vomnibarPage_f||n,i);else{if(n.startsWith("file://"))return this.hd(s("fileVomnibar"),"highlight");if(n.startsWith("http://"))return this.hd(s("httpVomnibar"),"highlight")}return this.hd("")},d.uh(),(a=w("[data-permission]")).length>0&&(function(t){function n(){var t,n=this.querySelector("[data-permission]");this.onclick=null,n&&(t=n.dataset.permission,n.placeholder=s("lackPermission",[t?': "'+t+'"':""]))}var i,e,o,r,u=chrome.runtime.getManifest();for(i=0,e=u.permissions||[];i<e.length;i++)u[e[i]]=true;for(o=function(i){var e=t[i],o=e.dataset.permission;if("C"===o[0]){if(R>=+o.slice(1))return"continue";o=s("beforeChromium",[o.slice(1)])}else{if(o in u)return"continue";o=s("lackPermission",[o?":\n* "+o:""])}o=s("invalidOption",[o]),O(function(t){t.disabled=true,t instanceof HTMLInputElement&&"checkbox"===t.type?(t.nextElementSibling.tabIndex=-1,(t=t.parentElement).title=o):(t.value="",t.title=o,t.parentElement.onclick=n)},e)},r=t.length;0<=--r;)o(r)})(a),0===u.l.me.as.length&&O(function(t){for(var n=t.length;0<=--n;)t[n].remove()},w(".require-shortcuts")),O(function(t){var n,i,e;for(n=t.length;0<=--n;)e=(i=t[n]).dataset.href,e=u.r.ma(e,null,-1),i.removeAttribute("data-href"),i.setAttribute("href",e)},w("[data-href]")),r=t("#openExtensionPage"),R<65&&(r.href="chrome://extensions/configureCommands"),r.onclick=function(t){t.preventDefault(),u.a.Lr({u:this.href,r:1,p:true})},O(function(t){var i=t.children[1],e=s("NewTabAdapter");i.title=e+" - "+s("webstore")},t("#chromeExtVomnibar")),v=function(){var n=this;O(function(t){t.textContent=s(n.gl?"o145_2":"o144")},t("#"+this.lu.id+"Status"))},b=function(n){o||t("#advancedOptionsButton").onclick(null),n.preventDefault();var i=_.wh[this.getAttribute("for")].lu.nextElementSibling;R<61?window.VDom?VDom.it(i):i.scrollIntoViewIfNeeded():i.scrollIntoView({block:"center"}),i.focus(),window.VCui&&(VDom.dn(),VCui.ce(i.parentElement.parentElement))},f=(a=w(".ref-text")).length;0<=--f;)(d=_.wh[a[f].getAttribute("for")]).uh=v,d.uh(),a[f].onclick=b},z=function(){var n,i;F(),N.gc.o||O(function(t){t.textContent="Cmd"},t("#Ctrl")),(n=_.wh.newTabUrl).ah={hh:function(t){var n=/^\/?pages\/[a-z]+.html\b/i.test(t)?chrome.runtime.getURL(t):u.r.ma(t.toLowerCase());return n=n.split("?",1)[0].split("#",1)[0],!t.startsWith("http")&&(n in N.wc||/^(?!http|ftp)[a-z\-]+:\/?\/?newtab\b\/?/i.test(t))?N.Tc.newTabUrl:t}},n.ah.hh(n.gl),(i=_.wh.ignoreKeyboardLayout).uh=function(){O(function(t){t.style.display=i.vh()?"none":""},t("#ignoreCapsLockBox"))},i.uh(),i.lu.addEventListener("change",i.uh.bind(i),true),_.wh.userDefinedCss.uh=function(){var t,n;window.VDom&&VDom._&&(t=VCui.Ut,(n=t&&t.querySelector("style.debugged"))&&setTimeout(function(){var t,i,e,o,r,s;for(n.remove(),i=0,e=(t=VCui.Ut.querySelectorAll("iframe")).length;i<e;i++)r=(o=t[i]).classList.contains("HUD"),(s=o.contentDocument.querySelector("style.debugged"))&&(r?s.remove():s.classList.remove("debugged"));_.wh.userDefinedCss.lu.classList.remove("debugging")},500))},_.wh.autoDarkMode.uh=function(){document.documentElement.classList.toggle("auto-dark",this.gl)},_.wh.autoReduceMotion.uh=function(){document.documentElement.classList.toggle("less-motion",this.gl)},_.wh.exclusionRules.Sh=T,F=z=null,window.onhashchange()},t("#userDefinedCss").addEventListener("input",S(function(){var t,n,i,e,o,r,s,u,a,c,f,h,l,d,p,g,m,v,b,w;if(window.VDom&&VDom._){if(t=VCui.Ut,n=_.wh.userDefinedCss,i=t&&t.querySelector("style.debugged"))i.nextElementSibling&&t.appendChild(i);else{if(n.ih)return;(i=document.createElement("style")).className="debugged",e=function(){var t=localStorage.getItem("innerCSS"),n=t.indexOf("\n");t=t.substr(n+1,+t.slice(0,n).split(",")[2]),VCui.Gt(t),VCui.Ut.appendChild(i)},t?e():(VCui.Wt(i),i.remove(),setTimeout(e,200))}for(r=(o=n.vh())===n.gl,s=N.Lc(o),r?n.lu.classList.remove("debugging"):n.lu.classList.add("debugging"),i.textContent=s.ui||"",a=0,c=(u=t?t.querySelectorAll("iframe"):[]).length;a<c;a++)h=(f=u[a]).classList.contains("HUD"),l=f.contentDocument,d=h?VCui.jt.parentNode:l,(i=d.querySelector("style.debugged"))||(h?((p=N.Lc(N.Sc("userDefinedCss")).find||"")&&(g=N._.Oc.i,VCui.jt.textContent=g.slice(0,-p.length-1)),(i=l.createElement("style")).type="text/css",i.parentNode||d.appendChild(i)):((i=l.querySelector("#custom"))||((i=l.createElement("style")).type="text/css",i.id="custom"),i.parentNode||l.head.appendChild(i)),i.classList.add("debugged")),i.textContent=h?s.find||"":(r?"":"\n.transparent { opacity: 1; }\n")+(s.omni&&s.omni+"\n"||""),v=(m=window.VCui)&&m.Pt,h&&v&&(b=localStorage.getItem("findCSS"),w=parseInt(b,10),v.i=v.i.slice(0,w-v.c.length-v.s.length-1)+"\n"+(s.find||""))}},1800,t("#userDefinedCss"),0));R<43&&t("select").classList.add("font-fix"),t("#importButton").onclick=function(){var n=t("#importOptions");n.onchange?n.onchange(null):G(t("#settingsFile"))},O(function(n){var i,e,o=N.me.ts;n.textContent=(u.p?["MS Edge"]:/\bChromium\b/.exec(navigator.appVersion)||["Chrome"])[0]+" "+R+s("comma")+(s(o)||o[0].toUpperCase()+o.slice(1)),u.p&&((i=t("#chromeExtVomnibar")).nextElementSibling.remove(),i.parentElement.classList.add("line-input"),i.remove(),(i=t("#shortcutHelper")).previousElementSibling.textContent=s("period"),i.remove(),(e=t("#openExtensionPage")).textContent=e.href="edge://extensions/shortcuts")},t("#browserName")),document.addEventListener("keydown",function(n){var i,e,o,r,s;if(32!==n.keyCode){if(!window.VKey||!VKey._||VApi.ue())return;return i={c:" ",e:n,i:n.keyCode},e=VKey.yt(i).toLowerCase(),1===(o=VKey.xt(i))&&"f12"===e&&(t("#recommendedSettings").selected=true,(r=t("#importOptions")).onchange?r.onchange():setTimeout(function(){r.onchange&&r.onchange()},100)&&r.click()),void(o||"?"!==e||t("#showCommands").click())}"span"===(s=n.target).tagName&&"label"===s.parentElement.tagName&&n.preventDefault()}),window.onhashchange=function(){var n,i=location.hash;(i=i.slice("!"===i[1]?2:1))&&/^[a-z][a-z\d_-]*$/i.test(i)&&((n=t('[data-hash="'+i+'"]'))?n.onclick&&O(function(){n.onclick(null,"hash")}):(n=t("#"+i))&&O(function(){n.dataset.model&&n.classList.add("highlight");var t=function(t){if(!t||t.target===window){window.onload&&(window.onload=null,window.scrollTo(0,0));var i=n;window.VDom?VDom.it(i):(i.scrollIntoViewIfNeeded||i.scrollIntoView).call(i)}};if("complete"===document.readyState)return t();window.scrollTo(0,0),window.onload=t}))},N.Kc&&N.Kc()?N.Kc().then(z):z(),window.onunload=function(){u.removeEventListener("unload",C),u.r.ic(-1)},u.r.ic(1),u.addEventListener("unload",C),(I=u.c.Ls["?"])&&5===I._s||(function(){var n,i=u.c.Ls,e="";for(n in i)5===i[n]._s&&(e=e&&e.length<n.length?e:n);e&&O(function(t){return t.textContent=e},t("#questionShortcut"))})(),document.addEventListener("click",function t(){window.VDom&&VCui.Ut&&(document.removeEventListener("click",t,true),VCui.Ut.addEventListener("click",function(t){var n,i=t.target;VApi&&i.classList.contains("HelpCommandName")&&(n=i.textContent.slice(1,-1),VApi.Qt({H:16,s:n}))},true))},true);