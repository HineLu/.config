"use strict";r.Lt(200,function(){function t(t){if(U||t.v||(t.v=L.tf(t.u)),null==t.textSplit){t.title=n(t.title);var e=t.t,r=i(e);t.t=e.length!==t.u.length?r:"",t.textSplit=s(r,o(r),e.length-r.length,U?y-13-Math.min(t.title.length,40):y)}else t.t===t.u&&(t.t="")}function n(t){var n=t.length>y+40;return n&&(t=r.W(t,0,y+39)),e(n?t+"\u2026":t,o(t))}function e(t,n){var e,i,o,u,l;if(0===n.length)return r.Y(t);for(e="",i=0,o=0;o<n.length;o+=2)u=n[o],l=n[o+1],e+=r.Y(t.slice(i,u)),e+="<match>",e+=r.Y(t.slice(u,l)),e+="</match>",i=l;return e+r.Y(t.slice(i))}function i(t){var n=r.Xa(t);return!n||n>=t.length?t:t.slice(n,t.length-+(t.endsWith("/")&&!t.endsWith("://")))}function o(t){var n,e,i,r,o,l,s,f,c,a,_,g=[];for(n=0,e=k.length;n<e;n++)for(i=0,r=0,o=void 0,s=(l=t.split(W.nf[n])).length-1,f=k[n].length;i<s;i++,r=o)o=(r+=l[i].length)+f,g.push([r,o]);if(0===g.length)return g;if(1===g.length)return g[0];for(g.sort(u),c=g[0],n=1,a=1,e=g.length;a<e;a++)c[n]>=(_=g[a])[0]?c[n]<_[1]&&(c[n]=_[1]):(c.push(_[0],_[1]),n+=2);return c}function u(t,n){return t[0]-n[0]}function s(t,n,e,i){var o,u,l,s,f,c="",a=t.length,_=a,g="";if(a<=i||(e>1?_=t.indexOf("/")+1||a:(_=t.indexOf(":"))<0?_=a:r.la.test(t.slice(0,_+3).toLowerCase())?_=t.indexOf("/",_+4)+1||a:_+=22),_<a&&n.length)for(o=n.length,u=a+8;(o-=2)>-4&&u>=_;u=o<0?0:n[o])if(l=o<0?_:n[o+1],(s=u-20-Math.max(l,_))>0&&(a-=s)<=i){_=l+(i-a);break}for(a=0,o=0;a<i&&o<n.length;o+=2)(s=(u=n[o])-20-(f=Math.max(a,_)))>0?(i+=s,g=r.W(t,a,f+11),c+=r.Y(g),c+="\u2026",g=r.G(t,u-8,u),c+=r.Y(g)):a<u&&(g=t.slice(a,u),c+=r.Y(g)),g=t.slice(u,a=n[o+1]),c+="<match>",c+=r.Y(g),c+="</match>";return t.length<=i?(g=t.slice(a),c+r.Y(g)):(g=r.W(t,a,i-1>a?i-1:a+10),c+r.Y(g)+"\u2026")}function c(t){return $.ef(t.t,t.title)}function a(t){var n=(t-$.if)/18144e5;return n<0?0:n<1?n*n*.666667:n<1.000165?.666446:0}function _(t,n,e){var i=a(e),r=$.ef(t,n);return i<=r?r:(r+i)/2}function g(t,n){return n}var h=0,v=0,S=null,B=false,U=false,p=false,y=0,b=0,T=0,w=0,x=0,k=[""],R="",C="",M=false,E=false,O="",D=0,N=null,j=true,P=function(t,n,e,i,r,o){this.e=t,this.u=n,this.t=e,this.title=i,this.r=r(this,o)},I={rf:[],uf:[],lf:null,sf:"",ff:0,hu:0,$s:function(t,n){if(0!==k.length&&1&D){if(2===I.hu)return I.cf(n);I.lf=[t,n]}else if(A.af([],1),0!==n)return;if(0===I.hu)return I._f()},gf:function(t){return 47===t.charCodeAt(0)},cf:function(t){var e,i,r,o,l,s,f,c,a,_=k.some(this.gf),m=this.rf,d=m.length,v=[];for(e=0;e<d;e++)$.mf((i=m[e]).hf,_?i.sf:i.df)&&(j||i.vf)&&v.push([-$.ef(i.hf,i.df),e]);for(w+=v.length,1!==h&&0!==x||(v.sort(u),x>0?(v=v.slice(x,x+b),x=0):v.length>b&&(v.length=b)),r=[],o=2!==t?0:-.6664465595617282,l=0,s=v;l<s.length;l++)c=(f=s[l])[0],o&&(c=o>c?c:(c+o)/2),a=new P("bookm",(i=m[e=f[1]]).Ha,i.hf,_?i.sf:i.df,g,-c),r.push(a),null!==i.Sf&&(a.u=i.Sf,a.title=n(a.title),a.textSplit="javascript: \u2026",a.t=i.Bf);A.af(r,1)},Uf:function(){var t=chrome.bookmarks;t.onCreated.addListener(I.pf),t.onRemoved.addListener(I.yf),t.onChanged.addListener(I.yf),t.onMoved.addListener(I.pf),t.onImportBegan.addListener(function(){chrome.bookmarks.onCreated.removeListener(I.pf)}),t.onImportEnded.addListener(function(){var t=I.pf;chrome.bookmarks.onCreated.addListener(t),t()})},_f:function(){I.hu=1,I.Ge&&(clearTimeout(I.Ge),I.Ge=0),chrome.bookmarks.getTree(I.bf)},bf:function(t){I.hu=2,I.rf=[],I.uf=[],t.forEach(I.Tf,I);var n=I.lf;if(I.lf=null,setTimeout(function(){return K.wf(I.rf)},50),I.Uf&&(setTimeout(I.Uf,0),I.Uf=null),n&&!n[0].o)return I.cf(n[1])},Tf:function(t){var n,e,i,o,u=t.title,l=t.id,s=I.sf+"/"+(u||l);if(t.children)return I.uf.push(l),n=I.sf,2<++I.ff&&(I.sf=s),t.children.forEach(I.Tf,I),--I.ff,void(I.sf=n);o=(e=t.url).startsWith(i="javascript:"),I.rf.push({xf:l,sf:s,df:u||l,hf:o?i:e,vf:N?H.kf(e,u):1,Ha:o?i:e,Sf:o?e:null,Bf:o?r.da(e):null})},Ge:0,Rf:0,Cf:false,Mf:function(){var t=performance.now()-I.Rf;0===I.hu&&(t>=6e4||t<-5e3?(I.Ge=I.Rf=0,I.Cf=false,I._f()):(I.rf=[],I.uf=[],I.Ge=setTimeout(I.Mf,3e4)))},pf:function(){I.Rf=performance.now(),I.hu<2||(I.Ge=setTimeout(I.Mf,6e4),I.hu=0)},yf:function(t,n){for(var e,i,r,o,u,l,s,f=I.rf,c=f.length,a=n&&n.title,_=0;_<c&&f[_].xf!==t;_++);if(_<c)return i=(e=f[_]).Ha,r=n&&n.url,K.Ul&&(null==a?i!==e.hf||!n:null!=r&&i!==r)&&i in K.Ef&&z.Of(i)<0&&delete K.Ef[i],void(null!=a?(e.sf=e.sf.slice(0,-e.df.length)+(a||e.xf),e.df=a||e.xf,r&&(e.Ha=r,e.hf=K.Hr(r,e),K.Df()),N&&(e.vf=H.kf(e.Ha,e.df))):(f.splice(_,1),n||I.pf()));if(!(I.uf.indexOf(t)<0)){if(null!=a)return I.pf();if(!I.Cf&&K.Ul){for(o=K.Ef,u=z.Of,l=0,s=f;l<s.length;l++)(i=s[l].Ha)in o&&u(i)<0&&delete o[i];I.Cf=false}return I.pf()}}},F={$s:function(t,n){var e,i,r,o,u,l;if(!(2&D))return A.af([],2);if(i=k.length>0,1===h&&(h=i&&0!==n?67:3),e=z.Nf){if(i)return A.af(F.jf(e),2);(z.Pf>10||z.If>0)&&z.Ff()}else if(r=i?function(n){if(!t.o)return A.af(F.jf(n),2)}:null,i&&(U||z.Jf)?(z.Jf>0&&clearTimeout(z.Jf),z.Jf=0,z.Vf(r)):(z.Jf||(z.Jf=setTimeout(function(){z.Jf=0,z.Vf(r)},i?200:150)),i&&A.Lf((l=(u=(o=A.Af).length)>0)&&"search"===o[0].t?[o[0]]:[],B&&l,0,0,u)),i)return;B=false,0===n?A.qf(F.$f,t):chrome.sessions?chrome.sessions.getRecentlyClosed(F.Qf.bind(F,t)):F.Wf([],t,{},0,0)},jf:function(t){var n,e,i,o,u=1===k.length&&("."===k[0][0]?/^\.\w+$/.test(k[0]):(r.ma(k[0],null,-2),r.fa<=2)),l=[-1.1,-1.1],s=[],f=$.mf,c=W.nf[0],m=b+(3==(63&h)?x:0),d=0,v=0,S=0;for(O&&m++,v=m;--v;)l.push(-1.1,-1.1);for(m=2*m-2,n=-1.1,e=t.length;d<e;d++)if(i=t[d],(u?c.test(i.hf):f(i.hf,i.df))&&(j||i.vf)&&(S++,!(n>=(o=u?a(i.zf)||1e-16*i.zf:_(i.hf,i.df,i.zf))))){for(v=m-2;0<=v&&l[v]<o;v-=2)l[v+2]=l[v],l[v+3]=l[v+1];l[v+2]=o,l[v+3]=d,n=l[m]}for(w+=S,3===h?(d=2*x,x=0):d=0;d<=m&&!((o=l[d])<=0);d+=2)(i=t[l[d+1]]).Ha!==O&&s.push(new P("history",i.Ha,i.hf,i.df,g,o));return K.Df(),s},$f:function(t,n){var e,i,o,u,l,s;if(!t.o){for(e=r.ia(),i=0,o=0,u=n;o<u.length;o++)s=(l=u[o]).url,l.incognito&&S||s in e||(e[s]=1,i++);return F.Wf([],t,e,x,i)}},Qf:function(t,n){var e,i,r;if(!t.o)return e=[],i={},r=3===h?-x:0,n.some(function(t){var n,o,u=t.tab;return!(!u||((n=u.url).length>2e3&&(u.url=n=z.Hf(n,u)),!j&&!H.kf(n,u.title)||(o=n+"\n"+u.title)in i||(i[o]=1,i[n]=1,++r>0&&e.push(u),!(e.length>=b))))})?F.Gf(e):F.Wf(e,t,i,-r,0)},Wf:function(t,n,e,i,r){chrome.history.search({text:"",maxResults:x+b*(j?1:2)+r},function(r){if(!n.o)return r=r.filter(function(t){var n=t.url;return n.length>2e3&&(t.url=n=z.Hf(n,t)),!(n in this)},e),j||(r=r.filter(function(t){return H.kf(t.url,t.title||"")})),i<0?(r.length=Math.min(r.length,b-t.length),r=t.concat(r)):i>0&&(r=r.slice(i,i+b)),F.Gf(r)})},Gf:function(t){t.forEach(F.Kf),x=0,K.Df(),A.af(t,2)},Kf:function(t,n,e){var i=t.url,r=new P("history",i,K.Hr(i,i),t.title||"",g,(99-n)/100),o=t.sessionId;o&&(r.s=o,r.label="&#8617;"),e[n]=r}},J={$s:function(t,n){if(1!==k.length||2===h||!(4&D)||k[0].lastIndexOf("/",k[0].length-2)>=0)return A.af([],4);if(z.oa);else{if(!z.Nf)return n>0?A.af([],4):z.Vf(function(){if(!t.o)return J.$s(t,0)});this._f(z.Nf)}return this.cf()},cf:function(){var n,e,i,o,u,l,s,f,c,a,m,h,d,v,S,U=r.oa,p=$.Xf,y=k[0].replace("/","").toLowerCase(),T="",R=-1.1;for(i in $.Xf=3,U)i.includes(y)&&(e=U[i],(j||e.Se>0)&&(o=_(i,"",e.zf))>R&&(R=o,T=i));u=T.length===y.length,T&&!u&&(T.startsWith("www.")||T.startsWith(y)||(l=T.slice(T.indexOf(".")+1)).includes(y)&&(void 0,(s=U[l="www."+l])&&(j||s.Se>0)&&(T=l,e=s)),(f=T.startsWith(y)?0:T.startsWith("www."+y)?4:-1)>=0&&(h=(a=(c=r.Ta(T))[0]).length-1,(m=c[1])>1&&(!(f=T.length-f-y.length-a[h].length-1)||3===m&&f===a[h-1].length+1)&&(u=true))),T&&(w++,O=d=(e.ya?"https://":"http://")+T+"/",x>0?x--:(B=u||B,t(n=new P("domain",d,y===k[0]?T:T+"/","",g,2)),(S=(v=z.Yf?z.Of(d):-1)>0?z.Nf[v]:null)&&(j||S.vf)&&(n.title=r.Y(S.df)),--b)),$.Xf=p,A.af(n?[n]:[],4)},_f:function(t){var n,e,i,o,u,l,s,f,c,a,_;for(this._f=null,n=this.Zf,e=z.oa=r.oa,i=0,o=t;i<o.length;i++)l=(u=o[i]).zf,s=u.vf,(f=n(u.Ha))&&(a=f.E_,(_=e[c=f.O_])?(_.zf<l&&(_.zf=l),_.Se+=s,a>=7&&(_.ya=8===a?1:0)):e[c]={zf:l,Se:s,ya:8===a?1:0})},Zf:function(t){var n,e,i=t.lastIndexOf(":",5),r=i>0?t.slice(0,i):"";if("http"===r)n=7;else if("https"===r)n=8;else{if("ftp"!==r)return null;n=6}return e=t.indexOf("/",n),{O_:"__proto__"!==(t=t.slice(n,e<0?t.length:e))?t:".__proto__",E_:n}}},V={$s:function(t){if(!(16&D))return A.af([],16);A.qf(this.cf,t)},cf:function(t,n){var e,i,o,u,l,s,f,a,_,g,d,v,B,y,R,C,E,O,D,N,j,I,F,J,L,q,Q,W,z,H,G,X,Y,Z,tt,nt,et,it;if(!t.o){if(1===h&&(h=4),e=m.Hl,i=k.length<=0,u=[],(o=p&&M&&i&&!U)&&n.length>x){for(l=r.ia(),s=0,f=n;s<f.length;s++)l[(a=f[s]).id]=a;if(n.length>T){for(v=(d=(g=(_=l[e])?_.openerTabId:0)?l[g]:null)?d.index:_?_.index-1:0,B=d?0:T/2|0;1<--B&&v>0&&n[v-1].openerTabId===g;v--);v>0&&(y=n.splice(0,v),n=n.concat(y))}}for(R=[],C=[],E=0,O=n;E<O.length;E++)a=O[E],!M&&S&&a.incognito||(N=K.Hr(D=a.url,a.incognito?"":D),(i||$.mf(N,a.title))&&(j=a.windowId,!M&&C.lastIndexOf(j)<0&&C.push(j),R.push({t:a,s:N})));if(w+=R.length,x>=R.length)return 4===h?x=0:x-=R.length,A.af(u,16);if(C.sort(V.D_),I=i?o?V.P_:V.F_:c,F=o?r.ia():null,J=C.length>1?m.Is:0,L=0,o)for(q=0,Q=R;q<Q.length;q++)F[(a=Q[q].t).id]=(z=(W=a.openerTabId)&&F[W])?z<5?z+1:5:1;for(H=0,G=R;H<G.length;H++)a=(X=G[H]).t,N=X.s,Y="#",J&&a.windowId!==J&&(Y+=C.indexOf(a.windowId)+1+":"),Y+=a.index+1,!S&&a.incognito&&(Y+="*"),a.discarded&&(Y+="~"),Z=a.id,tt=o?F[Z]:1,nt=new P("tab",a.url,N,a.title,I,o?++L:Z),e===Z&&(o||(nt.r=1),Y="#("+Y.slice(1)+")"),tt>1&&(nt.level=" level-"+tt),nt.s=Z,nt.label=Y,u.push(nt);if(4!==h&&0!==x);else if(u.sort(A.J_).length>x+b||!i)x>0?(u=u.slice(x,x+b),x=0):u.length>b&&(u.length=b);else if(x>0){for(B=0,it=et=(u=u.slice(x).concat(u.slice(0,b+x-u.length))).length;B<et;B++)u[B].r=it--;x=0}K.Df(),A.af(u,16)}},D_:function(t,n){return t-n},F_:function(t,n){return m.Es[n]||-n},P_:function(t,n){return 1/n}},L={Na:0,$s:r.C,V_:function(t,n){var e,i,o,u,s,f,c,a,_,g;if(!(8&D))return A.af([],8);if(o=(i=k).length>0?i[0]:"",0===i.length);else{if(true!==n&&"\\"===o[0]&&"\\"!==o[1])return o.length>1?i[0]=o.slice(1):i.shift(),o=R.slice(1).trimLeft(),e=L.L_(o),B=true,b--,w++,j=j&&H.q_([o]),A.af([e],8);u=l._.searchEngineMap[o]}if(true===n){if(!u)return true}else{if(!u&&!o.startsWith("vimium://"))return 0===v&&i.length<=1&&(v=i.length?L.Q_():-1),A.af([],8);B=true,b--,w++,1===h&&u&&(i.push(C),x=0),i.length>1||!u?h=2:v=-1}if(i.length>1&&u?(i.shift(),R.length>200&&(i=R.split(" ")).shift()):u&&(i=[]),j=j&&H.q_([o]),u?(c=s=(a=r.Da(i,u.Ha,u.C,[])).Ha,f=a.qa):(c=s=i.join(" "),f=[]),"~"===o);else if(s.startsWith("vimium://")){if(_=r.ha(s.slice(9),1,true),g=L.W_.bind(L,i,s,c,u,f),_ instanceof Promise)return _.then(L.z_.bind(L,t,g));if(_ instanceof Array)return L.z_(t,g,_);_&&(s=c=_,f=[])}else s=r.ma(s,null,-2);return e=L.W_(i,s,c,u,f),A.af([e],8)},z_:function(t,n,e){var i,o,u,l,s;switch(t.o?"":e[1]){case 5:case 6:if(!(o=e[0]))break;return o=o.length>200?o.slice(0,200).trim():o,C="",(k=(R="\\ "+o).split(" ")).length>1&&(k[1]=r.Fa(k[1])),L.V_(t);case 2:if(k=(u=e[0]).length>1||1===u.length&&u[0]?u:k,(l=L.Na++)>12)break;if(s=L.V_(t,true),l<=0&&(L.Na=0),true!==s)return s;case 0:e[0]&&(i=L.H_(n(),e))}A.af(i||[n()],8)},W_:function(t,n,o,u,l){var s=new P("search",n,o,(u?u.Wa+": ":"")+t.join(" "),g,9);return t.length>0&&u?(s.t=L.G_(o,l),s.title=e(s.title,[u.Wa.length+2,s.title.length]),s.textSplit=e(s.t,l)):(s.t=r.da(i(o)),s.title=r.Y(s.title),s.textSplit=r.Y(s.t)),U||(s.v=u&&u.C||L.tf(n)),s.p=u?u.Wa:"",s},H_:function(t,n){var e=n[0],i=new P("math","vimium://copy "+e,e,e,g,9);return--i.r,i.title='<match style="text-decoration: none;">'+r.Y(i.title)+"<match>",i.textSplit=r.Y(n[2]),b--,w++,[t,i]},tf:function(t){for(var n=z.Yf&&t.startsWith("http")?z.Of(t):-1,e=n<0?~n-1:n,i=e<0?[]:z.Nf,r=t.indexOf(":")+3,o=0,u=0,l="",s="",f=0,c=0;o<=e&&(r="/"===t[r]?r+1:t.indexOf("/",r+1)+(u?0:1))>0;u=r){for(l=t.slice(u,r),c=e;o<=c;)if((s=i[f=o+c>>>1].Ha.slice(u))>l)c=f-1;else{if(s===l)return u?i[f].Ha:"";o=f+1}if(o<=e&&u&&"/"===(l=i[o].Ha)[r]&&l.length<=++r)return l}return""},K_:0,b_:0,Q_:function(){var t=k[0],n=l._.searchKeywords;return null==n?(L.b_=L.b_||setTimeout(L.X_,67),-2):t.length>=L.K_?0:n.includes("\n"+t)?-2:0},G_:function(t,n){var e,i,o,u=n.length;if(i=r.da(n.length>0?t.slice(0,n[0]):t),(e=r.Xa(i))&&(i=i.slice(e),e=0),n.length<=0)return i;for(o=n[0];n[e]=i.length,u>++e;)i+=r.da(t.slice(o,n[e])),o=n[e];return o<t.length&&(i+=r.da(t.slice(o))),i},L_:function(t){var n=r.ma(t,null,-2),o=4===r.fa,u=new P("search",n,r.da(i(n)),"",g,9);return u.title=o?"~: "+e(t,[0,t.length]):r.Y(t),u.textSplit=r.Y(u.t),U||(u.v=L.tf(n)),u.p=o?"~":"",u},X_:function(){var t,n,e,i=Object.keys(l._.searchEngineMap),r=0;for(n=0,e=i;n<e.length;n++)r<(t=e[n].length)&&(r=t);l.xc("searchKeywords","\n"+i.join("\n")),L.K_=r,L.b_=0}},A={Y_:0,Z_:0,Af:null,tg:null,Lf:null,$s:function(t){var n,e,i,r;if(A.tg&&(A.tg.o=true),n=A.tg={o:false},A.Z_=0,e=0,i=A.Y_=-9&D?t.length:1,A.Af=[],v=x&&-1,t[0]===L){if(r=L.V_(n),i<2)return;if(r)return void r.then(A.ng.bind(null,t,n,e));e=1}A.ng(t,n,e)},ng:function(t,n,e){for($.if=Date.now()-18144e5,$.Xf=3*k.length||.01,k.indexOf("__proto__")>=0&&(k=k.join(" ").replace(/(^| )__proto__(?=$| )/g," __proto_").trimLeft().split(" ")),k.sort(A.eg),W.ig();e<t.length;e++)t[e].$s(n,e)},eg:function(t,n){return n.length-t.length||(t<n?-1:t===n?0:1)},qf:function(t,n){var e=t.bind(null,n);return null===S&&(S=1!==m.ms?2!==m.ms:f>=52||l.me.Jc||null),null!==S?chrome.tabs.query(M?{currentWindow:true}:{},e):chrome.windows.getCurrent({populate:M},function(t){if(!n.o){if(S=!t||!t.incognito,m.ms=S?0:2,M)return e(t.tabs);chrome.tabs.query({},e)}})},af:function(t,n){var e=A.Af;if(t.length>0&&(A.Z_|=n,A.Af=0===e.length?t:e.concat(t)),0==--A.Y_)return e=null,A.rg()},rg:function(){var n,e,r,o,u,l,s,f,c,a,_=A.Af;return A.Af=null,_.sort(A.J_),x>0?(_=_.slice(x,x+T),x=0):_.length>T&&(_.length=T),W.og=W.ug=null,k.length>0&&(e=i(n=k[0]),((r=n.length!==e.length)||n.endsWith("/")&&n.length>1)&&(k[0]=r?e:n.slice(0,-1),W.lg())),_.forEach(t),o=_.length>0,u=B&&o,l=w,s=":"===R&&!E,c=2!=(f=v<0?-2!==v||o?0:3:j?k.length<=0?0:o?2:s?3:1:0)||s?0:A.Z_,a=A.Lf,A.sg(),a(_,u,f,c,l)},sg:function(){A.tg=A.Lf=S=null,k=[],R=C=O="",W.nf=null,$.Xf=3,$.if=v=A.Z_=b=T=w=y=0,h=0,B=U=E=false,M=false,j=true},fg:function(){var t,n,e=R;if(x=0,h=0,C="",!(0===e.length||(t=(e=e.slice(-5)).lastIndexOf("+"))<0||0!==t&&32!==e.charCodeAt(t-1))){if(e=e.slice(t),t=R.length-e.length,(n=parseInt(e,10))>=0&&"+"+n===e&&n<=(t>0?100:200))x=n;else if("+"!==e)return;R=R.slice(0,t&&t-1),C=e,h=1}},J_:function(t,n){return n.r-t.r}},q={__proto__:null,bookm:[I],domain:[J],history:[F],omni:[L,J,F,I],bomni:[L,J,I,F],search:[L],tab:[V]},$={mf:function(t,n){var e,i,r=W.nf;for(e=0,i=k.length;e<i;e++)if(!(r[e].test(t)||r[e].test(n)))return false;return true},Xf:3,cg:[0,0],ag:function(t,n){var e,i=0;return(e=n.split(W.nf[t]).length)<1?this.cg:(i=1,W.ug[t].test(n)&&(i+=1,W.og[t].test(n)&&(i+=1)),[i,(e-1)*k[t].length])},ef:function(t,n){var e,i,r,o=0,u=0,l=0,s=0,f=!!n;for(W.ug||W._g(),e=0,i=k.length;e<i;e++)s+=(r=this.ag(e,t))[0],l+=r[1],f&&(u+=(r=this.ag(e,n))[0],o+=r[1]);return s=s/this.Xf*this.gg(l,t.length),0===o?n?s/2:s:s<(u=u/this.Xf*this.gg(o,n.length))?u:(s+u)/2},if:0,gg:function(t,n){return t<n?t/n:n/t}},Q=/[$()*+.?\[\\\]\^{|}]/g,W={nf:null,ug:null,og:null,ig:function(){var t,n,e,i=this.nf=[];for(this.ug=this.og=null,t=0,n=k;t<n.length;t++)e=n[t],i.push(new RegExp(e.replace(Q,"\\$&"),r.oc(e)?"":"i"))},_g:function(){var t,n,e,i,o,u=this.ug=[],l=this.og=[];for(t=0,n=k;t<n.length;t++)i="\\b"+(e=n[t]).replace(Q,"\\$&"),o=r.oc(e)?"":"i",u.push(new RegExp(i,o)),l.push(new RegExp(i+"\\b",o))},lg:function(){if(this.nf){var t=k[0];this.nf[0]=new RegExp(t.replace(Q,"\\$&"),r.oc(t)?"":"i")}}},z={mg:0,Pf:0,If:0,Yf:false,Jf:0,Nf:null,Wl:null,oa:null,Vf:function(t){z.Wl?t&&z.Wl.push(t):(z.Wl=t?[t]:[],z.mg=Date.now(),z.Jf||chrome.history.search({text:"",maxResults:2e4,startTime:0},function(t){setTimeout(z.hg,0,t)}))},hg:function(t){var n,e,i,r,o,u,l;for(z.hg=null,n=0,e=t.length;n<e;n++)(r=(i=t[n]).url).length>2e3&&(r=z.Hf(r,i)),t[n]={hf:r,df:i.title,zf:i.lastVisitTime,vf:1,Ha:r};if(N)for(o=0,u=t;o<u.length;o++)0===H.kf((l=u[o]).hf,l.df)&&(l.vf=0);setTimeout(function(){setTimeout(function(){var t,n,e,i,r,o,u,l,s=z.Nf;for(t=s.length-1;0<t;)for(r=(i=(n=s[t]).hf=K.Hr(e=n.Ha,n)).length>=e.length;0<=--t&&!((u=(o=s[t]).Ha).length>=e.length)&&e.startsWith(u);)o.Ha=e.slice(0,u.length),l=r?u:K.Hr(u,o),o.hf=r||l.length<u.length?i.slice(0,l.length):l;z.oa||setTimeout(function(){J._f&&J._f(z.Nf)},200)},100),z.Nf.sort(function(t,n){return t.Ha>n.Ha?1:-1}),z.Yf=true,chrome.history.onVisitRemoved.addListener(z.dg),chrome.history.onVisited.addListener(z.vg)},100),z.Nf=t,z.Vf=function(t){t&&t(z.Nf)},z.Wl&&z.Wl.length>0&&setTimeout(function(t){var n,e;for(n=0,e=t;n<e.length;n++)(0,e[n])(z.Nf)},1,z.Wl),z.Wl=null},vg:function(t){var n,e,i,r,o,u,l,s,f,c=t.url;if(c.length>2e3&&(c=z.Hf(c,t)),n=t.lastVisitTime,e=t.title,i=++z.Pf,r=z.oa,(o=z.Of(c))<0&&z.If++,(i>59||i>10&&Date.now()-z.mg>3e5)&&z.Ff(),u=o>=0?z.Nf[o]:{hf:"",df:e,zf:n,vf:N?H.kf(c,e):1,Ha:c},r&&(s=J.Zf(c))&&((l=r[s.O_])?(l.zf=n,o<0&&(l.Se+=u.vf),s.E_>=7&&(l.ya=8===s.E_?1:0)):r[s.O_]={zf:n,Se:u.vf,ya:8===s.E_?1:0}),o>=0)return u.zf=n,void(e&&e!==u.df&&(u.df=e,N&&(f=H.kf(c,e),u.vf!==f&&(u.vf=f,l&&(l.Se+=f||-1)))));u.hf=K.Hr(c,u),z.Nf.splice(~o,0,u)},dg:function(t){var n,e,i,o,u,l,s,f,c,a,_,g,m,h,d;if(K.Sg.length=0,n=K.Ef,t.allHistory){for(z.Nf=[],z.oa&&(z.oa=r.oa=r.ia()),e=r.ia(),i=0,o=I.rf;i<o.length;i++)(l=n[(u=o[i]).Ha])&&(e[u.Ha]=l);K.Ef=e}else for(f=(s=z).Of,c=s.Nf,a=s.oa,g=0,m=t.urls;g<m.length;g++)(u=f(h=m[g]))>=0&&(a&&c[u].vf&&(d=J.Zf(h))&&(_=a[d.O_])&&--_.Se<=0&&delete a[d.O_],c.splice(u,1),delete n[h])},Hf:function(t,n){var e=t.lastIndexOf(":",9),i=e>0&&"://"===t.substr(e,3),o=n.title;return t=t.slice(0,(i?t.indexOf("/",e+4):e)+320)+"\u2026",o&&o.length>160&&(n.title=r.W(o,0,160)),t},Ff:function(){var t=Date.now();if(z.If<=0);else{if(t<z.mg+1e3&&t>=z.mg)return;setTimeout(chrome.history.search,50,{text:"",maxResults:Math.min(999,z.Pf+10),startTime:t<z.mg?t-3e5:z.mg},z.Bg)}return z.mg=t,z.If=z.Pf=0,K.Df()},Bg:function(t){var n,e,i,r,o,u,l=z.Nf,s=z.Of;if(!(l.length<=0))for(n=0,e=t;n<e.length;n++){if((r=(i=e[n]).url).length>2e3&&(i.url=r=z.Hf(r,i)),(o=s(r))<0)z.If--;else if(!(u=i.title)||u===l[o].df)continue;z.Pf--,z.vg(i)}},Of:function(t){for(var n="",e=z.Nf,i=e.length-1,r=0,o=0;r<=i;)if((n=e[o=r+i>>>1].Ha)>t)i=o-1;else{if(n===t)return o;r=o+1}return~r}},H={kf:function(t,n){var e,i,r;for(e=0,i=N;e<i.length;e++)if(n.includes(r=i[e])||t.includes(r))return 0;return 1},q_:function(t){var n,e,i,r,o,u;if(!N)return true;for(n=0,e=t;n<e.length;n++)for(i=e[n],r=0,o=N;r<o.length;r++)if(u=(u=o[r]).trim(),i.includes(u)||u.length>9&&i.length+2>=u.length&&u.includes(i))return true;return false},Ug:function(){var t,n,e,i,r,o,u,l,s;if(I.rf)for(t=0,n=I.rf;t<n.length;t++)(e=n[t]).vf=N?H.kf(e.hf,e.sf):1;if(z.Nf)for(i=z.oa,r=0,o=z.Nf;r<o.length;r++)e=o[r],u=N?H.kf(e.hf,e.df):1,e.vf!==u&&(e.vf=u,i&&(l=J.Zf(e.Ha))&&(s=i[l.O_])&&(s.Se+=u||-1))},pg:function(t){var n,e,i,r=[];for(n=0,e=t.split("\n");n<e.length;n++)(i=e[n])&&i.trimLeft().charCodeAt(0)>35&&i.trim()&&r.push(i);N=r.length>0?r:null,(z.Nf||I.rf)&&setTimeout(H.Ug,100)}},G=decodeURIComponent,K={Hr:function(t,n){if(t.length>=400||t.lastIndexOf("%")<0)return t;try{return G(t)}catch(t){}return this.Ef[t]||(n&&this.Sg.push(n),t)},wf:function(t){for(var n,e,r=this.Ef,o=this.Sg,u=-1,l=t.length;;)try{for(;++u<l;)(n=t[u]).hf=(e=n.Ha).length>=400||e.lastIndexOf("%")<0?e:G(e);break}catch(t){n.hf=r[e]||(o.push(n),e)}return this.Df()},Ef:r.ia(),Sg:[],yg:-1,Df:function(){0!==this.Sg.length&&-1===this.yg&&(this.yg=0,setTimeout(this.bg,17,null))},bg:function(t){for(var n,e,i,r;K.yg<K.Sg.length;K.yg++){if(!(n=K.Ef[r=(i="string"==typeof(e=K.Sg[K.yg]))?e:e.Ha]))return t||(t=K.Tg())?(t.open("GET",K.wg+(f>=66?r.replace("#","%25"):r),true),t.send()):(K.Sg.length=0,void(K.yg=-1));i||(e.hf=n)}},xg:function(){if(!(K.yg<0)){var t=this.responseText,n=K.Sg[K.yg++];if("string"!=typeof n?K.Ef[n.Ha]=n.hf=t:K.Ef[n]=t,K.yg<K.Sg.length)return K.bg(this);K.Sg.length=0,K.yg=-1}},Ul:true,wg:"1",Tg:function(){if(!K.wg)return null;var t=new XMLHttpRequest;return t.responseType="text",t.onload=K.xg,t},kg:function(t){var n=!!t&&!(t=t.toLowerCase()).startsWith("utf"),e=n?"data:text/plain;charset="+t+",":"",i=K.wg;e!==i&&(K.wg=e,n?"1"!==i&&setTimeout(function(){return z.Nf&&K.wf(z.Nf),K.wf(I.rf)},100):(K.Ef=r.ia(),K.Sg.length=0),K.Ul!==n&&(K.Sg=n?[]:{length:0,push:r.C},K.Ul=n,K.yg=-1))}};d={$s:function(t,n,e){var i,o,u,l;B=false,R=(t=t.trim())&&t.replace(r.aa," "),A.fg(),k=(t=R)?(t=t.length>200?t.slice(0,200).trimRight():t).split(" "):[],(y=0|n.c||128)&&(y-=t.replace(/[\u2e80-\u2eff\u2f00-\u2fdf\u3000-\u303f\u31c0-\u31ef\u3200-\u9fbf\uf900-\ufaff\ufe30-\ufe4f\uff00-\uffef]/g,"aa").length-t.length),y=Math.max(50,Math.min(y,320)),U=!!(1&(i=n.f)),p=!!(8&i),T=b=Math.min(Math.max(3,0|n.r||10),25),w=0,A.Lf=e,l=n.t,(o=q[n.o])===q.tab&&(M=!!(2&i)),B=null!=o&&1===o.length,E=false,2===(u=k.length>=1?k[0]:"").length&&":"===u[0]&&(o="b"===(u=u[1])?q.bookm:"h"===u?q.history:"t"===u||"w"===u?(M="w"===u,q.tab):"B"===u?q.bomni:"d"===u?q.domain:"s"===u?q.search:"o"===u?q.omni:null)&&(B=1===o.length,E=true,k.shift(),R=R.slice(3),0!==l&&(o=null)),k.length>0&&(k[0]=r.Fa(k[0])),j=H.q_(k),D=0!==l?l:63,A.$s(o||q.omni)},Os:function(t,n,e){switch(n){case"tab":chrome.tabs.remove(+t,function(){var t=r.V();return e(!t),t});break;case"history":var i=!z.Yf||z.Of(t)>=0;chrome.history.deleteUrl({url:t}),e(i)}}},l.Nc.omniBlockList=H.pg,l.Mc("omniBlockList"),f>=39?(l.Nc.localeEncoding=K.kg,l.Mc("localeEncoding")):K.kg(""),r.Lt(80,function(){l.Mc("searchEngines",null)})});var d={$s:function(t,n,e){r.Lt(210,function(){return d.$s(t,n,e)})},Os:function(){}};r.Lt(1e3,function(){function t(){return chrome.storage&&chrome.storage.sync}function n(e,o){function u(t){var n,e,o,u;if(U){for(n in r.At(t),U)!(o=(e=n.split(":")[0])===n)&&e in U||i(e,null!=(u=o?U[n]:null)?u.newValue:t[e],t);U=null}}var s,f,c;if("sync"===o){if(r.At(e),s=l.Kc&&l.Kc())return U&&r.T(e,U),U=e,void s.then(function(){return n({},o)});for(f in U&&(r.T(e,U),U=null),e){if(c=e[f],8===(f.includes(":")?8:i(f,null!=c?c.newValue:null)))return U=e,void t().get(u);delete e[f]}}}function e(){return(new Date).toLocaleString()}function i(t,n,i){var r,u,s,f,c,_;if(t in l.Tc&&!(t in l.Cc)&&m(t)){if(r=l.Tc[t],u=n&&"object"==typeof n&&n.$_serialize||""){if("split"===u&&!i)return 8;if(8===(n=a(t,n,i)))return}null!=n?(s=y?r:l.Sc(t),(_="object"!=typeof r)?(c=n,f=s):(c=JSON.stringify(n),f=JSON.stringify(s)),c!==f&&(c===(s=_?r:JSON.stringify(r))&&(n=r),y||console.log(e(),"sync.this: update",t,"string"==typeof n?(n.length>32?n.slice(0,30)+"...":n).replace(/\n/g,"\\n"):n),o(t,n))):null!=localStorage.getItem(t)&&(y||console.log(e(),"sync.this: reset",t),o(t,r))}}function o(t,n){var e="keyMappings"===t?"Commands":t.startsWith("exclusion")?"Exclusions":"";if(!e)return u(t,n);Promise.all(["Exclusions"===e&&r.Ma("Commands"),r.Ma(e)]).then(function(){return u(t,n)}),r.ic()}function u(t,n){var e,i;B=t,l.xc(t,n),B="",t in l.Rc&&(i={N:6,d:(e={},e[t]=l.Sc(t),e)},l.Pc(i))}function s(t,n){m(t)&&t!==B&&(S||(setTimeout(g,800),S=r.ia()),S[t]=n)}function f(n,i){var o;t()?chrome.storage.local.set(((o={})[n]=i,o),function(){var t=r.V();if(t)return console.log(e(),"storage.local: Failed to update",n,":",t.message||t),t}):l.Ic=r.C}function c(t){var n={Q:'\\"',S:"\\\\",d:"`",l:"<",n:"\u2029",q:'"',r:"\u2028"};return t.replace(/`[QSdlnqr]/g,function(t){return n[t[1]]})}function a(t,n,i){var r,o,u,s,f="";switch(n.$_serialize){case"split":for(r=n.k,o=n.s,u=0;u<o;u++){if(!(s=i[t+":"+u])||!s.startsWith(r))return 8;f+=s.slice(r.length)}break;case"single":return JSON.parse(c(JSON.stringify(n.d)));default:return console.log(e(),"Error: can not support the data format in synced settings data:",t,":",n.$_serialize),null}return"string"==typeof l.Tc[t]?f=c(f):(f=c(JSON.stringify(f)),JSON.parse(f.slice(1,-1)))}function _(t,n,e){var i,r,o,u,s,f,c,a,_,g,m,h;if(n&&!("string"!=typeof n?"object"!=typeof n:n.length<8192/6-40)&&(r="",!((i=JSON.stringify(n)).length<8192/6-40))){if(4*(i=i.replace(/[<`\u2028\u2029]/g,function(t){return"<"===t?"`l":"`"===t?"`d":"\u2028"===t?"`r":"`n"})).length<8093)return i;if((r=e.encode(i)).length<8093)return i;for(o=0,u=Date.now().toString(36)+":",s={},i="string"==typeof l.Tc[t]?i.slice(1,-1):(function(t){return t.replace(/"|\\[\\"]/g,function(t){return'"'===t?"`q":'\\"'===t?"`Q":"`S"})})(i),p||(p=new TextDecoder),f=0,c=(r=e.encode(i)).length;f<c;){for(a=Math.min(f+8134,c),_=void 0,g=0;a<c&&128==(192&r[a]);a--);if((g=(i=(_=p.decode(r.subarray(f,a))).slice(-6)).lastIndexOf("\\"))>i.length-2)_+="b",g=1;else if(g>0&&"u"===i[g+1])for(m=g=i.length-g;m++<6;_+="b");else g=0;if(_=JSON.parse('"'+_+'"'),g&&((h=_.endsWith("b"))||(a-=g),_=_.slice(0,g>1&&h?g-6:-1)),s[t+":"+o++]=u+_,f=a,o>=13)break}return s[t]={$_serialize:"split",k:u,s:o},s}}function g(){var n,i,o,u,f,c,a,g=S,m=[],h=[],d=[],v=r.ia(),B={};if(S=null,g&&l.Ic===s){for(i in n=new TextEncoder,g)for(o=g[i],f="string"==typeof(u=l.Tc[i])||"object"==typeof u&&"vimSync"!==i?0:13,null!=o?(c=_(i,o,n))&&"object"==typeof c?(v[i]=c,f=c[i].s):(B[i]=c?{$_serialize:"single",d:JSON.parse(c)}:o,h.push(i)):(d.push(i),m.push(i));f<13;f++)d.push(i+":"+f);for(i in p=n=null,m.length>0&&console.log(e(),"sync.cloud: reset",m.join(", ")),d.length>0&&t().remove(d),h.length>0&&(console.log(e(),"sync.cloud: update",h.join(", ")),t().set(B)),a=function(n){t().set(v[n],function(){var t=r.V();return t?console.log(e(),"Failed to update",n,":",t.message||t):console.log(e(),"sync.cloud: update (serialized) "+n),t})},v)a(i)}}function m(t){return!(t in T)}function h(t){l.uc.cc=null,r.Lt(t,function(){chrome.storage.local.get(function(t){var n,i,o,u,s,c,a,_,g;if(!l.Sc("vimSync")&&localStorage.length){for(console.log(e(),"storage.local: backup all settings from localStorage"),r.At(t),n=0,i=localStorage.length;n<i;n++)(o=localStorage.key(n))in l.Tc&&(m(o)||"keyboard"===o)&&(u=l.Tc[o],s=t[o],a=c=l.Sc(o),_=s,"object"==typeof u&&(_=JSON.stringify(s),a=JSON.stringify(c)),a!==_&&f(o,c),delete t[o]);(g=Object.keys(t)).length>0&&chrome.storage.local.remove(g)}})})}function d(o,u,s){var c,a,_,g,h,d,v,S,U,p,T,w,x,k;if(2&u&&chrome.storage.local.get(function(t){var n,i,o,f=r.V();if(f)return l.Kc=null,(u-=2)||s(),f;for(o in r.At(t),i=void 0!==(n=t.vimSync)||Object.keys(t).length>0,delete t.vimSync,i&&console.log(e(),"storage.local: restore settings to localStorage"),t)o in l.Tc&&(B=o,l.xc(o,t[o]));B="",null!=n&&l.xc("vimSync",n),r.Lt(100,function(){l.Pc({N:6,d:l.gc})}),(u-=2)||s()}),2!==u){if(r.At(o),!(c=o.vimSync||l.Sc("vimSync")))return b=c,l.Ic=f,void(--u||s());for(_ in o.vimSync||(console.log(e(),"sync.cloud: enable vimSync"),o.vimSync=c,t().set({vimSync:c})),a=[],o)_ in l.Fc&&a.push(_);for(g=[],h={},d=0,v=a;d<v.length;d++)for(_=v[d],S=l.Fc[_],U=-1,p=void 0;U<13&&(p=U<0?_:_+":"+U)in o;U++)h[T=U<0?S:S+":"+U]=o[T]=o[p],delete o[p],g.push(p);for(a.length>0&&(chrome.storage.onChanged.removeListener(n),l.Ic=r.C,t().remove(g),t().set(h,r.V),a.length=0),U=0,w=localStorage.length;U<w;U++)!((_=localStorage.key(U))in o)&&_ in l.Tc&&m(_)&&a.push(_);for(x=0,k=a;x<k.length;x++)i(_=k[x],null);for(_ in o)_.includes(":")||i(_,o[_],o);l.Mc("vimSync"),r.Lt(4,function(){--u||s()}),y&&console.log(e(),"sync.cloud: download settings to localStorage")}}var v,S=null,B="",U=null,p=null,y=null,b=l.Sc("vimSync"),T=r.At({findModeRawQueryList:1,innerCSS:1,keyboard:1,newTabUrl_f:1,vomnibarPage_f:1});if(l.Nc.vimSync=function(e){if(b=e,t()){var i=chrome.storage.onChanged;if(!e)return i.removeListener(n),void(l.Ic!==f&&(l.Ic=f,h(600)));l.Ic!==s&&(i.addListener(n),l.Ic=s,chrome.storage.local.clear())}},l.Kc=function(){if(y);else{if(localStorage.length)return null;r.ic(),y=Promise.all([r.Ma("Commands"),r.Ma("Exclusions")]).then(function(){return new Promise(function(n){b?t().get(function(t){var e=r.V();return e?(l.Kc=null,n()):d(t,1,n),e}):d({},2,n)}).then(function(){y=null})})}return y},false===b||!b&&!l.uc.ac)return v=l.uc.cc,l.uc.cc=v?null:h,v&&h(6e3),void(l.Ic=f);r.ic(),t()?t().get(function(t){var n=r.V();if(n)return console.log(e(),"Error: failed to get storage:",n,"\n\tSo disable syncing temporarily."),l.Nc.vimSync=l.Ic=r.C,l.Kc=null,n;y=Promise.resolve(),y=new Promise(function(n){return d(t,3,n)}).then(function(){y=null})}):l.Kc=null}),r.Lt(150,function(){var t,e,o,u;chrome.browserAction&&(true,o=l.Nc.showActionIcon,u=function(n){var i,o=l.Bc[n];(i=new XMLHttpRequest).open("GET",o,true),i.responseType="arraybuffer",i.onload=function(){(function(i){var o,u,l,s=new Uint8ClampedArray(i),f=i.byteLength/5,c=0|Math.sqrt(f/4),_=c+c,g=r.ia();for(g[c]=new ImageData(s.subarray(0,f),c,c),g[_]=new ImageData(s.subarray(f),_,_),t[n]=g,o=e[n],delete e[n],u=0,l=o.length;u<l;u++)a.Cs(o[u],n,true)})(this.response)},i.send()},l.uc.dc=function(n){var i,o,u;if(null==n)return!!t;if(n){if(!t)for(o in t=[null,null,null],e=r.ia(),i=a.zc())0!==(u=i[+o][0].s).s&&a.Cs(u.t,u.s)}else t&&setTimeout(function(){l.Sc("showActionIcon")||(t=null,e=null)},200)},a.Cs=function(n,i,o){var l,s,f;(l=t[i])?(s=chrome.browserAction.setIcon,f={tabId:n,imageData:l},o?s(f,r.V):s(f)):e[i]?e[i].push(n):(setTimeout(u,0,i),e[i]=[n])},l.Nc.showActionIcon=function(t){o(t),l.uc.dc(t);var e=n("name");t||(e+="\n\n"+n("noActiveState")),chrome.browserAction.setTitle({title:e})},l.Mc("showActionIcon"))}),r.Lt(600,function(){function t(){h&&(h.Rg=null),S=U=h=_=null,p&&clearTimeout(p),v&&clearTimeout(v),y=T=w=p=v=0,g="",r.$()}function n(){var e=Date.now()-y;if(e>5e3||e<-5e3)return t();p=setTimeout(n,3e4)}function e(){var t,n;if(v=0,(t=h)&&!t.Cg)return h=null,t.Rg?((n=Date.now())<y&&(y=n-1e3),o(t.kt,t.Rg)):void 0}function i(t,n,e,i,o){var u,l,s,f,a,d,v,B,p,y,x,k,R,C,M,E,O;if(t.Rg){for(h=null,l=(u=n.length>0)?n[0]:null,f={},T=i,w=o,u&&(c||null!=n[0].s)&&(S=r.ia()),U=[],a=r.ia(),d=0,v=e?0:1,B=n.length;d<B;d++)y=(p=n[d]).title,x=p.u,k=p.e,R="",C=null!=p.s,M=c&&!(e&&0===d)&&("tab"===k?p.s!==m.Hl:"history"===k&&!C),x in a?x=":"+(d+v)+" "+x:a[x]=1,M&&(f.Mg=k,R=" ~"+(d+v)+"~"),E={content:x,description:R="<url>"+p.textSplit+(R=y?"</url><dim> - "+y+R+"</dim>":R?"</url><dim>"+R+"</dim>":"</url>")},M&&(E.deletable=true),C&&(f.Eg=p.s),(M||C)&&(S[x]=f,f={}),U.push(E);if(_=t.kt,e)if("search"===l.e){if(s=((O=l.p)&&"<dim>"+r.Y(O)+" - </dim>")+"<url>"+l.textSplit+"</url>",b=2,l=n[1])switch(l.e){case"math":U[1].description="<dim>"+l.textSplit+" = </dim><url><match>"+l.t+"</match></url>"}}else b=3,s=U[0].description;else 1!==b&&(s="<dim>Open: </dim><url>%s</url>",b=1);e&&(g=n[0].u,U.shift()),s&&chrome.omnibox.setDefaultSuggestion({description:s}),t.Rg(U),r.$()}else h===t&&(h=null)}function o(t,o){var u,s,f,c;t=t.trim().replace(r.aa," "),h&&(h.Rg=(u=t===h.kt)?o:null,u)||(t!==_?1===T&&t.startsWith(_)?o([]):(h={Rg:o,kt:t,Cg:false},v||(s=Date.now(),(f=l.bc.t+y-s)>30&&f<3e3?v=setTimeout(e,f):(h.Cg=true,p||(p=setTimeout(n,3e4)),y=s,S=U=null,g="",c=T<2||!t.startsWith(_)?0:3===T?t.includes(" ")?0:8:w,d.$s(t,{o:"omni",t:c,r:x,c:B,f:1},i.bind(null,h))))):U&&o(U))}function u(t,n,e){return t?":"===t[0]&&/^:([1-9]|1[0-2]) /.test(t)&&(t=t.slice(" "===t[2]?3:4)):t=r.ma(""),"file://"===t.slice(0,7).toLowerCase()&&(t=r.Va(t)),null!=e?a.Ds({s:e}):a.Tr({u:t,o:true,r:"currentTab"===n?0:"newForegroundTab"===n?-1:-2})}var s,c,_,g,h,v,S,B,U,p,y,b,T,w,x,k=chrome.omnibox;k&&(c=!!(s=k.onDeleteSuggestion)&&"function"==typeof s.addListener,_=null,g="",h=null,v=0,S=null,B=128,U=null,p=0,b=0,T=0,w=0,x=f<60?6:12,k.onInputStarted.addListener(function(){if(chrome.windows.getCurrent(function(t){var n=t&&t.width;B=n?Math.floor((n-160/devicePixelRatio)/7.72):128}),p)return t()}),k.onInputChanged.addListener(o),k.onInputEntered.addListener(function n(i,o){var l,s=h;if(s&&s.Rg){if(s.Rg=n.bind(null,i,o),s.Cg)return;return v&&clearTimeout(v),e()}return i=i.trim().replace(r.aa," "),null===_&&i?d.$s(i,{o:"omni",t:0,r:3,c:B,f:1},function(t,n){return n?u(t[0].u,o,t[0].s):u(i,o)}):(g&&i===_&&(i=g),l=S&&S[i]&&S[i].Eg,t(),u(i,o,l))}),c&&s.addListener(function(t){var n=parseInt(t.slice(t.lastIndexOf("~",t.length-2)+1))-1,e=U&&U[n].content,i=e&&S&&S[e],r=i&&i.Mg;if(r)return":"===e[0]&&(e=e.slice(e.indexOf(" ")+1)),a.Os({t:r,u:"tab"===r?i.Eg:e});console.log("Error: want to delete a suggestion but no related info found (may spend too long before deleting).")}))}),chrome.runtime.onInstalled.addListener(l.uc.lc=function(t){var e=t.reason;if("install"===e)e="";else{if("update"!==e)return;e=t.previousVersion}setTimeout(function(){var i,o;chrome.tabs.query({status:"complete"},function(t){var n,e,i,o,u,s=chrome.tabs,f=r.V,a=location.origin.length,_=l.me.Zc;for(n=t.length,e=_.length-1;0<=--n;)if(!(i=t[n].url).startsWith(v)&&i.includes("://")&&!i.startsWith("edge"))for(o=t[n].id,u=0;u<e;++u)s.executeScript(o,{file:_[u].slice(a),allFrames:true},f)}),console.log("%cVimium C%c has been %cinstalled%c with %o at %c%s%c.","color:red","color:auto","color:#0c85e9","color:auto",t,"color:#0c85e9",new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toJSON().slice(0,19).replace("T"," "),"color:auto"),l.me.Jc&&console.log("Sorry, but some commands of Vimium C require the permission to run in incognito mode."),e&&(parseFloat(l.me.qc)<=parseFloat(e)||((i=l.uc).cc?i.cc(6e3):i.cc=true,l.Sc("notifyUpdate")&&(e="vimium_c-upgrade-notification",o={type:"basic",iconUrl:location.origin+"/icons/icon128.png",title:"Vimium C "+n("Upgrade"),message:n("upgradeMsg",[l.me.Qc])+n("upgradeMsg2")+"\n\n"+n("clickForMore")},f<67&&(o.isClickable=true),f>=70&&(o.silent=true),chrome.notifications&&chrome.notifications.create(e,o,function(t){var n;if(n=r.V())return n;e=t||e,chrome.notifications.onClicked.addListener(function(t){t===e&&(chrome.notifications.clear(e),a.Lr({u:r.ma("vimium://release")}))})}))))},500)}),r.ic=function(t){function n(){if(Math.abs(performance.now()-e)<1e5)i=setTimeout(n,3e5);else{i=0;var t=l.Nc;Commands&&(t.keyMappings=null,Commands=null),Exclusions&&Exclusions.Fs.length<=0&&(t.exclusionRules=t.exclusionOnlyFirstMatch=t.exclusionListenHash=null,Exclusions=null)}}var e=0,i=0,o=0;return r.ic=function(t){t&&(o=o+t>0?o+t:0),o>0||!Commands||!Exclusions||Exclusions.Fs.length>0?i&&(clearTimeout(i),i=0):(e=performance.now(),i=i||setTimeout(n,3e5))},r.ic(t)},r.Lt(1200,function(){chrome.runtime.onInstalled.removeListener(l.uc.lc),l.uc.lc=null,document.documentElement.innerText="",r.$()});