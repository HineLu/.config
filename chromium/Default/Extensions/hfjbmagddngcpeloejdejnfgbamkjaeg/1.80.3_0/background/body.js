"use strict";var r,a,n,f,p,g,v,l;r={T:function(n,e){for(var r in e)r in n||(n[r]=e[r]);return n},C:function(){},P:/a?/,$:function(){return this.P.test("")},V:function(){return chrome.runtime.lastError},B:function(n){return n.length>1?n.slice(1,-1):n},W:function(n,e,r){var t=r<n.length&&r>e?n.charCodeAt(r-1):0;return n.slice(e,r+=t>=55296&&t<56320?1:8205===t&&r>e+1?-1:0)},G:function(n,e,r){var t=e>0&&e<n.length?n.charCodeAt(e):0;return n.slice(e+=t>=56320&&t<=57343?-1:8205===t&&e<n.length-1&&e<r-1?1:0,r)},Y:function(n){function e(n){var e=n.charCodeAt(0);return 38===e?"&amp;":39===e?"&apos;":e<39?"&quot;":60===e?"&lt;":"&gt;"}var r=/["&'<>]/g;return this.Y=function(n){return n.replace(r,e)},this.Y(n)},$r:function(n){return 58===n.charCodeAt(10)&&"javascript"===n.slice(0,10).toLowerCase()},na:function(n){return(n=n.slice(0,99).toLowerCase()).startsWith("about:")?"about:blank"!==n&&"about:blank/"!==n:n.startsWith("chrome:")?!n.startsWith("chrome://downloads"):n.startsWith(v)&&!n.startsWith(l.me.ea)||p&&n.startsWith("edge")},ra:".\u4e2d\u4fe1.\u4e2d\u56fd.\u4e2d\u570b.\u4e2d\u6587\u7f51.\u4f01\u4e1a.\u4f5b\u5c71.\u4fe1\u606f.\u516c\u53f8.\u516c\u76ca.\u5546\u57ce.\u5546\u5e97.\u5546\u6807.\u5728\u7ebf.\u5a31\u4e50.\u5e7f\u4e1c.\u6211\u7231\u4f60.\u624b\u673a.\u62db\u8058.\u653f\u52a1.\u6e38\u620f.\u7f51\u5740.\u7f51\u5e97.\u7f51\u5e97.\u7f51\u7edc.\u8d2d\u7269.\u96c6\u56e2.\u9910\u5385.",ta:["","",".ac.ad.ae.af.ag.ai.al.am.ao.aq.ar.as.at.au.aw.ax.az.ba.bb.bd.be.bf.bg.bh.bi.bj.bm.bn.bo.br.bs.bt.bv.bw.by.bz.ca.cc.cd.cf.cg.ch.ci.ck.cl.cm.cn.co.cr.cu.cv.cw.cx.cy.cz.de.dj.dk.dm.do.dz.ec.ee.eg.er.es.et.eu.fi.fj.fk.fm.fo.fr.ga.gb.gd.ge.gf.gg.gh.gi.gl.gm.gn.gp.gq.gr.gs.gt.gu.gw.gy.hk.hm.hn.hr.ht.hu.id.ie.il.im.in.io.iq.ir.is.it.je.jm.jo.jp.ke.kg.kh.ki.km.kn.kp.kr.kw.ky.kz.la.lb.lc.li.lk.lr.ls.lt.lu.lv.ly.ma.mc.md.me.mg.mh.mk.ml.mm.mn.mo.mp.mq.mr.ms.mt.mu.mv.mw.mx.my.mz.na.nc.ne.nf.ng.ni.nl.no.np.nr.nu.nz.om.pa.pe.pf.pg.ph.pk.pl.pm.pn.pr.ps.pt.pw.py.qa.re.ro.rs.ru.rw.sa.sb.sc.sd.se.sg.sh.si.sj.sk.sl.sm.sn.so.sr.st.su.sv.sx.sy.sz.tc.td.tf.tg.th.tj.tk.tl.tm.tn.to.tr.tt.tv.tw.tz.ua.ug.uk.us.uy.uz.va.vc.ve.vg.vi.vn.vu.wf.ws.ye.yt.za.zm.zw",".abc.art.bid.biz.cat.com.dev.edu.fit.fun.gov.ink.int.kim.law.lol.ltd.men.mil.moe.mom.mtn.net.new.one.org.pro.pub.red.ren.run.tel.top.vip.win.xin.xxx.xyz",".aero.arpa.asia.auto.band.beer.chat.city.club.cool.coop.date.fund.game.gift.gold.guru.help.info.jobs.life.link.live.loan.love.luxe.mobi.name.news.pics.plus.shop.show.site.sohu.team.tech.wang.wiki.work.yoga.zone",".citic.cloud.email.games.group.local.onion.party.photo.press.rocks.space.store.today.trade.video.world",".center.design.lawyer.market.museum.online.social.studio.travel",".company.fashion.science.website",".engineer.software"],ia:function(){return Object.create(null)},At:function(n){return Object.setPrototypeOf(n,null)},oa:Object.create(null),ua:/^([^:]+(:[^:]+)?@)?([^:]+|\[[^\]]+])(:\d{2,5})?$/,aa:/\s+/g,ca:/\xa0/g,la:/^[a-z][\+\-\.\da-z]+:\/\//,sa:/^"[^"]*"$|^'[^']*'$|^\u201c[^\u201d]*\u201d$/,fa:0,ma:function(n,e,t){var i,o,u,a,c,l,s,m,d,h=this;return n=n.trim(),h.fa=0,h.$r(n)?(f<46&&n.includes("%")&&!/["\[\]{}\u00ff-\uffff]|%(?![\dA-F]{2}|[\da-f]{2})/.test(n)&&(n=h.da(n)),n=n.replace(h.ca," "),h.$(),n):(i=-1,o=0,u=false,m='"'===(l=n.replace(/[\n\r]+[\t \xa0]*/g,"").replace(h.ca," "))[0]&&l.endsWith('"'),d=l,n=l=m?l.slice(1,-1):l,/^[A-Za-z]:(?:[\\/][^:*?"<>|]*)?$|^\/(?:Users|home|root)\/[^:*?"<>|]+$/.test(n)?(":"===n[1]&&(n=n[0].toUpperCase()+":/"+n.slice(3).replace(/\\/g,"/")),h.$(),"file://"+("/"===n[0]?n:"/"+n)):n.startsWith("\\\\")&&n.length>3?((n=n.slice(2).replace(/\\/g,"/")).lastIndexOf("/")<=0&&(n+="/"),h.$(),"file://"+n):((a=(n=l.toLowerCase()).indexOf(" ")+1||n.indexOf("\t")+1)>1&&(n=n.slice(0,a-1)),0===(a=n.indexOf(":"))?i=4:-1!==a&&h.la.test(n)?n.startsWith("vimium:")?(i=3,t|=0,n=l.slice(9),t<-1||!n?l="vimium://"+n:-1===t||m||!(l=h.ha(n,t))?l=h.pa(n,false,t):"string"!=typeof l&&(i=5)):(-1===(c=n.indexOf("/",a+3))?n.length<l.length:n.charCodeAt(c+1)<33)?i=4:/[^a-z]/.test(n.slice(0,a))?i=(a=n.charCodeAt(a+3))>32&&47!==a?0:4:n.startsWith("file:")?i=0:n.startsWith("chrome:")?i=n.length<l.length&&n.includes("/")?4:0:n=n.slice(a+3,c>=0?c:void 0):(-1!==a&&n.lastIndexOf("/",a)<0&&(i=h.va(l.toLowerCase(),a,n.length%l.length)),o=2,c=l.length,-1===i&&n.startsWith("//")&&(n=n.slice(2),o=1,c-=2),-1!==i?"about:blank/"===n&&(l="about:blank"):(a=n.indexOf("/"))<=0?(0===a||n.length<c)&&(i=4):n.length>=c||n.charCodeAt(a+1)>32?(u=n.length>a+1,n=n.slice(0,a)):i=4),-1===i&&n.lastIndexOf("%")>=0&&(n=r.da(n)).includes("/")&&(i=4),-1===i&&n.startsWith(".")&&(n=n.slice(1)),-1!==i||((s=h.ua.exec(n))?(n=s[3]).endsWith("]")?i=h.ga(n,6)?o:4:n.endsWith("localhost")||h.ga(n,4)||s[4]&&u?i=o:(a=n.lastIndexOf("."))<0||0===(i=h.ba(n.slice(a+1)))?(a<0&&"__proto__"===n&&(n="."+n),c=n.length-a-1,i=2!==o&&(a<0||c>=3&&c<=5)||h._a(n,s[4])>0?o:4):i=n.length!==a+3&&1===i&&/[^.\da-z\-]|^-/.test(n)?4:2!==o||u?o:n.endsWith(".so")&&n.startsWith("lib")&&n.indexOf(".")===n.length-3?4:s[2]||s[4]||!s[1]||n.startsWith("ftp")?2:n.startsWith("mail")||n.indexOf(".mail")>0||(c=n.indexOf("."))===a?4:n.indexOf(".",++c)!==a?2:n.length===a+3&&1===i&&h.ba(n.slice(c,a),true)?4:2:(i=4,n.length===l.length&&h.ga(n="["+n+"]",6)&&(l=n,i=2))),h.$(),h.fa=i,0===i?l:4===i?h.wa(d.split(h.aa),e||"~",t):i<=2?(2===h._a(n,s&&s[4])?"https:":"http:")+(2===i?"//":"")+l:l))},_a:function(n,e){var r=e&&this.oa[n+e]||this.oa[n];return r?r.ya?2:1:0},va:function(n,e,r){var t=this,i="/"===n.substr(e+1,1);switch(n.slice(0,e)){case"about":return i?4:r>0||n.includes("@",e)?-1:0;case"blob":case"view-source":return(n=n.slice(e+1)).startsWith("blob:")||n.startsWith("view-source:")?4:(t.ma(n,null,-2),t.fa<=2?0:4);case"data":return i?4:(e=n.indexOf(",",e))<0||r>0&&r<e?-1:0;case"file":return 0;case"filesystem":return n=n.slice(e+1),t.la.test(n)?(t.ma(n,null,-2),0===t.fa&&/[^/]\/(?:persistent|temporary)(?:\/|$)/.test(n)?0:4):4;case"magnet":return"?"!==n[e+1]?-1:0;case"mailto":return i?4:(e=n.indexOf("/",e))>0&&n.lastIndexOf("?",e)<0?-1:0;case"tel":return/\d/.test(n)?0:4;default:return i?4:-1}},ka:function(n){var e=n.startsWith("filesystem:")?11:n.startsWith("view-source:")?12:0;return e?n.slice(e):n},Sa:function(n){var e,t,i=n.indexOf("\uff1a")+1||n.indexOf(":")+1;return i&&"/"!==n[i]?"link"!==(e=n.slice(0,i-1).trim().toLowerCase())&&"\u94fe\u63a5"!==e?n:(t=(t=n.slice(i).trim()).split(" ",1)[0],",.;\u3002\uff0c\uff1b".includes(t.slice(-1))&&(t=t.slice(0,-1)),t=this.ma(t,null,-2),r.fa<=2&&!t.startsWith("vimium:")?t:n):n},ba:function(n,e){return!e&&/[^a-z]/.test(n)?this.ra.includes("."+n+".")?2:0:n&&n.length<this.ta.length&&this.ta[n.length].includes(n)?1:0},Ta:function(n){var e=n.toLowerCase().split("."),t=e.length;return[e,0===r.ba(e[t-1])?1:t>2&&2===e[t-1].length&&1===r.ba(e[t-2])?3:2]},ga:function(n,e){return!!(6!==e&&/^\d{1,3}(?:\.\d{1,3}){3}$/.test(n)||4!==e&&/^\[[\da-f]{0,4}(?::[\da-f]{0,4}){1,5}(?:(?::[\da-f]{0,4}){1,2}|:\d{0,3}(?:\.\d{0,3}){3})]$/.test(n))&&!!this.xa("http://"+n)},xa:function(n){try{return new URL(n)}catch(n){}return null},pa:function(n,e,r){var t,i,o="",u="",a=n.trim();if(!a)return e?"":location.origin+"/pages/";if((t=a.indexOf(" ")+1)&&(u=a.slice(t).trim(),a=a.slice(0,t-1)),(t=a.search(/[\/#?]/)+1)&&(o=a.slice(t-1).trim(),a=a.slice(0,t-1)),"display"===a&&(a="show"),!/\.\w+$/.test(a))if(a=a.toLowerCase(),null!=(i=l.me.Ca[a]))i=a=i&&"/"!==i[0]&&"#"!==i[0]?i:l.me.Ia+(i.includes(".")?"/blob/master"+i:i);else{if("newtab"===a)return l._.newTabUrl_f;if("/"===a[0]||l.me.Ra.indexOf(a)>=0)a+=".html";else{if(1===r||-1===r)return"vimium://"+n.trim();a="show.html#!url vimium://"+a}}return e||i&&i.includes("://")||(a=location.origin+("/"===a[0]?"":"/pages/")+a),o&&(a+=o),a+(u&&(a.includes("#")?" ":"#!")+u)},Na:0,ha:function(n,e,t){var i,o,u,c,l,s,f,m,d=this;if("paste"===n&&(n+=" ."),(e|=0)<0||!(o=n=n.trim())||(i=n.indexOf(" "))<=0||!/^[a-z][\da-z\-]*(?:\.[a-z][\da-z\-]*)*$/i.test(o=n.slice(0,i).toLowerCase())||/\.(?:css|html|js)$/i.test(o))return null;if(!(n=n.slice(i+1).trim()))return null;if(s=/[\s+,\uff0b\uff0c]+/g,1===e)switch(o){case"sum":case"mul":n=n.replace(s,"sum"===o?" + ":" * "),o="e";break;case"avg":case"average":u=n.split(s),n="("+u.join(" + ")+") / "+u.length,o="e"}if(1===e)switch(o){case"e":case"exec":case"eval":case"expr":case"calc":case"m":case"math":return d.Ma("MathParser").catch(function(){return null}).then(function(MathParser){return r.sa.test(n)&&(n=n.slice(1,-1)),n=n.replace(/\uff0c/g," "),[r.Pa(n,MathParser)||"",0,n]});case"error":return[n,3]}else if(e>=2)switch(o){case"status":case"state":return[n,4];case"url-copy":case"search-copy":case"search.copy":case"copy-url":if((l=d.ma(n,null,1))instanceof Promise)return l.then(function(n){var e=n[0]||n[2]||"";return e=e instanceof Array?e.join(" "):e,[e=r.Ea(e),1]});n=(l=5===d.fa&&l instanceof Array?l[0]:l)instanceof Array?l.join(" "):l;case"cp":case"copy":case"clip":return[n=r.Ea(n),1]}switch(o){case"cd":case"up":if(!(u=(n+"  ").split(" "))[2]||!a){if(e<1||!a)return null;if("string"!=typeof(l=a.za()))return l.then(function(i){var o=i&&r.ha("cd "+n+" "+(n.includes(" ")?i:". "+i),e,t);return o?"string"==typeof o?[o,6]:o:[i?"fail in parsing":"No current tab found",3]});u[2]=l}return f="/"===(o=u[0])[0],i=parseInt(o,10),i=isNaN(i)?"/"===o?1:f?o.replace(/(\.+)|./g,"$1").length+1:-o.replace(/\.(\.+)|./g,"$1").length||-1:i,(m=a.Ua({u:u[2],p:i,t:null,f:1,a:"."!==u[1]?u[1]:""}))&&m.u||[m?m.e:"No upper path",3];case"parse":case"decode":(o=n.split(" ",1)[0]).search(/\/|%2f/i)<0?n=n.slice(o.length+1).trimLeft():o="~",u=[n=d.$a(n)],n=d.ma(n),4!==d.fa&&(c=a.Ua({u:n}))?""===c.u?u=[o]:(u=c.u.split(" ")).unshift(o):u=u[0].split(d.aa);break;case"u":case"url":case"search":u=d.$a(n).split(d.aa);break;case"paste":if(e>0)return(l=r.ja(n.replace(/ (cp?|pc?|s)(?![a-zA-Z])/g,"\n$1")))instanceof Promise?l.then(function(n){return[n?n.trim().replace(r.aa," "):"",5]}):[l?l.trim().replace(r.aa," "):"",5];default:return null}return t?[u,2]:(i=d.Na++)>12?null:12===i?d.wa(u,"",0):i>0?d.wa(u,"",e):(l=d.wa(u,"",e),d.Na=0,l)},Pa:function(n,e){var r=null;if((e=e||window.MathParser||{}).evaluate){try{r="function"==typeof(r=e.evaluate(n))?null:""+r}catch(n){}e.clean()}return r},La:function(n){var e="/"===n[0],r=parseInt(n,10);return isNaN(r)?e&&"/"===n?1:n.split(e?/(\.+)/:/\.(\.+)|./).join("").length*(e?1:-1):r},Ea:function(){return""},ja:function(){return""},Ma:function(n){var e=window[n];return e?Promise.resolve(e):window[n]=new Promise(function(e){var r=document.createElement("script");r.src=l.me[n],r.onload=function(){this.remove(),e(window[n])},document.documentElement.appendChild(r)})},Aa:/\$([sS])(?:\{([^}]*)})?/g,Oa:/\$([+-]?\d+)/g,wa:function(n,e,r){var t,i=this,o=l._.searchEngineMap[e||n[0]];return o?(e||(e=n.shift()),t=i.Da(n,o.Ha,o.C)):t=n.join(" "),"~"!==e?i.ma(t,null,r):(i.fa=4,t)},Da:function(n,e,t,i){var o,a=0;return e=0===n.length&&t?t:e.replace(this.Aa,function(t,u,c,l){var s;return"S"===u?(s=n,u=" "):(s=o||(o=n.map(encodeURIComponent)),u=r.$r(e)?"%20":"+"),0===s.length?"":(c=c&&c.includes("$")?c.replace(r.Oa,function(n,e){var r=parseInt(e,10);if(!r)return s.join(u);if(r<0)r+=s.length+1;else if("+"===e[0])return s.slice(r-1).join(u);return s[r-1]||""}):s.join(null!=c?c:u),null!=i&&(i.push(l+=a,l+c.length),a+=c.length-t.length),c)}),this.$(),null==i?e:{Ha:e,qa:i}},da:function(n,e){if(!n)return"";try{n=(e?decodeURI:decodeURIComponent)(n)}catch(n){}return n},$a:function(n){return!n.includes("://")&&/%(?:3a|2f)/i.test(n)?this.da(n).trim():n},Fa:function(n){var e,r,t=+n.includes("\u3002")+2*+n.includes("\uff1a");return 0===t?n:(e=n.indexOf("//"),(e=n.indexOf("/",e>=0?e+2:0))>=0&&e<4?n:(r=e>0?n.slice(0,e):n,1&t&&(r=r.replace(/\u3002/g,".")),2&t&&(r=r.replace("\uff1a",":").replace("\uff1a",":")),e>0&&(r+=n.slice(e)),this.ma(r,null,-2),this.fa<=2?r:n))},Va:function(n){return/\.(?:bmp|gif|icon?|jpe?g|a?png|tiff?|webp)$/i.test(n)?this.pa("show image "+n,false,0):n},Ba:function(n){var e,r,t=n.indexOf(":"),i=t;if(t<=0)return n;if("://"===n.substr(t,3))if((t=n.indexOf("/",t+3))<0)t=i,i=-1;else if(7===t&&"file"===n.slice(0,4).toLowerCase())return"file:///"+((t=":"===n.substr(9,1)?3:0)?n[8].toUpperCase()+":/":"")+n.slice(t+8);return r=(e=n.slice(0,t)).toLowerCase(),-1===i&&/^(file|ftp|https?|rt[ms]p|wss?)$/.test(e)&&(n+="/"),e!==r?r+n.slice(t):n},Ka:function(n,e){var r,t,i,o,u,a,c,l,s,f,m,d,h,p=this,v=[],g=/\s/,b=p.Aa,_=function(n){return!!((n=n.trim())&&"__proto__"!==n&&n.length<51)&&(e[n]=u,true)};for(c=0,l=n.replace(/\\\\?\n/g,function(n){return 3===n.length?"\\\n":""}).split("\n");c<l.length;c++)if((s=(s=l[c]).trim())&&s.charCodeAt(0)>35){a=0;do{a=s.indexOf(":",a+1)}while(92===s.charCodeAt(a-1));a<=0||!(o=s.slice(0,a).trimRight())||(r=o.replace(/\\:/g,":").split("|"),(s=s.slice(a+1).trimLeft())&&(f="",(a=(o=s.replace(/\\\s/g,"\\s")).search(g))>0?(n=s.slice(a),s=o.slice(0,a),(a=n.search(/\sblank=/i))>=0&&(m=n.slice(a+7).search(g),f=n.slice(a+7,(m=m>0?a+7+m:0)||void 0),n=n.slice(0,a)+(m?n.slice(m):"")),a=n.search(/\sre=/i)):(s=o,n=""),s=s.replace(/\\s/g," ").trim().replace(/([^\\]|^)%(s)/gi,"$1$$$2").replace(/\\%/g,"%"),u={Wa:"",C:f,Ha:s},0!==(r=r.filter(_)).length&&(-1===a?(b.lastIndex=0,(d=b.exec(s))&&(a=d.index+1)&&((o=d[2])?s=s.replace(b,"$$$1"):o="s"===d[1]?"+":" ",s=p.ma(s,null,-1),p.fa>2?a=(s=s.replace(/%24(s)/gi,"$$$1")).search(b)+1:0!==p.fa&&(a+=2===p.fa?7:5),(t=p.Ga(s.toLowerCase(),a))&&(o.includes("$")?(o=o.replace(p.Oa,"(.*)"),i=new RegExp("^"+o,/[a-z]/i.test(o)?"i":"")):i=o.trim()||" ",v.push({_l:t._l,Ya:t.Ya,Wa:r[0].trimRight(),Ja:i})))):47===n.charCodeAt(a+4)?(o=a>1?n.slice(1,a).trim():"",a=(n=n.slice(a+5)).search(/[^\\]\//)+1,s=n.slice(0,a),a=(n=n.slice(a+1)).search(g),(h=p.Za(s,a>=0?n.slice(0,a):n))&&(o=p.Qa(o),v.push({_l:o,Ya:h,Wa:r[0].trimRight(),Ja:u.Ha.lastIndexOf("$S")>=0?" ":"+"})),n=a>=0?n.slice(a+1):""):n=n.slice(a+4),n=n.trimLeft(),u.Wa=n?p.da(n):r[r.length-1].trimLeft())))}return v},Ga:function(n,e){var r,t,i,o;return e<1||!this.la.test(n)?null:(r=n.slice(0,e-1),(e=Math.max(r.lastIndexOf("?"),r.lastIndexOf("#"))+1)?(i=t=r.slice(e),r=r.slice(0,r.search(/[#?]/)),(o=t.lastIndexOf("&")+1)&&(i=t.slice(o)),i&&i.indexOf("=")>=1?t="[#&?]":(i=t,t="#"===n[e-1]?"#":i?"[#?]":"\\?"),n="([^#&?]*)"):(t="^([^#?]*)",(i=n.slice(r.length+2))&&(e=i.search(/[#?]/)+1)&&(i=i.slice(0,e-1)),n=""),i=i&&i.replace(/[$()*+.?\[\\\]\^{|}]/g,"\\$&").replace(/\\\+|%20| /g,"(?:\\+|%20| )"),{_l:r=this.Qa(r),Ya:new RegExp(t+i+n,/[a-z]/i.test(i)?"i":"")})},Xa:function(n){return(n=n.slice(0,8).toLowerCase()).startsWith("http://")?7:"https://"===n?8:0},Qa:function(n){var e=n.slice(0,9).toLowerCase();return this.Xa(e)?n=n.slice(58===n.charCodeAt(4)?7:8):"vimium://"===e&&(n=this.pa(n.slice(9),false,-1)),n},Za:function(n,e,r){try{return new RegExp(n,e)}catch(t){0===r||console.log("%c/%s/%s","color:#c41a16",n,e,"is not a valid regexp.")}return null},nc:/<(?!<)(?:.-){0,4}.\w*?>|./g,ec:function(n,e,r){var t=r.toLowerCase();return r!==t?"<"+e+"s-"+t+">":n},rc:function(n){return n&&n.replace(/<(?!<)((?:[acm]-){0,3})([^a-z\d][\dA-Z]*)>/g,this.ec)},tc:function(){return null},Lt:function(n,e){setTimeout(e,n)},ic:function(){},oc:function(n){return n.toLowerCase()!==n}},n=chrome.i18n.getMessage,f=0|(navigator.appVersion.match(/\bChrom(?:e|ium)\/(\d+)/)||[0,998])[1],p=/\sEdg\//.test(navigator.appVersion),g=0,v="chrome","".includes||(function(){var n=String.prototype;"".startsWith||(n.startsWith=function(n){return 0===this.lastIndexOf(n,0)},n.endsWith=function(n){var e=this.length-n.length;return e>=0&&this.indexOf(n,e)===e}),n.includes=function(n,e){return this.indexOf(n,e)>=0}})(),l={_:r.ia(),uc:{ac:localStorage.length<=0,cc:null,lc:null,sc:0,fc:0,mc:null,dc:null,hc:null,pc:false,vc:null},gc:{v:f,d:"",i:false,m:false,g:false,o:2},bc:{v:f,o:2,a:0,n:0,t:0,l:"",s:"",c:"",k:null},_c:null,wc:r.ia(),yc:null,kc:localStorage,Sc:function(n,e){var r,t,i;return n in this._?this._[n]:(r=this.Tc[n],i=null==(t=this.kc.getItem(n))?r:"string"==typeof r?t:false===r||true===r?"true"===t:JSON.parse(t),e&&(this._[n]=i),i)},xc:function(n,e){var r,t,i=this;if(i._[n]=e,n in i.Cc||(e===(r=i.Tc[n])?(i.kc.removeItem(n),i.Ic(n,null)):(i.kc.setItem(n,"string"==typeof r?e:JSON.stringify(e)),i.Ic(n,e)),n in i.Rc&&(i.gc[i.Rc[n]]=e)),t=i.Nc[n])return t.call(i,e,n)},Mc:function(n,e){return this.Nc[n].call(this,void 0!==e?e:this.Sc(n),n)},Pc:function(n){if(6===n.N){var e=r.At(n.d),t=l.uc.mc;return t?r.T(e,t):Promise.resolve(n).then(l.Ec),void(l.uc.mc=e)}l.Ec(n)},Ec:function(n){var e,r,t,i;for(r in 6===n.N&&(n.d=l.uc.mc,l.uc.mc=null),e=a.zc())for(i=(t=e[+r]).length;0<--i;)t[i].postMessage(n)},Uc:function(n){var e,r;for(e=0,r=a.zc(-3);e<r.length;e++)r[e].postMessage(n)},$c:r.C,jc:r.C,Lc:function(n){var e,r,t=n?n.split(/\/\*\s?#!?([A-Za-z]+)\s?\*\//g):[""],i={ui:t[0].trim()};for(e=1;e<t.length;e+=2)i["vomnibar"===(r=t[e].toLowerCase())?"omni":r]=t[e+1].trim();return i},Nc:{__proto__:null,extAllowList:function(n){var e,t,i,o,u=this.yc,a=this.yc=r.ia();if(u&&!0)for(e in u)false===u[e]&&(a[e]=false);if(n)for(i=(t=n.split("\n")).length,o=/^[\da-z_]/i;0<=--i;)(n=t[i].trim())&&o.test(n)&&(a[n]=true)},grabBackFocus:function(n){this.gc.g=n},newTabUrl:function(n){return n=/^\/?pages\/[a-z]+.html\b/i.test(n)?chrome.runtime.getURL(n):r.ma(n),this.xc("newTabUrl_f",n)},searchEngines:function(){return this.xc("searchEngineMap",r.ia())},searchEngineMap:function(n){var e,t=this;return"searchKeywords"in t._&&t.xc("searchKeywords",null),e=r.Ka("~:"+t.Sc("searchUrl")+"\n"+t.Sc("searchEngines"),n),t.xc("searchEngineRules",e)},searchUrl:function(n){var e,t=this._;if(n)r.Ka("~:"+n,t.searchEngineMap);else if(e={"~":{Wa:"~",C:"",Ha:this.Sc("searchUrl").split(" ",1)[0]}},t.searchEngineMap=e,t.searchEngineRules=[],n=this.Sc("newTabUrl_f",true))return this.Nc.newTabUrl_f(n);return this.Mc("newTabUrl")},baseCSS:function(n){var e,r,t,i,o,u,a=this,c=a.me.Ac,l=f,m=c.slice(c.indexOf(",")+1).includes("a");return l<54&&(n=n.replace(/user-select\b/g,"-webkit-$&")),e=n.lastIndexOf("/*#find*/"),r=n.slice(e+10),n=n.slice(0,e-1),m?(t=n.indexOf("all:"),i=n.lastIndexOf("{",t),o=l>=53?n.indexOf(";",t):n.length,n=n.slice(0,i+1)+n.slice(t,o+1)+n.slice(n.indexOf("\n",o)+1||n.length)):n=n.replace(/all:\s?\w+;?\n?/,""),l>=65&&!0?(t=n.indexOf("display:"),i=n.lastIndexOf("{",t),n=n.slice(0,i+1)+n.slice(t)):n=n.replace("contents","block"),l<73&&(n=n.replace("3px 5px","3px 7px")),l<62&&(n=n.replace(/#[\da-f]{8}/gi,function(n){var e=parseInt(n.slice(1),16);return"rgba("+(e>>>24)+","+(e>>16&255)+","+(e>>8&255)+","+((255&e)/255+"").slice(0,4)+")"})),l<69&&(n=n.replace(".LH{",".LH{box-sizing:border-box;")),n=c+n.length+"\n"+n,(u=a.Lc(a.Sc("userDefinedCss"))).ui&&(n+="\n"+u.ui),l<48&&(n=n.replace(/\b0\.5px|\/\*!DPI\*\/ ?[\w.]+/g,"/*!DPI*/1px")),a.kc.setItem("findCSS",r.length+"\n"+r+(u.find?"\n"+u.find:"")),a.kc.setItem("omniCSS",u.omni||""),a.xc("innerCSS",n)},userDefinedCss:function(n){var e,r,t,i,o,u,c,l,s,f,m=this,d=m.kc.getItem("innerCSS"),h=d.indexOf("\n");for(c in d=d.slice(0,h+1+ +d.slice(0,h).split(",")[2]),r=(e=m.Lc(n)).ui?d+"\n"+e.ui:d,h=(d=m.kc.getItem("findCSS")).indexOf("\n"),d=d.slice(0,h+1+ +d.slice(0,h)),m.kc.setItem("findCSS",(t=e.find)?d+"\n"+t:d),m.kc.setItem("omniCSS",e.omni||""),m.xc("innerCSS",r),r=(i=m._).innerCSS,o=a.zc(),u={N:12,S:r,f:i.Oc},o)for(s=(l=o[+c]).length;0<--s;)4&(f=l[s].s).f&&(l[s].postMessage(u),f.f|=32);m.Uc({N:47,d:{c:m.bc.c}})},mapModifier:function(n){l.Uc({N:47,d:{a:n}})},ignoreCapsLock:function(n){var e=n>1||1===n&&!l.gc.o;l.gc.i!==e&&(l.gc.i=e,l.Pc({N:6,d:{i:e}}))},innerCSS:function(n){var e,r,t=this,i=t._,o=t.kc.getItem("findCSS"),u=t.kc.getItem("omniCSS");o&&null!=u?(e=(o=o.slice(o.indexOf("\n")+1)).indexOf("\n")+1,r=o.indexOf("\n",e),i.innerCSS=n.slice(n.indexOf("\n")+1),i.Oc={c:o.slice(0,e-1),s:o.slice(e,r),i:o.slice(r+1)},t.bc.c=u):t.Dc("baseCSS")},vomnibarPage:function(n){var e=this,t=localStorage.getItem("vomnibarPage_f");!t||n?((n=n||e.Sc("vomnibarPage"))===e.Tc.vomnibarPage?n=e.me.Hc:n.startsWith("front/")?n=chrome.runtime.getURL(n):(n=r.ma(n),n=r.Ba(n),n=f<50&&!n.startsWith(v)?e.me.Hc:n.replace(":version",""+parseFloat(e.me.qc))),e.xc("vomnibarPage_f",n)):e._.vomnibarPage_f=t},vomnibarOptions:function(n){var e,r,t,i,o,u=this,a=u.Tc.vomnibarOptions,c=u.bc,l=true,s=a.maxMatches,f=a.queryInterval,m=a.styles,d=a.sizes;n!==a&&n&&"object"==typeof n&&(e=Math.max(3,Math.min(0|n.maxMatches||s,25)),r=+n.queryInterval,t=((n.styles||"")+"").trim(),i=((n.sizes||"")+"").trim(),o=Math.max(0,Math.min(r>=0?r:f,1200)),(l=s===e&&f===o&&i===d&&m===t)||(s=e,f=o,d=i,m=t),n.maxMatches=e,n.queryInterval=o,n.sizes=i,n.styles=t),u._.vomnibarOptions=n=l?a:n,c.n=s,c.t=f,c.l=d,c.s=m,u.$c(0,1),u.$c(1,1),u.Uc({N:47,d:{n:s,t:f,l:d,s:c.s}})}},Dc:function(n,e){function r(r){"baseCSS"===n?l.Mc(n,r):"words"===n?l.me.words=r.replace(/[\n\r]/g,"").replace(/\\u(\w{4})/g,function(n,e){return String.fromCharCode(+("0x"+e))}):l.xc(n,r),e&&setTimeout(e,0)}var t,i;if(e&&n in this._)e();else{if(!(t=this.me[n]))throw Error("unknown file: "+n);t="/front/"+t,f>=47?fetch(t).then(function(n){return n.text()}).then(r):((i=new XMLHttpRequest).open("GET",t,true),i.responseType="text",i.onload=function(){r(this.responseText)},i.send())}},Tc:{__proto__:null,autoDarkMode:true,autoReduceMotion:false,clipSub:"",dialogMode:false,exclusionListenHash:true,exclusionOnlyFirstMatch:false,exclusionRules:[{pattern:":https://mail.google.com/",passKeys:""}],extAllowList:"# modified versions of X New Tab and PDF Viewer,\n# NewTab Adapter, and Shortcuts Forwarding Tool\nhdnehngglnbnehkfcidabjckinphnief\nnacjakoppgmdcpemlfnfegmlhipddanj\ncglpcedifkgalfdklahhcchnjepcckfn\nclnalilglegcjmlgenoppklmfppddien",filterLinkHints:false,findModeRawQueryList:"",focusNewTabContent:true,grabBackFocus:false,hideHud:false,ignoreCapsLock:0,ignoreKeyboardLayout:false,innerCSS:"",keyboard:[560,33],keyMappings:"",linkHintCharacters:"sadjklewcmpgh",linkHintNumbers:"0123456789",localeEncoding:"gbk",mapModifier:0,mouseReachable:true,newTabUrl:"",newTabUrl_f:"",nextPatterns:"\u4e0b\u4e00\u5c01,\u4e0b\u9875,\u4e0b\u4e00\u9875,\u4e0b\u4e00\u7ae0,\u540e\u4e00\u9875,next,more,newer,>,\u203a,\u2192,\xbb,\u226b,>>",omniBlockList:"",previousPatterns:"\u4e0a\u4e00\u5c01,\u4e0a\u9875,\u4e0a\u4e00\u9875,\u4e0a\u4e00\u7ae0,\u524d\u4e00\u9875,prev,previous,back,older,<,\u2039,\u2190,\xab,\u226a,<<",regexFindMode:false,scrollStepSize:100,searchUrl:navigator.language.startsWith("zh")?"https://www.baidu.com/s?ie=utf-8&wd=%s \u767e\u5ea6":"https://www.google.com/search?q=%s Google",searchEngines:"b|ba|baidu: https://www.baidu.com/s?ie=utf-8&wd=%s Baidu\nbi|bing: https://www.bing.com/search?q=%s Bing\ng|go|gg|google: https://www.google.com/search?q=%s Google\njs\\:|Js: javascript:\\ $S; JavaScript\nw|wiki:\\\n  https://www.wikipedia.org/w/index.php?search=%s Wikipedia\nv.m|v\\:math: vimium://math\\ $S re= Calculate\n\n# More examples.\n#\n# (Vimium C supports search completion Google, Wikipedia,\n# and so on, as above, and for these.)\n#\n# l: https://www.google.com/search?q=%s&btnI I'm feeling lucky\n# y: https://www.youtube.com/results?search_query=%s YouTube\n# gm: https://www.google.com/maps?q=%s Google maps\n# d: https://duckduckgo.com/?q=%s DuckDuckGo\n# az: https://www.amazon.com/s/?field-keywords=%s Amazon\n# qw: https://www.qwant.com/?q=%s Qwant",searchEngineMap:{},showActionIcon:true,showAdvancedCommands:false,showAdvancedOptions:false,showInIncognito:false,notifyUpdate:true,smoothScroll:true,vomnibarOptions:{maxMatches:10,queryInterval:500,sizes:"77,3,44",styles:"mono-url"},userDefinedCss:"",vimSync:null,vomnibarPage:"front/vomnibar.html",vomnibarPage_f:"",waitForEnter:true},Fc:{__proto__:null,extWhiteList:"extAllowList",phraseBlacklist:"omniBlockList"},Cc:{__proto__:null,baseCSS:1,exclusionTemplate:1,helpDialog:1,searchEngineMap:1,searchEngineRules:1,searchKeywords:1},Vc:["showAdvancedCommands"],Bc:["icons/enabled.bin","icons/partial.bin","icons/disabled.bin"],Rc:{__proto__:null,filterLinkHints:"f",ignoreKeyboardLayout:"l",mapModifier:"a",mouseReachable:"e",keyboard:"k",linkHintCharacters:"c",linkHintNumbers:"n",regexFindMode:"r",smoothScroll:"s",scrollStepSize:"t",waitForEnter:"w"},Ic:r.C,Kc:null,me:{Wc:true,Gc:0,ea:p?"https://www.msn.cn/spartan/ntp":"chrome-search://local-ntp/local-ntp.html",Yc:"pages/blank.html",Jc:false,Zc:null,qc:"",Qc:"",GitVer:"e686e09",Ac:"",Xc:"/lib/injector.js",Ra:["blank","newtab","options","show"],MathParser:"/lib/math_parser.js",HelpDialog:"/background/help_dialog.js",Commands:"/background/commands.js",Exclusions:"/background/exclusions.js",zl:"content/injected_end.js",Jl:"",ns:false,es:true,rs:"pages/options.html",ts:"browser",baseCSS:"vimium-c.css",exclusionTemplate:"exclusions.html",helpDialog:"help_dialog.html",words:"words.txt",us:"lib/polyfill.js",Ia:"https://github.com/gdh1995/vimium-c",Ca:{about:"",changelog:"/RELEASE-NOTES.md",help:"/wiki",home:"",license:"/LICENSE.txt",permissions:"/PRIVACY-POLICY.md#permissions-required",policy:"/PRIVACY-POLICY.md",popup:"options.html",privacy:"/PRIVACY-POLICY.md#privacy-policy",readme:"#readme",release:"/RELEASE-NOTES.md","release-notes":"/RELEASE-NOTES.md",settings:"options.html",wiki:"/wiki",__proto__:null},as:null,cs:"pages/show.html",Hc:"",ls:"/front/vomnibar.js",ss:""}},chrome.runtime.getPlatformInfo(function(n){var e=n.os.toLowerCase(),r=chrome.runtime.PlatformOs||{MAC:"mac",WIN:"win"},t=e===r.WIN?2:e===r.MAC?0:1,i=l.Sc("ignoreCapsLock");l.me.ts=e,l.bc.o=l.gc.o=t,l.gc.i=i>1||1===i&&!t,l.uc.sc|=1,a&&a.fs()}),f<59||!r.Za("\\p{L}","u",0)?l.Dc("words"):l.me.words="",(function(){function n(n){return(47===n.charCodeAt(0)?u:n.startsWith(a)?"":a)+n}var e,r,t,i,o=chrome.runtime.getManifest(),u=location.origin,a=u+"/",c=o.content_scripts[0].js,s=l,m=s.me,d=s.Tc,h=s.Rc,v=s.gc,g="edge://newtab",b="about:newtab",_="chrome://newtab",w=s.wc;for(e in d.newTabUrl=p?g:_,w[b]=w[b+"/"]=1,w[_]=w[_+"/"]=1,p&&(w[g]=w[g+"/"]=1),m.as=Object.keys(o.commands||{}).map(function(n){return"quickNext"===n?"nextTab":n}),m.qc=o.version,m.Qc=o.version_name||o.version,m.rs=n(o.options_page||m.rs),m.Wc=null!=o.permissions&&o.permissions.indexOf("clipboardRead")>=0,m.cs=n(m.cs),m.Hc=n(d.vomnibarPage),m.ss=n(m.ls),m.Ia=o.homepage_url||m.Ia,m.Ca.release+="#"+m.qc.replace(/\D/g,""),m.Xc=n(m.Xc),c.push(m.zl),f<44&&"includes"!=="".includes.name&&c.unshift(m.us),m.Zc=c.map(n),v.g=s.Sc("grabBackFocus"),h)v[h[e]]=s.Sc(e);for(r in s.Fc)null!=(t=s.kc.getItem(r))&&(s.xc(s.Fc[r],t),s.kc.removeItem(r));m.Ac=m.qc+","+f+(f>41&&!0?"a":"")+",",(i=s.kc.getItem("innerCSS"))&&i.startsWith(m.Ac)?s.Mc("innerCSS",i):(s.kc.removeItem("vomnibarPage_f"),s.Dc("baseCSS"))})(),(function(){function t(n){sn&&clearTimeout(sn),sn=n}function i(n,e){var r,t=n.url;return t?(r=l.wc[t])&&1===r&&delete n.url:(t=l._.newTabUrl_f,2===m.ms&&t.endsWith(l.me.Yc)&&t.startsWith(location.origin)||(n.url=t),n.url||delete n.url),chrome.tabs.create(n,e)}function o(n,e){var r=n.windowId,t=null!=n.index;if(i(n,n.active?function(n){n&&n.windowId!==r&&B(n)}:null),!(e<2)){n.active=false;do{t&&++n.index,chrome.tabs.create(n)}while(--e>1)}}function u(n,e){var r,t,i;return null==n&&(n="unknown_sender"),null!=(t=(r=l.yc)[n])?t:e===l._.vomnibarPage_f||(i="background-color:#fffbe5",console.log("%cReceive message from an extension/sender not in the allow list: %c%s",i,i+";color:red",n),r[n]=false)}function s(n){for(var e=n.length;0<--e;)if(n[e].active)return n[e];return n[0]}function p(n,e){return"before"===e?n.index:"start"===e||"begin"===e?0:"end"!==e?n.index+1:void 0}function g(n,e,r){var t=false!==n.focused;t?"minimized"===e&&(e="normal"):"minimized"!==e&&(e="normal"),e&&f>=44&&(n.state=e,e=""),n.focused=true,chrome.windows.create(n,e||!t?function(n){if(r&&r(n),n){var i=t?{}:{focused:false};e&&(i.state=e),chrome.windows.update(n.id,i)}}:r||null)}function _(n,e,t){if(t){if(t.length>0&&t[0].incognito&&r.na(n))return i({url:n}),void r.$()}else if(r.na(n)&&true!==e)return void gn(function(e){return _(n,true,e)});var o={url:n},u=pn;t?chrome.tabs.update(t[0].id,o,u):chrome.tabs.update(o,u),r.$()}function w(n,e,t,i){if(i instanceof Promise)i.then(w.bind(null,n,e,t));else switch(r.$(),i[1]){case 1:return a.ds(i[0],1);case 5:case 6:return e.$p||6===i[1]?n=0:(e=r.T(r.ia(),e)).$p=1,rn=e,L(r.ma(i[0]),n,t);case 4:return void(n>=3&&a.hs(i[0]))}}function y(n,e){var t,i,o,u=r.xa(n),a=u?u.host:"";if(a&&/git\b|\bgit/i.test(a)&&/^[\w\-]+(\.\w+)?(:\d{2,5})?$/.test(a)&&((t=e.split("/"))[i=t.length-1]||(i--,t.pop()),o=t[i],"github.com"===a)){if(3===i)return"pull"===o||"milestone"===o?e+"s":"tree"===o?t.slice(0,3).join("/"):null;if(4===i&&"releases"===t[3]&&("tag"===t[4]||"edit"===t[4]))return t.slice(0,4).join("/");if(i>3)return"blob"===t[3]?(t[3]="tree",t.join("/")):null}}function k(n,e){var r=n.s,t=r.f;return 128&t||(r.f=t|=128|(r.u===l._.vomnibarPage_f||r.u===l.me.Hc?256:0)),!(256&t)&&(e||512&t||(console.warn("Receive a request from %can unsafe source page%c (should be vomnibar) :\n %s @ tab %o","color:red","color:auto",r.u.slice(0,128),r.t),r.f=512|t),true)}function S(n,e,t,i,o,u){var a,c,l,s,m,d,h,p=this.s.u,v=2===n?2:0;if(1===n&&f>=58&&(p=p.slice(0,p.indexOf("/",p.indexOf("://")+3)+1),a=hn,null!=(c=fn>=0?x(fn,0):null)&&(c.s.u.startsWith(p)?v=1:fn=-1),!v))for(l in a){for(m=1,d=(s=a[+l]).length;m<d;m++)if(0===(h=s[m].s).i){h.u.startsWith(p)&&(v=1,fn=+l);break}if(v)break}T(this,{N:43,a:t,m:i,s:o,l:e,i:v,t:u}),r.$()}function T(n,e){try{return n.postMessage(e),1}catch(n){return 0}}function x(n,e){var r,t,i=hn[n];if(!i)return null;for(r=1,t=i.length;r<t;r++)if(i[r].s.i===e)return i[r];return null}function C(n,e,r,t){var i,o,u=on;return t&&(u+=u>0?t:-t),o=u>0,(i=n+u)<=e&&i>-2?o?[n,i]:[i+1,n+1]:!rn.limited&&dn(u)<2*(r||e)?dn(u)<e?o?[e-u,e]:[0,-u]:[0,e]:o?[n,e]:[0,n+1]}function I(e,r){var t,i,o;return t=n("cmdConfirm",[r,n(e)]),i=Date.now(),o=window.confirm(t),dn(Date.now()-i)>9?o?r:0:1}function N(n,e){tn=tn||x(m.Hl,0);var r=a.za(tn,e);"string"!=typeof r?r.then(function(e){n.u=e,e&&In[n.H](n,tn)}):r&&(n.u=r,In[n.H](n,tn))}function M(n){var e=n.s;return 4&e.f?null:(e.f|=6,l._.innerCSS)}function P(n,e){r.ic(),Commands?Commands.or(n,e,Cn):r.Ma("Commands").then(function(){return P(n,e)})}function E(){tn&&tn.postMessage({N:7,S:null,k:ln,c:0,m:0})}function z(n){var e=hn[n?n.s.t:m.Hl];return e?e[0]:null}function U(n,e,r,t,i){var u,a=i.filter(function(n){return n.id===t.windowId})[0],c=null!=a&&a.incognito;if(!r.window&&(c||(i=i.filter(function(n){return n.incognito&&"normal"===n.type})).length>0))return u={url:n,active:e,windowId:c?t.windowId:i[i.length-1].id},c&&(u.index=p(t,r.position),r.opener&&(u.openerTabId=t.id)),o(u,on),!c&&e?B(u):void 0;g({url:n,incognito:true,focused:e},a&&"normal"===a.type?a.state:"")}function $(n,e){if(rn.url||rn.urls)return Tn[24](e),pn();var r=null;if(e)if(e.length>0)r=e[0];else if(m.Hl>=0)return wn(m.Hl,function(e){$(n,e&&[e])}),pn();return o(r?{active:r.active,windowId:r.windowId,index:p(r,rn.position)}:{active:true},on),pn()}function L(n,e,t){var i,o,u,a;"string"==typeof n&&(i=t&&t.length>0?t[0].url:"",(o=rn.url_mask||rn.url_mark)&&(n=n&&n.replace(o+"",/^[%$]s/.test(o)?encodeURIComponent(i):i)),(o=rn.host_mask||rn.host_mark)&&(n=n&&n.replace(o+"",new URL(i).host)),(o=rn.id_mask||rn.id_mark||rn.id_marker)&&(n=n&&n.replace(o+"",chrome.runtime.id)),9!==e&&(n=r.ma(n+"",(rn.keyword||"")+"",e))),u=null==rn.reuse?-1:0|rn.reuse,a=rn,rn=null,r.$(),"string"!=typeof n?w(e,a,t,n):yn(n,u,a)||(r.$r(n)?D(n):1===u?In[19]({u:n}):0===u?_(n):t?O(n,u,a,t):gn(O.bind(null,n,u,a)))}function A(e,t){var i,o,u,c,l,s;return null===t?a.ps("read clipboard"):(t=t.trim())?(r.sa.test(t)?t=t.slice(1,-1):(i=rn.keyword)&&"~"!==i||(t=r.Sa(t)),(o=t.indexOf("://")+3)>3&&r.la.test(t)&&(u=void 0,c=t.indexOf("/",o)+1||t.length,l=t.slice(o,c),t=(s=l.startsWith("0.0.0.0")?7:l.includes(":::")&&(u=/^(\[?::\]?):\d{2,5}$/.exec(l))?u[1].length:0)?t.slice(0,o)+(s>6?"127.0.0.1":"[::1]")+t.slice(o+s):t),void L(t,2,e)):a.ds(n("noCopied"))}function O(n,e,t,i){var u=i[0],a=!!u&&u.incognito,c=t.incognito,l=-2!==e,s=2===e||t.window;if(r.na(n))(a||2===m.ms)&&(s=true);else if(a){if(false!==c)return U(n,l,t,u,[{id:u.windowId,incognito:true}]);s=true}else if(c)return void chrome.windows.getAll(U.bind(null,n,l,t,u));if(!s)return o({url:n,active:l,windowId:u?u.windowId:void 0,openerTabId:t.opener&&u?u.id:void 0,index:u?p(u,t.position):void 0},on);_n(false,function(e){var r=e.state;g({url:n,focused:l},"minimized"!==r&&"docked"!==r?r:"")})}function D(n){if(!"void 0;void(0);".includes(n.slice(11).trim())){if(tn){if(T(tn,{N:5,u:n}))return;tn=null}var e=function(e){if(-1===e||pn()){var t=r.da(n.slice(11));return chrome.tabs.executeScript({code:t},pn),pn()}};f<71?chrome.tabs.update({url:n},e):e(-1)}}function H(n){var e,t,o,u,a,c,l,s=n[0],f=s.windowId,m=rn.urls,d=on;if(!rn.vs){for(e=0;e<m.length;e++)m[e]=r.ma(m[e]+"");rn.vs=1}o=2===(t=rn.reuse)||rn.window?{url:m,incognito:!!rn.incognito}:null,u=!(t<-1),a=p(s,rn.position),rn=null;do{if(o)chrome.windows.create(o,pn);else for(c=0,l=m;c<l.length;c++)i({url:l[c],index:a,windowId:f,active:u}),u=false,null!=a&&a++}while(0<--d)}function q(n,e,t){var o,u,a=false;(t=t.filter(function(n){return"normal"===n.type})).length<=1?(a=true,(u=t[0])&&(u.id!==n.windowId?a=false:u.incognito&&!r.na(l._.newTabUrl_f)&&(o=u.id))):n.incognito||1===(t=t.filter(function(n){return!n.incognito})).length&&t[0].id===n.windowId&&(o=t[0].id,a=true),a&&i({index:e.length,url:"",windowId:o}),F(n,e,0,e.length)}function F(n,e,r,t){var i,o,u,a=chrome.tabs,c=n.index;a.remove(n.id,pn),i=e.slice(c+1,t),o=e.slice(r,c),on<0&&(u=i,i=o,o=u),i.length>0&&a.remove(i.map(function(n){return n.id}),pn),o.length>0&&a.remove(o.map(function(n){return n.id}),pn)}function V(n,e){chrome.tabs.update(n,{active:true},e?B:null)}function B(n){return n&&chrome.windows.update(n.windowId,{focused:true}),pn()}function K(n,e,r,t){r&&2!==r.s.s?r.postMessage({N:7,S:t||6!==n.c?M(e):null,m:t?4:0,c:n.c,n:n.n,k:t?ln:0,a:n.a}):(n.a.$forced=true,e.postMessage({N:10,S:null,c:n.c,n:n.n,a:n.a}))}function W(n,e){var i,o,u,a,l;if(t(0),e)i=e[0],t(setTimeout(W,100,n,null)),i.postMessage({N:13,c:n,i:sn,m:""}),6&i.s.f||In[10]({},i),i.s.f|=2;else{if(a=0,"goBack"===(u=(o=c.bs[n]).gs)||"goForward"===u?a=39:"autoOpen"===u&&(a=41),a&&(o={_s:a,ws:1,gs:u,ys:null,Ye:o.Ye,ks:o.ks}),!o.ws)return;o._s>9||o._s<1?Cn(o,1,0,null,0):(l=o.Ye||(o.Ye=r.ia())).$noWarn||(l.$noWarn=true,console.log("Error: Command",u,"must run on pages which are not privileged"))}}function G(n,e){if(90!==n.H)return In[n.H](n,e);e.postMessage({N:4,m:n.i,r:In[n.c](n.a,e)})}function Y(n,e){var r,t,i=X(n),o=i.t,u=i.u,s=hn[o],f=u===l._.vomnibarPage_f,m=0;if(e>=8||f)if(e<16||f){if(Z(n,o,e))return;i.f=2}else{if(999===e)return;m=(e>>>4&3)-1,i.f=(128&e?3:2)+(64&e&&4)}e>=16?n.postMessage({N:6,d:l.gc}):(r=void 0,t=0,s&&1&(t=i.f=3&s[0].s.f)?r=2!==(m=s[0].s.s)?null:"":m=null===(r=a.Ss(u,i))?0:r?1:2,n.postMessage({N:0,s:t,c:l.gc,p:r,m:c.Ts,k:c.xs})),i.s=m,n.onDisconnect.addListener(J),n.onMessage.addListener(G),s?(s.push(n),2&e&&(cn&&s[0].s.s!==m&&a.Cs(o,m),s[0]=n)):(hn[o]=[n,n],0!==m&&cn&&a.Cs(o,m)),vn&&(i.i=4&e?0:2+(9999997*Math.random()|0))}function J(n){var e,r=n.s.t,t=hn[r];t&&(e=t.lastIndexOf(n),n.s.i?(e===t.length-1?--t.length:e>=1&&t.splice(e,1),t.length<=1?delete hn[r]:n===t[0]&&(t[0]=t[1])):e>=0&&delete hn[r])}function Z(n,e,r){if(r>=8){if(!k(n,false))return e<0&&(n.s.t=8!==r?an--:tn?tn.s.t:m.Hl),Rn.push(n),n.onDisconnect.addListener(Q),n.onMessage.addListener(G),8===r&&n.postMessage({N:42,l:l.bc,s:mn()}),true}else if(!(e<0||f<50||0===n.s.i))return chrome.tabs.executeScript(e,{file:l.me.ls,frameId:n.s.i,runAt:"document_start"},pn),n.disconnect(),true;return false}function Q(n){var e=Rn,r=e.lastIndexOf(n);r===e.length-1?--e.length:r>=0&&e.splice(r,1)}function X(n){var e=n.sender,r=e.tab||{id:an--,url:"",incognito:false},t=e.url;return e.tab=null,n.s={i:e.frameId||0,a:r.incognito,s:0,f:0,t:r.id,u:t}}var nn,en,rn=null,tn=null,on=1,un=null,an=-4,cn=false,ln=0,sn=0,fn=-1,mn=(nn=0,en=0,function(){var n=Date.now();return n-en>3e3&&(nn=1+(0|1879048191*Math.random())),en=n,nn}),dn=Math.abs,hn=r.ia(),pn=r.V,vn=f<41,gn=chrome.tabs.query.bind(null,{active:true,currentWindow:true}),bn=chrome.tabs.query.bind(null,{currentWindow:true}),_n=function(n,e){var r=m.Is,t={populate:n};return r>=0?chrome.windows.get(r,t,e):chrome.windows.getCurrent(t,e)},wn=chrome.tabs.get,yn=function(n,e,r,t){var o,u,a,c=l.me.cs;return!(n.length<c.length+3||!n.startsWith(c))&&(t?((n=n.slice(c.length)).startsWith("#!image ")&&2===m.ms&&(n="#!image incognito=1&"+n.slice(8).trim()),o=t.incognito,l.uc.vc=(u=[n,null,0])[1]=function(){return clearTimeout(u[2]),l.uc.vc=null,u[0]},u[2]=setTimeout(function(){u[0]="#!url vimium://error (vimium://show: sorry, the info has expired.)",u[2]=setTimeout(function(){l.uc.vc===u[1]&&(l.uc.vc=null),u[0]="",u[1]=null},2e3)},1200),on=1,0!==e||o?o?i({url:c,active:-2!==e}):O(c,e,r,[t]):(a=!t.url.split("#",2)[1]&&f>=54?chrome.extension.getViews({tabId:t.id}):[]).length>0&&a[0].location.href.startsWith(c)&&a[0].onhashchange?a[0].onhashchange():chrome.tabs.update(t.id,{url:c}),true):(gn(function(t){if(!t||t.length<=0)return pn();yn(n,e,r,t[0])}),true))},kn=[function(n){if(2!==m.ms&&n&&(n=n.filter(function(n){return!n.incognito})),!(n&&n.length>0))return gn(kn[1].bind(this)),pn();_n(false,kn[2].bind(this,n))},function(n){var e=this.s?kn[3].bind(this,0):null;n.length<=0||2===m.ms&&!n[0].incognito?chrome.windows.create({url:this.u},e&&function(n){if(n.tabs&&n.tabs.length>0)return e(n.tabs[0])}):i({index:n[0].index+1,url:this.u,windowId:n[0].windowId},e)},function(n,e){var r,t=e.id,i=this.u,o=n.filter(function(n){return n.windowId===t});if(!(o.length<=0&&(o=e.incognito?n:n.filter(function(n){return!n.incognito})).length<=0))return this.p&&o.sort(function(n,e){return n.url.length-e.url.length}),(r=s(o)).url.length>o[0].url.length&&(r=o[0]),chrome.tabs.update(r.id,{url:r.url===i||r.url.startsWith(i)?void 0:i,active:true},this.s?kn[3].bind(this,0):null),r.windowId!==t?B(r):void 0;gn(kn[1].bind(this))},function(n,e){var r=this;return e?"complete"===e.status||n>=2?j.Rs(this,e):void setTimeout(function(){wn(e.id,kn[3].bind(r,n+1))},800):pn()}],Sn=[0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,3,0,3,3,0,0,3,0,1,2,0,2,1,0,3,0,3,0,0,1,0,1,1,0,0,0],Tn=[r.C,function(){var n,e=tn,r=-1,t=hn[e.s.t];if(t&&t.length>2){for(r=Math.max(0,t.indexOf(e,1)),n=dn(on);n>0;n--)(r+=on>0?1:-1)===t.length?r=1:r<1&&(r=t.length-1);e=t[r]}e.postMessage({N:7,S:0===e.s.i?M(e):null,k:ln,c:0,m:e!==tn&&t&&e!==t[0]?3:2})},function(){var n=tn.s,e=vn?"Vimium C can not know parent frame before Chrome 41":n&&n.t>=0&&hn[n.t]?null:"Vimium C can not access frames in current tab";if(e&&a.ds(e),!n||!n.i||vn||!chrome.webNavigation)return Tn[32]();chrome.webNavigation.getAllFrames({tabId:n.t},function(e){var r,t,i,o,u,a=n.i,c=a,l=on;do{for(r=false,t=0,i=e;t<i.length;t++)if((o=i[t]).frameId===c){r=(c=o.parentFrameId)>0;break}}while(r&&0<--l);if(!(u=c>0&&c!==a?x(n.t,c):null))return Tn[32]();u.postMessage({N:7,S:M(u),k:ln,c:0,m:4})})},function(){var n,e,r,t,i,o=rn.rel,u=[],a=rn.patterns;for(o=o?o+"":"next",a instanceof Array||("string"==typeof a||(a=""),a=(a=a||("next"!==o?l._.previousPatterns:l._.nextPatterns)).split(",")),n=0,e=a;n<e.length&&((r=(r=e[n])&&(r+"").trim())&&u.push(".#".includes(r[0])?r:r.toLowerCase()),200!==u.length);n++);t=u.map(function(n){return Math.max(n.length+12,4*n.length)}),i=Math.max.apply(Math,t),tn.postMessage({N:10,S:null,c:13,n:1,a:{r:o,p:u,l:t,m:i>0&&i<99?i:32}})},function(){var e,r,i=(rn.key||"")+"",o="ignoreCapsLock"===i?"i":"darkMode"===i?"d":"reduceMotion"===i?"m":l.Rc[i],u=o?l.gc[o]:0,c=n("quoteA",[i]),s=rn.value,f="boolean"==typeof s,m="";if(o?"boolean"==typeof u?f||(s=null):f||void 0===s?m=n(f?"notBool":"needVal",[c]):typeof s!=typeof u&&(m=JSON.stringify(u),m=n("unlikeVal",[c,m.length>10?m.slice(0,9)+"\u2026":m])):m=n(i in l.Tc?"notFgOpt":"unknownA",[c]),m)a.ds(m);else for(e=a.zc(tn.s.t),r=1;r<e.length;r++)e[r].postMessage({N:10,S:e[r]===e[0]?M(tn):null,c:10,n:1,a:{k:o,n:e[r]===e[0]?c:"",v:s}})},function(){if(0===tn.s.i&&!(8&tn.s.f))return In[12]({a:rn},tn);window.HelpDialog||r.Ma("HelpDialog"),tn.postMessage({N:10,S:null,c:16,n:1,a:rn})},function(){var e,t=rn.key,i=null!=rn.hideHUD?!rn.hideHUD:null!=rn.hideHud?!rn.hideHud:!l._.hideHud;e=r.B(t=t&&"string"==typeof t?t:""),tn.postMessage({N:10,S:i?M(tn):null,c:11,n:1,a:{k:e||null,p:!!rn.passExitKey,h:i?[n("5",[e&&": "+t])]:null}})},function(){var n,e,r;n=tn.s.f,e="string"==typeof rn.mode?rn.mode.toLowerCase():"",r="",16&~n&&(r=l.me.words,tn.s.f=16|n),tn.postMessage({N:10,S:M(tn),c:7,n:1,a:{m:"caret"===e?3:"line"===e?2:1,w:r}})},function(){var n=tn.s,e=on<0?-on:on,r=rn.index,t=r?"other"===r?e+1:"count"===r?e:r>=0?-1-(0|r):0:0,i=!!t||!rn.active,o=null;32&n.f||(n.f|=32,o=l._.Oc),tn.postMessage({N:10,S:M(tn),c:1,n:1,a:{n:t>0?on/e:on,l:i,f:o,r:true===rn.returnToViewport,s:!t&&e<2&&!!rn.selected,p:!!rn.postOnEsc,q:i||rn.last?h.Mu(n.a,"",t<0?-t:t):""}})},function(n){var e,t,i,o,u,a,c,s=tn,f=rn.url;null!=f&&true!==f&&"string"!=typeof f&&(f=null,delete rn.url),(s||(s=tn=x(m.Hl,0)))&&(t=s.s.u,i=!(e=l._.vomnibarPage_f).startsWith(v),o=t.startsWith(v),u=n||!e.startsWith(location.origin)?l.me.Hc:e,n=n||(i?o||e.startsWith("file:")&&!t.startsWith("file:")||e.startsWith("http:")&&t.startsWith("https:"):s.s.a||o&&!e.startsWith(t.slice(0,t.indexOf("/",t.indexOf("://")+3)+1))),"bookmark"===(c=r.T(r.At({v:(a=n||e===u||s.s.t<0)?u:e,i:a?null:u,t:a?0:i?2:1,s:a?"":l.me.ss,k:mn()}),rn)).mode&&(c.mode="bookm"),s.postMessage({N:10,S:M(s),c:8,n:on,a:c}),c.k=-1,rn=c)},r.C,function(){function e(n){return o({url:n.url,active:false,windowId:n.windowId,pinned:n.pinned,index:n.index+2,openerTabId:n.id},on-1)}var r=tn?tn.s.t:m.Hl;if(r<0)return a.ps(n("dupTab"));chrome.tabs.duplicate(r),on<2||(f>=52||0===m.ms||l.me.Jc?wn(r,e):chrome.windows.getCurrent({populate:true},function(n){var t,i=n.tabs.filter(function(n){return n.id===r})[0];if(!n.incognito||i.incognito)return e(i);for(t=on;0<--t;)chrome.tabs.duplicate(r)}))},function(){function e(){return a.ds(n("hasIncog"))}var t=!!rn.incognito;if(t&&(tn?tn.s.a:2===m.ms))return e();chrome.windows.getCurrent({populate:true},t?function(t){var i,o,u=s(t.tabs);if(t.incognito&&u.incognito)return e();if(i={tabId:u.id,incognito:true},o=u.url,u.incognito);else{if(t.incognito)return r.na(o)?e():(++u.index,a.Ns(u));if(r.na(o))return a.ps(n("openIncog"));i.url=o}t.tabs=void 0,chrome.windows.getAll(function(n){var e,r;(n=n.filter(function(n){return n.incognito&&"normal"===n.type})).length?chrome.tabs.query({windowId:n[n.length-1].id,active:true},function(n){var e=n[0],r=i.tabId;chrome.tabs.create({url:i.url,index:e.index+1,windowId:e.windowId}),B(e),chrome.tabs.remove(r)}):(r="normal"===t.type?t.state:"",i.url&&(e=i.tabId,i.tabId=void 0,l.me.Jc&&(i.focused=true,r="")),g(i,r,e?null:E),e&&chrome.tabs.remove(e))})}:function(e){var r,t,i,o,u,c=e.tabs,l=c.length,m=!!rn.all;if(m||!(l<=1)){if(r=s(c),t=r.incognito,i=r.index,m)o=[0,u=l];else{if((u=(o=C(i,l))[1]-o[0])>=l)return a.ds(n("moveAllTabs"));if(u>30){if(!(u=I("moveTabToNewWindow",u)))return;u<2&&(o=[i,i+1])}}return g({tabId:c[i].id,incognito:t},"normal"===e.type?e.state:"",u>1?function(n){var r,u,a,l,s,m;E(),r=c.slice(o[0],i),u=c.slice(i+1,o[1]),e.incognito&&f<52&&(r=r.filter(a=function(n){return n.incognito===t}),u=u.filter(a)),s=u.length,m=function(n){return n.id},(l=r.length)&&(chrome.tabs.move(r.map(m),{index:0,windowId:n.id},pn),l>1&&chrome.tabs.move(c[i].id,{index:l})),s&&chrome.tabs.move(u.map(m),{index:l+1,windowId:n.id},pn)}:E)}})},function(n){var e=n[0];chrome.windows.getAll(function(n){var r,t,i=e.windowId,o=n.filter(function(n){return n.incognito===e.incognito&&"normal"===n.type});if(o.length>0){if(r=o.map(function(n){return n.id}),i=r.indexOf(i),r.length>=2||i<0)return t=(i+on)%r.length,i<0&&on<0&&t++,t<0&&(t+=r.length),void chrome.tabs.query({windowId:r[t],active:true},function(n){function r(){chrome.tabs.move(e.id,{index:t.index+(rn.right>0?1:0),windowId:t.windowId},function(){E(),V(e.id,true)})}var t=n[0];i>=0||f>=52?r():(function(n,e,r){var t="number"==typeof n,i={type:"normal",focused:false,incognito:e,state:"minimized",tabId:t?n:void 0,url:t?void 0:n};f<44&&(i.state=void 0,i.left=i.top=0,i.width=i.height=50),chrome.windows.create(i,r)})(e.id,e.incognito,r)})}else o=n.filter(function(n){return n.id===i});g({tabId:e.id,incognito:e.incognito},1===o.length&&"normal"===o[0].type?o[0].state:"",E)})},function(){chrome.windows.getAll(f<46?{populate:true}:{populate:true,windowTypes:["normal","popup"]},function(n){var e,r,t,i,o,u;f<46&&(n=n.filter(function(n){return"normal"===n.type||"popup"===n.type})),e=2===m.ms,r=m.Is,(i=(t=(n=n.filter(function(n){return n.incognito===e})).filter(function(n){return n.id===r})).length?t[0]:null)&&(o=function(e){var r=[],t=function(n){r.push(n.id)};n.sort(function(n,e){return n.id-e.id}).forEach(function(n){return n.tabs.forEach(t)}),r.length&&chrome.tabs.move(r,{windowId:e.id,index:e.tabs.length})},"popup"===i.type&&i.tabs.length?(u=i.tabs[0].id,i.tabs=i.tabs.filter(function(n){return n.id!==u}),g({tabId:u,incognito:e},i.state,o)):(n=n.filter(function(n){return n.id!==r}),o(i)))})},function(n){return e.Ms(on,rn,n)},function(){return e.Ps(rn,tn)},function(n){var e,r,t,i,o,u;if(!(n.length<2)){if(e=on,r=n.length,(o=n[i=((i=rn.absolute?e>0?Math.min(r,e)-1:Math.max(0,r+e):dn(e)>2*n.length?e>0?-1:0:(t=s(n)).index+e)>=0?0:r)+i%r]).pinned&&e<0&&rn.noPinned&&(u=(t||s(n)).index)>i&&!n[u-1].pinned){for(;n[i].pinned;)i++;o=n[i]}return o.active?void 0:V(o.id)}},function(n,e){var r,t,i,o,u,a,c,l,f,d,h,p,v,g,b=rn.highlighted;if(n){if(!e||!e.length)return pn();if(t=e.length,i=s(e),u=1,a=o=i.index,c=o+1,dn(on)>1&&t>1){if(l=0,e[0].pinned!==i.pinned&&!(on<0&&e[o-1].pinned))for(;e[l].pinned;)l++;if((u=(f=C(o,t-l,t))[1]-f[0])>20&&!(u=I("removeTab",u)))return;u>1&&(a=l+f[0],c=l+f[1])}else if(b&&(h="no-current"===b,(u=(d=e.filter(function(n){return n.highlighted})).length)>1&&(h||u<t)&&(chrome.tabs.remove(d.filter(function(n){return n!==i}).map(function(n){return n.id}),pn),u=1),h))return;!a&&u>=t&&true!==(null!=rn.mayClose?rn.mayClose:rn.allow_close)?n<2?bn(Tn[18].bind(null,2)):chrome.windows.getAll(q.bind(null,i,e)):(n<2&&(a=i.index=0,c=1),p=rn.goto||(rn.left?"left":""),-2===(v=u>=t?t:"left"===p?a>0?a-1:c:"right"===p?c<t?c:a-1:"previous"===p?-2:t)&&(v=(g=c<t&&!(e[c].id in m.Es)?e[c]:e.filter(function(n,e){return(e<a||e>=c)&&n.id in m.Es}).sort(m.zs)[0])?g.index:t),v>=0&&v<t&&V(e[v].id),F(i,e,a,c))}else((r=dn(on)>1||b||rn.goto||rn.left)?bn:gn)(Tn[18].bind(null,r?2:1))},function(n){var e=s(n),r=rn.other?0:on,t=e.index,i=false;r>0?(++t,n=n.slice(t,t+r)):(i=t>0&&n[0].pinned&&!n[t-1].pinned,r<0?n=n.slice(Math.max(t+r,0),t):n.splice(t,1)),i&&(n=n.filter(function(n){return!n.pinned})),n.length>0&&chrome.tabs.remove(n.map(function(n){return n.id}),pn)},function(n){if(n){var e=s(n).index,r=C(e,n.length,0,1),t=r[0],i=r[1];chrome.tabs.remove(n[e+1===i||on>0&&t!==e?t:i-1].id)}},function(){var e,r;if(dn(e=on)<2&&(tn?tn.s.a:2===m.ms))return a.ds(n("notRestoreIfIncog"));e>(r=chrome.sessions.MAX_SESSION_RESULTS)&&(e=r);do{chrome.sessions.restore(null,pn)}while(0<--e)},function(){function e(e){if(on>e.length)return a.ds(n("indexOOR"));var r=e[on-1],t=r.tab||r.window;t&&chrome.sessions.restore(t.sessionId)}if(on>chrome.sessions.MAX_SESSION_RESULTS)return e([]);on<=1?chrome.sessions.restore(null,pn):chrome.sessions.getRecentlyClosed(e)},function(e){var r,t,i,o,u,c,l;if(f<54&&a.ds(n("noDiscardIfOld",[54])),r=s(e).index,o=(t=Math.max(0,Math.min(r+on,e.length-1)))>r?1:-1,(i=dn(t-r))>20&&(i=I("removeTab",i)),i)for(!(u=e[r+o]).discarded&&(i<2||u.autoDiscardable)&&chrome.tabs.discard(u.id,i>1?pn:function(){var e=pn();return e&&a.ds(n("discardFail")),e}),c=2;c<=i;c++)!(l=e[r+o*c]).discarded&&l.autoDiscardable&&chrome.tabs.discard(l.id,pn)},function(n){if(rn.urls)return rn.urls instanceof Array?void(n&&n.length>0?H(n):gn(H)):void(rn=null);if((rn.url_mask||rn.url_mark||rn.host_mask||rn.host_mark)&&!n)return pn()||void gn(Tn[24]);if(rn.url)L(rn.url+"",3,n);else if(rn.copied){var e=r.ja(rn.sed);if(e instanceof Promise)return void e.then(A.bind(null,n));A(n,e)}else L(rn.url_f||"",9,n)},function(e){var t,i=(rn.keyword||"")+"",o=a.Ua({u:e[0].url});o&&i?(t=r.wa(o.u.split(" "),i,2),rn=r.At({reuse:0|rn.reuse,opener:true,url_f:t}),Tn[24](e)):a.ds(n(i?"notEngine":"noKw"))},function(n){var e,r,t,i,o=s(n),u=!o.pinned,a={pinned:u},c=u?0:1,l=0;if(dn(on)>1&&u)for(;n[l].pinned;)l++;for(r=l+(e=C(n.length<2?0:o.index,n.length-l,n.length))[c]-c,t=l+e[1-c]-c,i=[];r!==t;r+=u?1:-1)(u||n[r].pinned)&&i.push(n[r].id);if((t=i.length)>30){if(!(t=I("togglePinTab",t)))return;1===t&&(i=[o.id])}for(r=0;r<t;r++)chrome.tabs.update(i[r],a)},function(){if(f<45)return a.ds(n("noMute",[45]));rn.all||rn.other?chrome.tabs.query({audible:true},function(e){var r,t,i,o=rn.other?tn?tn.s.t:m.Hl:-1,u=-1===o?"All":"Other",c=false,l={muted:true};for(r=e.length;0<=--r;)(t=e[r]).id===o||(f<46?t.muted:t.mutedInfo.muted)||(c=true,chrome.tabs.update(t.id,l));if(c)return a.ds(n("mute",[u]));for(l.muted=false,r=e.length;0<=--r;)(i=e[r].id)!==o&&chrome.tabs.update(i,l);a.ds(n("unmute",[u]))}):gn(function(e){var r=e[0],t=f<46?!r.muted:!r.mutedInfo.muted;chrome.tabs.update(r.id,{muted:t}),a.ds(n(t?"muted":"unmuted"))})},function(n){var e,r,t,i,o,u={bypassCache:true===(rn.hard||rn.bypassCache)},a=chrome.tabs.reload;if(!n||n.length<1)return n&&_n(true,function(n){return n&&n.tabs.length&&Tn[28](n.tabs),pn()}),pn();if(dn(on)<2)a(s(n).id,u);else{if(t=(r=C(e=s(n).index,n.length))[0],i=r[1],rn.single&&(t=e=e+1===i||on>0&&t!==e?t:i-1,i=e+1),(o=i-t)>20){if(!(o=I("reloadTab",o)))return;1===o&&(t=e,i=e+1)}for(a(n[e].id,u);t!==i;t++)t!==e&&a(n[t].id,u)}},function(n){if(!(n.length<=0)){var e=n[0];if(++e.index,f>=52||0===m.ms||l.me.Jc||!r.na(e.url))return a.Ns(e);chrome.windows.get(e.windowId,function(n){return n.incognito&&!e.incognito&&(e.openerTabId=e.windowId=void 0),a.Ns(e)})}},function(){on>0&&tn&&tn.s.i&&(tn=x(tn.s.t,0)||tn),N({H:3,u:"",p:on,t:rn.trailingSlash,s:rn.trailing_slash,e:true})},function(n){for(var e=s(n),r=e.pinned,t=Math.max(0,Math.min(n.length-1,e.index+on));r!==n[t].pinned;)t-=on>0?1:-1;t!==e.index&&chrome.tabs.move(e.id,{index:t})},function(){var n=tn?tn.s.t:m.Hl,e=x(n,0);e&&e.postMessage({N:7,S:M(e),k:ln,c:0,m:hn[n][0]===e?2:4})},function(n){if(!(n.length<2)){n.splice(s(n).index,1);var e=(n=n.filter(function(n){return n.id in m.Es}).sort(m.zs))[on>0?Math.min(on,n.length)-1:Math.max(0,n.length+on)];e&&V(e.id)}},function(){var e=!!(rn.decoded||rn.decode),t=rn.type;"frame"===t&&tn?N({H:16,u:"",d:e,e:rn.sed}):chrome.tabs.query("browser"===t?{windowType:"normal"}:{active:"window"!==t&&("tab"!==t||dn(on)<2)||void 0,currentWindow:true},function(i){var o,u,c,l,f,d,h,p,v;t&&"title"!==t&&"frame"!==t&&"url"!==t?(o=tn?tn.s.a:2===m.ms,c=""+((u=rn.format)||"${title}: ${url}"),f="json"===(l=rn.join)&&!u,d=/\$\{([^}]+)\}/g,"tab"===t?(h=C(i.length<2?0:s(i).index,i.length),i=i.slice(h[0],h[1])):(i=i.filter(function(n){return n.incognito===o})).sort(function(n,e){return n.windowId-e.windowId||n.index-e.index}),p=i.map(function(n){return f?{title:n.title,url:e?r.da(n.url,1):n.url}:c.replace(d,function(t,i){return e&&"url"===i?r.da(n.url,1):"__proto__"!==i&&n[i]||""})}),v=r.Ea(p,l,rn.sed),a.ds("tab"===t&&i.length<2?v:n("copiedWndInfo"),1)):In[16]({u:"title"===t?i[0].title:i[0].url,d:e,e:rn.sed},tn)})},function(){var e=tn?tn.s.a:2===m.ms;return h.Us(e),a.ds(n("fhCleared",[e?n("incog"):""]))},function(e){var r=e[0],t=r.url;if(t.startsWith(v))return a.ps(n("openExtSrc"));i({url:t=t.startsWith("view-source:")?t.slice(12):"view-source:"+t,active:r.active,windowId:r.windowId,index:r.index+1,openerTabId:r.id})},function(){rn.local?N({H:18,u:"",a:2},true):j.It()},function(e){var r,t,i,o=e[0].id,u=((rn.style||"")+"").trim(),c=!!rn.current;if(u){for(r=0,t=Rn;r<t.length;r++)if((i=t[r]).s.t===o)return void i.postMessage({N:46,t:u,c:c});c||In[24]({t:u,o:1})}else a.ds(n("noStyleName"))},function(n){if(!n.length)return pn();In[26]({s:on,r:rn.reuse},null,n[0])},function(){var e=rn.text;a.ds(e?e+"":n("needText"))},function(){rn=r.At({copied:true,keyword:rn.keyword}),Tn[24]()},function(){f<42?a.ds("Vimium C can not control zoom settings before Chrome 42"):chrome.tabs.getZoom(function(n){var e,r,t,i,o,u,a;if(!n)return pn();if(on<-4&&(on=-on),e=n,r=Math,on>4)e=r.max(.25,r.min(e=on/(on>1e3?on:on>49?100:10),5));else{for(t=0,i=9,o=[.25,1/3,.5,2/3,.75,.8,.9,1,1.1,1.25,1.5,1.75,2,2.5,3,4,5],u=0,a=0;u<o.length&&(a=dn(o[u]-n))<i;u++)t=u,i=a;e=o[t+on<0?0:r.min(t+on,o.length-1)]}dn(e-n)>.005&&chrome.tabs.setZoom(e)})}],xn=/^-?\d+|^-/,Cn=function(n,e,t,i){var o,u,a,c,l=n.Ye,s=n.ks;if(l&&(o=l.count)&&(e*=o),1===(e=e>=1e4?9999:e<=-1e4?-9999:0|e||1));else if(1===s)e=1;else if(s>0&&(e>s||e<-s)){if(!(e=I(n.gs,dn(e))*(e<0?-1:1)))return}else e=e||1;if(n.ws){if(c=Tn[a=n._s],rn=l||r.ia(),tn=i,on=e,ln=t,(e=Sn[a])<1)return c();e<2||2===e&&dn(on)<2?gn(c):bn(c)}else i.postMessage({N:10,S:1183772>>(u=n._s)&1?M(i):null,c:u,n:e,a:l})},In=[function(e,r){var t,i,o=e.k,u=l.Vc;if(!(o>=0&&o<u.length))return tn=r,a.ps(n("notModify",[o]));t=u[o],i=l.Kc&&l.Kc(),l.Sc(t)!==e.v&&(i?i.then(function(){l.xc(t,e.v)}):l.xc(t,e.v))},function(n,e){return h.Mu(e.s.a,n.q,n.i)},function(n,e){var r=a.Ua(n);if(!("i"in n))return r;e.postMessage({N:44,i:n.i,s:r})},function(n,e){var t,i,o,u,c,l,s,f,m,d,h,p,g,b,_,w,k,S,T,x;if(n.e)return n.e=false,void(null==(t=In[3](n)).p?(tn=e,a.ds(t.u)):e?e.postMessage({N:10,S:null,c:14,n:1,a:{url:t.u}}):chrome.tabs.update({url:t.u}));if(o=(i=n.u).toLowerCase(),!r.la.test(r.ka(o)))return r.$(),{u:"This url has no upper paths",p:null};if(u=encodeURIComponent,c="",false,m=false,false,h=null,g=0,b=0,_=false,(p=i.lastIndexOf("#")+1)&&(c=i.slice(p+ +("!"===i.substr(p,1))),((p=(l=r.da(c)).lastIndexOf("/"))>0||0===p&&l.length>1)&&(_=l!==c,"/"===(h=(s=(k=/([^&=]+=)([^&\/=]*\/[^&]*)/).exec(l)||/(^|&)([^&\/=]*\/[^&=]*)(?:&|$)/.exec(l))?s[2]:l)||h.includes("://")?h=null:s?_?(l="https://example.com/",l=encodeURI(l+h).slice(l.length),(p=c.indexOf(l))<0&&(p=c.indexOf(l=u(h))),p<0&&(_=false,p=c.indexOf(l=h)),b=p+l.length,p<0&&"&"!==s[1]&&((p=c.indexOf(l=s[1]))<0&&(_=true,l=u((l=s[1]).slice(0,-1)),p=c.indexOf(l)),p>=0&&(b=c.indexOf("&",p+=l.length)+1)),p>=0?g=p:(w=k.exec(c))?(h=r.da(w[2]),b=(g=w.index+w[1].length)+w[2].length):"&"!==(l=s[1])&&(p=i.length-c.length,c=l+u(h),i=i.slice(0,p)+c,g=l.length,b=0)):g=s.index+s[1].length:g=0,h&&(g+=p=i.length-c.length,b>0&&(b+=p)))),!h){if(o.startsWith(v)&&!n.f)return r.$(),{u:"An extension has no upper-level pages",p:null};c="",g=i.indexOf("/",i.indexOf("://")+3),o.startsWith("filesystem:")&&(g=i.indexOf("/",g+1)),p=i.indexOf("?",g=g<0?0:g),b=i.indexOf("#",g),h=i.slice(g,p=(p=b<0?p:p<0?b:p<b?p:b)>0?p:i.length),b=0,_=false}if(p=n.p,f=h.startsWith("/"),!c&&o.startsWith("file:")){if(h.length<=1||11===i.length&&i.endsWith(":/")){if(!n.f)return r.$(),{u:"This has been the root path",p:null};p=0}m=true,n.f||1===p&&(p=-1)}else m=!(c||!o.startsWith("ftp:"))||(null!=n.t?!!n.t:null!=n.s?!!n.s:h.length>1&&h.endsWith("/")||/\.([a-z]{2,3}|apng|jpeg|tiff)$/i.test(h));return T=(S=h.slice(+f,h.length-+h.endsWith("/")).split("/")).length,x=p<0?p+T:p,d=T<=1&&p<=-2&&i.lastIndexOf("#",g)>0,S.length=p=x>T?T:p>0?x-1:x>0?x:0,h=S.join("/"),(l=n.a||"")&&(h+="/"===l[0]?l:"/"+l),h=h?("/"===h[0]?"":"/")+h+(!m||h.endsWith("/")?"":"/"):"/",!b&&i.lastIndexOf("git",g-3)>0&&(h=y(i,h)||h),!d||h&&"/"!==h?(l=_?u(h):h,i=i.slice(0,g)+(b?l+i.slice(b):l)):i=i.split("#",1)[0],r.$(),{u:i,p:h}},function(e,t){function i(e){var i=null===e?"It's not allowed to read clipboard":(e=e.trim())?"":n("noSelOrCopied");if(i)return tn=t,void a.ds(i);e=r.wa(e.split(r.aa),u.k),yn(e,0,{})||_(e)}var o,u=a.Ua(e);if(!u||!u.k)return tn=t,a.ds(n("noEngineFind"));(o=e.t.trim()||(e.c?r.ja(e.s):""))instanceof Promise?o.then(i):i(o)},function(e,r){var t,i=e.s,o=false!==e.a;if(tn=z(r),"number"!=typeof i){if(chrome.sessions.restore(i,function(){var e=pn();return e&&a.ds(n("noSessionItem")),e}),!o)return(t=r.s.t)>=0||(t=m.Hl),t>=0?V(t):void 0}else chrome.tabs.update(i,{active:true},function(e){var r=pn();return r?a.ds(n("noTabItem")):B(e),r})},function(n,e){var t,i,o,u;r.At(n),t=null!=e&&k(e,true),tn=t?e:z(e)||tn,i=n.u,(o=r.ia()).reuse=n.r,o.incognito=n.i,i?(n.f||(":"===i[0]&&n.o&&/^:[bdhostw]\s/.test(i)&&((i=i.slice(2).trim())||(t=false)),i=r.Fa(i),i=r.ma(i,n.k?n.k+"":"",t?-1:3),u=r.fa,null==n.h||2!==u&&1!==u?t&&3===u&&i.startsWith("vimium:")&&(i=r.ma(i)):i=(n.h?"https":"http")+i.slice("s"===i[4]?5:4)),o.opener=t&&!n.n,o.url_f=i):(o.copied=n.c,o.keyword=n.k?n.k+"":""),on=1,rn=o,Tn[24]()},function(n,e){var r,t=e.s.t,i=hn[t];if(i){if(e!==i[0])return cn&&(r=e.s.s)!==i[0].s.s?(i[0]=e,void a.Cs(t,r)):void(i[0]=e)}else cn&&a.Cs(t,e.s.s)},function(n,e){var r,t,i,o,u=e;if(u||(u=x(n.tabId,n.frameId))){if(t=(r=u.s).u,i=a.Ss(r.u=e?n.u:n.url,r),r.s!==(o=null===i?0:i?1:2)){if(1&r.f)return;r.s=o,cn&&hn[r.t][0]===u&&a.Cs(r.t,o)}else if(!i||i===a.Ss(t,r))return;u.postMessage({N:1,p:i})}},function(n,e){var r,t;if(tn=e,on=1,ln=n.k,2!==(r=n.t||0))return Tn[1===r?2:1]();(t=hn[e.s.t])?t[0].postMessage({N:7,S:null,k:ln,c:0,m:1}):T(e,{N:45,l:ln})},function(n,e){var r,t,i,o=hn[e.s.t];if(o&&(o[0].s.f|=2,!(o.length<3)))for(r={N:8},t=o.length;0<--t;)(i=o[t])!==e&&(i.postMessage(r),i.s.f|=2)},function(n,e){var r,t,i,o=e.s.t,u=hn[o],a=n.u;if(!u||u.length<3)return false;for(r=null,t=u.length;1<=--t;)if(u[t].s.u===a){if(r){r=null;break}r=u[t]}return r?(ln=n.k,K(n,e,r,1)):(i=chrome.webNavigation)&&i.getAllFrames({tabId:e.s.t},function(r){var t,i,u,a,c=0,l=e.s.i;for(t=0,i=r;t<i.length;t++)if((u=i[t]).parentFrameId===l){if(c){c=0;break}c=u.frameId}(a=c&&x(o,c))&&(ln=n.k,K(n,e,a,1))}),!!r},function(n,e){Promise.all([r.Ma("HelpDialog"),new Promise(function(n){l.Dc("helpDialog",n)})]).then(function(r){var t=n.w&&x(e.s.t,0)||e,i=t.s.u.startsWith(l.me.rs),o=n.a||{};t.s.f|=8,t.postMessage({N:14,S:M(t),h:r[0]._i(i),o:l.me.rs,e:!!o.exitOnClick,c:l.Sc("showAdvancedCommands",true)||i&&0!==l.uc.fc})},null)},function(n,e){e.s.f|=6,e.postMessage({N:12,S:l._.innerCSS})},function(n,e){var t=n.c,i=n.i;if(ln=0,null!=t)delete n.c,delete n.H,delete n.i,on=+t||1,rn=r.At(n);else{if(true!==n.r)return;if(null==rn||-1!==rn.secret){if(i)return;rn=r.ia(),on=1}else if(i&&rn.v===l.me.Hc)return}return tn=e,Tn[9](i)},function(n,e){if(!k(e,false))return d.$s(n.q,n,S.bind(e,0|n.i))},function(n,e){var t,i=!0;(t=n.u)?n.d&&(t=(t=r.da(t,1)).endsWith(" ")?t:n.u):(i="string"==typeof(t=n.s))&&t.length<4&&!t.trim()&&" "===t[0]&&(t=""),t=t&&r.Ea(t,n.j,n.e),tn=e,i&&a.ds(t,1)},function(n,e){var t,i,o,u,a,l;e.s.f|=2,i=1,null!=(o=xn.exec(t=n.k))&&(t=t.slice((u=o[0]).length),i="-"!==u?parseInt(u,10)||1:-1),t in(a=c.Ls)||(o=t.match(r.nc),t=o[o.length-1],i=1),l=a[t],r.$(),Cn(l,i,n.l,e,0)},function(n,e){switch(tn=e,n.a){case 1:return j.bl(n,e);case 0:return j.As(n,e);case 2:return j.It(n.u);default:return}},function(n,e,t){var i,o=r.Ba(n.u.split("#",1)[0]),u=kn[0];t||!o.startsWith("file:")||o.includes(".",o.lastIndexOf("/")+1)?(n.p&&(o+="*"),i=u.bind(n)):(o+="/",i=function(e){return e&&e.length>0?u.call(n,e):In[19](n,null,true)}),chrome.tabs.query({url:o,windowType:"normal"},i)},function(n,e){var r=n.c,i=n.i;i>=-1&&sn!==i||(t(0),n.r?(function(n){var e=un;un=null,n>1&&e&&(n<3&&(on=on>0?1:-1),e())})(n.r):Cn(c.bs[r],n.n,0,e,0))},function(n,e){return a.Os(n,e)},function(e,t){if(!r.xa(e.u))return tn=t,void a.ds(n("invalidImg"));var i=l.me.cs+"#!image ";e.f&&(i+="download="+encodeURIComponent(e.f)+"&"),false!==e.a&&(i+="auto=once&"),yn(i+e.u,e.r,{opener:true})},function(n,e){K(n,e,x(e.s.t,0),n.f)},function(n,e){var t,i,o,u,a,c,s,f,m,d=l.bc,h=d.s;if(n.o||!l.uc.pc)if(u=(o=h&&" "+h+" ").includes(i=" "+n.t+" "),t=(t=(a=null!=n.e?n.e:u)?u?h:h+i:o.replace(i," ")).trim().replace(r.aa," "),false!==n.b){if(n.o&&(l.uc.pc=a!==(" "+l._.vomnibarOptions.styles+" ").includes(i)),t!==h)for(d.s=t,c={N:47,d:{s:t}},s=0,f=Rn;s<f.length;s++)(m=f[s])!==e&&m.postMessage(c)}else d.s=t},function(n,e){rn=r.At({active:true,returnToViewport:true}),tn=e,on=1,Tn[8]()},function(e,r,t){function i(n,e){chrome.tabs.executeScript(n.id,{code:"history.go("+e+")",runAt:"document_start"},pn)}var o,u,c,l=t?t.id:r.s.t,s=e.s,m=e.r,d=false;if(f<72){if((t?t.url:(r.s.i?x(l,0):r).s.u).startsWith(v)&&!0)return tn=r,void a.ds(n("noTabHistory"));d=true}if(m)chrome.tabs.duplicate(l,function(n){if(!n)return pn();-2===m&&V(l),d?i(n,s):In[26]({s:s,r:0},null,n)});else if(o=s>0?chrome.tabs.goForward:chrome.tabs.goBack)for(u=0,c=s>0?s:-s;u<c;u++)o(l,pn);else i(t,s)},function(){return l.uc.hc&&l.uc.hc(),{m:l._c}},function(n,e){e.s.f|=4}],Rn=[];a={Ds:In[5],Tr:In[6],Hs:In[8],Lr:In[19],qs:In[24],Ss:r.tc,za:function(n,e){var r=Exclusions;return(n=n||x(m.Hl,0))&&r&&r.Fs.length>0&&(e||r.Vs)?n.s.u:n&&n.s.i?"":new Promise(function(e){n?wn(n.s.t,function(n){return e(n?n.url:""),pn()}):gn(function(n){return e(n&&n.length?n[0].url:""),pn()})})},Os:function(e,r){var t=e.t,i=e.u,o="tab"===t?t:t+" item";return tn=z(r),"tab"===t&&m.Hl===+i?a.ds(n("notRemoveCur")):d.Os(i,t,function(e){return a.ds(n(e?"delSug":"notDelSug",[n("sug_"+t)||o]))})},Cs:function(){},ps:function(e){a.ds(n("notAllowA",[e]))},Ua:function(n){var e,t,i,o,u,a,c=n.u,s=c.toLowerCase(),f=null,m=false;if(!r.la.test(r.ka(s)))return r.$(),null;if(n.p)return{k:"",s:0,u:(o=null!=(i=In[3](n)).p)?i.u:c,e:o?i.p:i.u};for(u=l._.searchEngineRules,(t=r.Xa(s))&&(s=s.slice(t),c=c.slice(t)),t=u.length;0<=--t&&(!s.startsWith((e=u[t])._l)||!(f=c.slice(e._l.length).match(e.Ya))););if(!f||!e)return r.$(),null;for(f.length>1&&!e.Ya.global&&f.shift(),a=e.Ja,f.length>1?m=true:a instanceof RegExp?(f=(s=f[0]).match(a))?(f.shift(),m=true):f=[s]:f=f[0].split(a),s="",t=0;t<f.length;t++)s+=" "+r.da(f[t]);return s=s.trim().replace(r.aa," "),r.$(),{k:e.Wa,u:s,s:m?s.lastIndexOf(" ")+1:0}},Ns:function(n,e){var r,t,o,u=n.id;if(e)return r=0,t=-1,o=function(){var n=pn();if(n)return chrome.sessions.restore(),t>=0&&chrome.tabs.remove(t),t=0,n;(r+=1)>=5||setTimeout(function(){wn(u,o)},50*r*r)},1===e&&chrome.tabs.create({url:"about:blank",active:false,windowId:n.windowId},function(n){t?t=n.id:chrome.tabs.remove(n.id)}),chrome.tabs.remove(u,pn),void wn(u,o);i({windowId:n.windowId,index:n.index,url:n.url,active:n.active,pinned:n.pinned,openerTabId:n.openerTabId}),chrome.tabs.remove(u)},ds:function(n,e){tn&&!T(tn,{N:12,S:M(tn),t:n,c:e})&&(tn=null)},hs:function(e,r){var t,i,o,u,c,l,s,f,d,h,p,v,g,b,_=hn[r||(r=m.Hl)];if(_)if(i=(t=e.indexOf(" "))>0?e.slice(t+1):"",e=e.toLowerCase(),t>0&&(e=e.slice(0,t)),(i=((o=!!i&&/^silent/i.test(i))?i.slice(7):i).trimLeft())&&!i.startsWith("^ ")?(console.log('"vimium://status" only accepts a list of hooked keys'),i=""):i=i&&i.replace(/<(\S+)>/g,"$1"),u=null==Exclusions||Exclusions.Fs.length<=0,c=_[0].s.s,f=!((s=null!==(l="enable"===e?0:"disable"===e?2:"toggle"===e||"next"===e?0!==c?0:2:null))||u),d={N:1,p:2!==l?null:i,f:s},tn=x(r,0)||_[0],null===l&&r<0)o||2!==c&&a.ds(n("unknownStatAction",[e]));else{for(p=s?l:0,v=_.length;1<=--v;)(b=(g=_[v]).s).f=s?1|b.f:-2&b.f,f&&1!=(p=null===(h=d.p=a.Ss(b.u,b))?0:h?1:2)&&b.s===p||(b.s=p,g.postMessage(d));o||2!==p&&a.ds(n("newStat",[n(0===p?"fullEnabled":"halfDisabled")])),cn&&(p=_[0].s.s)!==c&&a.Cs(r,p)}},Bs:function(n){var e,r=m.Hl,t=hn[r];if("quickNext"===n&&(n="nextTab"),(e=c.bs)&&e[n])return null==t||2&t[0].s.f||r<0?W(n,t):void wn(r,function(e){return W(n,e&&"complete"===e.status?hn[e.id]:null),pn()});e&&null!==e[n]&&(e[n]=null,console.log("Shortcut %o has not been configured.",n))},zc:function(n,e){return null==n?hn:null==e?-3===n?Rn:hn[n]||null:x(n,e)},fs:function(){3===l.uc.sc&&(c.xs||l.Mc("keyMappings"),a.fs=null,l.Sc("hideHud",true),l.Sc("nextPatterns",true),l.Sc("previousPatterns",true),chrome.runtime.onConnect.addListener(function(n){return Y(n,0|n.name)}),chrome.runtime.onConnectExternal.addListener(function(n){var e,r=n.sender,t=n.name;if(r&&u(r.id,r.url)&&t.startsWith("vimium-c.")&&(e=t.split("@")).length>1){if(e[1]!==l.me.GitVer)return n.postMessage({N:2,t:1}),void n.disconnect();Y(n,0|e[0].slice(9))}else n.disconnect()}))}},l.Nc.newTabUrl_f=function(n){var e=r.na(n);Tn[10]=$.bind(null,e)},l.Nc.showActionIcon=function(n){cn=n&&!!chrome.browserAction},chrome.runtime.onMessageExternal.addListener(function(n,e,r){if(u(e.id,e.url))if("string"!=typeof n){if("object"==typeof n&&n)switch(n.handler){case"shortcut":var t=n.shortcut;t&&a.Bs(t+"");break;case"id":r({name:"Vimium C",host:location.host,shortcuts:true,injector:l.me.Xc,version:l.me.qc});break;case 99:r({s:n.scripts?l.me.Zc:null,version:l.me.qc,host:"",h:"@"+l.me.GitVer});break;case"command":P(n,e)}}else P({command:n},e);else r(false)}),l.Mc("extAllowList"),chrome.tabs.onReplaced.addListener(function(n,e){var r,t=hn,i=t[e];if(i)for(delete t[e],t[n]=i,r=i.length;0<--r;)i[r].s.t=n}),l.Mc("vomnibarPage",null),l.Mc("searchUrl",null),l.Mc("vomnibarOptions"),window.onunload=function(n){var e,r,t,i;if(!n||false!==n.isTrusted){for(r in(e=hn).o=Rn,e)for(i=(t=e[r]).length;0<--i;)t[i].disconnect();Rn.length>0&&Rn[0].disconnect()}}})();