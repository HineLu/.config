"use strict";var r,a,n,f,p,g,v,l;r={y:function(n,e){for(var r in e)r in n||(n[r]=e[r]);return n},S:function(){},C:/a?/,x:function(){return this.C.test("")},T:function(){return chrome.runtime.lastError},I:function(n){return n.length>1?"<escape>"===n?"esc":n.slice(1,-1):n},R:function(n,e,r){var t=r<n.length&&r>e?n.charCodeAt(r-1):0;return n.slice(e,r+=t>=55296&&t<56320?1:8205===t&&r>e+1?-1:0)},M:function(n,e,r){var t=e>0&&e<n.length?n.charCodeAt(e):0;return n.slice(e+=t>=56320&&t<=57343?-1:8205===t&&e<n.length-1&&e<r-1?1:0,r)},P:function(n){function e(n){var e=n.charCodeAt(0);return 38===e?"&amp;":39===e?"&apos;":e<39?"&quot;":60===e?"&lt;":"&gt;"}var r=/["&'<>]/g;return this.P=function(n){return n.replace(r,e)},this.P(n)},E:function(n){return 58===n.charCodeAt(10)&&"javascript"===n.slice(0,10).toLowerCase()},U:function(n){return(n=n.slice(0,99).toLowerCase()).startsWith("about:")?"about:blank"!==n&&"about:blank/"!==n:n.startsWith("chrome:")?!n.startsWith("chrome://downloads"):n.startsWith(v)&&!n.startsWith(l.$.z)||p&&/^(edge|extension):/.test(n)&&!n.startsWith("edge://downloads")},A:".\u4e2d\u4fe1.\u4e2d\u56fd.\u4e2d\u570b.\u4e2d\u6587\u7f51.\u4f01\u4e1a.\u4f5b\u5c71.\u4fe1\u606f.\u516c\u53f8.\u516c\u76ca.\u5546\u57ce.\u5546\u5e97.\u5546\u6807.\u5728\u7ebf.\u5a31\u4e50.\u5e7f\u4e1c.\u6211\u7231\u4f60.\u624b\u673a.\u62db\u8058.\u653f\u52a1.\u6e38\u620f.\u7f51\u5740.\u7f51\u5e97.\u7f51\u5e97.\u7f51\u7edc.\u8d2d\u7269.\u96c6\u56e2.\u9910\u5385.",L:["","",".ac.ad.ae.af.ag.ai.al.am.ao.aq.ar.as.at.au.aw.ax.az.ba.bb.bd.be.bf.bg.bh.bi.bj.bm.bn.bo.br.bs.bt.bv.bw.by.bz.ca.cc.cd.cf.cg.ch.ci.ck.cl.cm.cn.co.cr.cu.cv.cw.cx.cy.cz.de.dj.dk.dm.do.dz.ec.ee.eg.er.es.et.eu.fi.fj.fk.fm.fo.fr.ga.gb.gd.ge.gf.gg.gh.gi.gl.gm.gn.gp.gq.gr.gs.gt.gu.gw.gy.hk.hm.hn.hr.ht.hu.id.ie.il.im.in.io.iq.ir.is.it.je.jm.jo.jp.ke.kg.kh.ki.km.kn.kp.kr.kw.ky.kz.la.lb.lc.li.lk.lr.ls.lt.lu.lv.ly.ma.mc.md.me.mg.mh.mk.ml.mm.mn.mo.mp.mq.mr.ms.mt.mu.mv.mw.mx.my.mz.na.nc.ne.nf.ng.ni.nl.no.np.nr.nu.nz.om.pa.pe.pf.pg.ph.pk.pl.pm.pn.pr.ps.pt.pw.py.qa.re.ro.rs.ru.rw.sa.sb.sc.sd.se.sg.sh.si.sj.sk.sl.sm.sn.so.sr.st.su.sv.sx.sy.sz.tc.td.tf.tg.th.tj.tk.tl.tm.tn.to.tr.tt.tv.tw.tz.ua.ug.uk.us.uy.uz.va.vc.ve.vg.vi.vn.vu.wf.ws.ye.yt.za.zm.zw",".abc.art.bid.biz.cat.com.dev.edu.fit.fun.gov.ink.int.kim.law.lol.ltd.men.mil.moe.mom.mtn.net.new.one.org.pro.pub.red.ren.run.tel.top.vip.win.xin.xxx.xyz",".aero.arpa.asia.auto.band.beer.chat.city.club.cool.coop.date.fund.game.gift.gold.guru.help.info.jobs.life.link.live.loan.love.luxe.mobi.name.news.pics.plus.shop.show.site.sohu.team.tech.wang.wiki.work.yoga.zone",".citic.cloud.email.games.group.local.onion.party.photo.press.rocks.space.store.today.trade.video.world",".center.design.lawyer.market.museum.online.social.studio.travel",".company.fashion.science.website",".engineer.software"],D:function(){return Object.create(null)},O:function(n){return Object.setPrototypeOf(n,null)},F:Object.create(null),V:/^([^:]+(:[^:]+)?@)?([^:]+|\[[^\]]+])(:\d{2,5})?$/,B:/\s+/g,W:/\xa0/g,G:/^[a-z][\+\-\.\da-z]+:\/\//,K:/^"[^"]*"$|^'[^']*'$|^\u201c[^\u201d]*\u201d$/,Y:0,J:function(n,e,t){var o,i,u,a,c,l,s,d,m,h=r;return n=n.trim(),h.Y=0,h.E(n)?(f<46&&n.includes("%")&&!/["\[\]{}\u00ff-\uffff]|%(?![\dA-F]{2}|[\da-f]{2})/.test(n)&&(n=h.Q(n)),n=n.replace(h.W," "),h.x(),n):(o=-1,i=0,u=false,d='"'===(l=n.replace(/[\n\r]+[\t \xa0]*/g,"").replace(h.W," "))[0]&&l.endsWith('"'),m=l,n=l=d?l.slice(1,-1):l,/^[A-Za-z]:(?:[\\/][^:*?"<>|]*)?$|^\/(?:Users|home|root)\/[^:*?"<>|]+$/.test(n)?(":"===n[1]&&(n=n[0].toUpperCase()+":/"+n.slice(3).replace(/\\/g,"/")),h.x(),"file://"+("/"===n[0]?n:"/"+n)):n.startsWith("\\\\")&&n.length>3?((n=n.slice(2).replace(/\\/g,"/")).lastIndexOf("/")<=0&&(n+="/"),h.x(),"file://"+n):((a=(n=l.toLowerCase()).indexOf(" ")+1||n.indexOf("\t")+1)>1&&(n=n.slice(0,a-1)),0===(a=n.indexOf(":"))?o=4:-1!==a&&h.G.test(n)?n.startsWith("vimium:")?(o=3,t|=0,n=l.slice(9),t<-1||!n?l="vimium://"+n:-1===t||d||!(l=h.Z(n,t))?l=h.X(n,false,t):"string"!=typeof l&&(o=5)):(-1===(c=n.indexOf("/",a+3))?n.length<l.length:n.charCodeAt(c+1)<33)?o=4:/[^a-z]/.test(n.slice(0,a))?o=(a=n.charCodeAt(a+3))>32&&47!==a?0:4:n.startsWith("file:")?o=0:n.startsWith("chrome:")?o=n.length<l.length&&n.includes("/")?4:0:n=n.slice(a+3,c>=0?c:void 0):(-1!==a&&n.lastIndexOf("/",a)<0&&(o=h.nn(l.toLowerCase(),a,n.length%l.length)),i=2,c=l.length,-1===o&&n.startsWith("//")&&(n=n.slice(2),i=1,c-=2),-1!==o?"about:blank/"===n&&(l="about:blank"):(a=n.indexOf("/"))<=0?(0===a||n.length<c)&&(o=4):n.length>=c||n.charCodeAt(a+1)>32?(u=n.length>a+1,n=n.slice(0,a)):o=4),-1===o&&n.lastIndexOf("%")>=0&&(n=r.Q(n)).includes("/")&&(o=4),-1===o&&n.startsWith(".")&&(n=n.slice(1)),-1!==o||((s=h.V.exec(n))?(n=s[3]).endsWith("]")?o=h.en(n,6)?i:4:"localhost"===n||n.endsWith(".localhost")||h.en(n,4)||s[4]&&u?o=i:(a=n.lastIndexOf("."))<0||0===(o=h.rn(n.slice(a+1)))?(a<0&&"__proto__"===n&&(n="."+n),c=n.length-a-1,o=2!==i&&(a<0||c>=3&&c<=5)||h.tn(n,s[4])>0?i:4):o=/[^.\da-z\-]|^xn--|^-/.test(n)?(n.length===a+3||1!==o?!i:h.tn(n,s[4]))?i:4:2!==i||u?i:n.endsWith(".so")&&n.startsWith("lib")&&n.indexOf(".")===n.length-3?4:s[2]||s[4]||!s[1]||/^ftps?(\b|_)/.test(n)?2:n.startsWith("mail")||n.indexOf(".mail")>0||(c=n.indexOf("."))===a?4:n.indexOf(".",++c)!==a?2:n.length===a+3&&1===o&&h.rn(n.slice(c,a),true)?4:2:(o=4,n.length===l.length&&h.en(n="["+n+"]",6)&&(l=n,o=2))),h.x(),h.Y=o,0===o?l.startsWith("extension://")?"chrome-"+l:l:4===o?h.on(m.split(h.B),e||"~",t):o<=2?(2===h.tn(n,s&&s[4])?"https:":"http:")+(2===o?"//":"")+l:l))},tn:function(n,e){var r=e&&this.F[n+e]||this.F[n];return r?r.in?2:1:0},nn:function(n,e,r){var t=this,o="/"===n.substr(e+1,1);switch(n.slice(0,e)){case"about":return o?4:r>0||n.includes("@",e)?-1:0;case"blob":case"view-source":return(n=n.slice(e+1)).startsWith("blob:")||n.startsWith("view-source:")?4:(t.J(n,null,-2),t.Y<=2?0:4);case"data":return o?4:(e=n.indexOf(",",e))<0||r>0&&r<e?-1:0;case"file":return 0;case"filesystem":return n=n.slice(e+1),t.G.test(n)?(t.J(n,null,-2),0===t.Y&&/[^/]\/(?:persistent|temporary)(?:\/|$)/.test(n)?0:4):4;case"magnet":return"?"!==n[e+1]?-1:0;case"mailto":return o?4:(e=n.indexOf("/",e))>0&&n.lastIndexOf("?",e)<0?-1:0;case"tel":return/\d/.test(n)?0:4;default:return o?4:-1}},un:function(n){var e=n.startsWith("filesystem:")?11:n.startsWith("view-source:")?12:0;return e?n.slice(e):n},an:function(n){var e,t,o=n.indexOf("\uff1a")+1||n.indexOf(":")+1;return o&&"/"!==n[o]?"link"!==(e=n.slice(0,o-1).trim().toLowerCase())&&"\u94fe\u63a5"!==e?n:(t=(t=n.slice(o).trim()).split(" ",1)[0],",.;\u3002\uff0c\uff1b".includes(t.slice(-1))&&(t=t.slice(0,-1)),t=this.J(t,null,-2),r.Y<=2&&!t.startsWith("vimium:")?t:n):n},rn:function(n,e){return!e&&/[^a-z]/.test(n)?this.A.includes("."+n+".")?2:0:n&&n.length<this.L.length&&this.L[n.length].includes(n)?1:0},cn:function(n){var e=n.toLowerCase().split("."),t=e.length;return[e,0===r.rn(e[t-1])?1:t>2&&2===e[t-1].length&&1===r.rn(e[t-2])?3:2]},en:function(n,e){return!!(6!==e&&/^\d{1,3}(?:\.\d{1,3}){3}$/.test(n)||4!==e&&/^\[[\da-f]{0,4}(?::[\da-f]{0,4}){1,5}(?:(?::[\da-f]{0,4}){1,2}|:\d{0,3}(?:\.\d{0,3}){3})]$/.test(n))&&!!this.ln("http://"+n)},ln:function(n){try{return new URL(n)}catch(n){}return null},X:function(n,e,r){var t,o,i="",u="",a=n.trim();if(!a)return e?"":location.origin+"/pages/";if((t=a.indexOf(" ")+1)&&(u=a.slice(t).trim(),a=a.slice(0,t-1)),(t=a.search(/[\/#?]/)+1)&&(i=a.slice(t-1).trim(),a=a.slice(0,t-1)),"display"===a&&(a="show"),!/\.\w+$/.test(a))if(a=a.toLowerCase(),null!=(o=l.$.sn[a]))o=a=o&&"/"!==o[0]&&"#"!==o[0]?o:l.$.fn+(o.includes(".")?"/blob/master"+o:o);else{if("newtab"===a)return l.dn.newTabUrl_f;if("/"===a[0]||l.$.mn.indexOf(a)>=0)a+=".html";else{if(1===r||-1===r)return"vimium://"+n.trim();a="show.html#!url vimium://"+a}}return e||o&&o.includes("://")||(a=location.origin+("/"===a[0]?"":"/pages/")+a),i&&(a+=i),a+(u&&(a.includes("#")?" ":"#!")+u)},hn:0,Z:function(n,e,t){var o,i,u,c,l,s,f,d,m=r;if("paste"===n&&(n+=" ."),(e|=0)<0||!(i=n=n.trim())||(o=n.indexOf(" "))<=0||!/^[a-z][\da-z\-]*(?:\.[a-z][\da-z\-]*)*$/i.test(i=n.slice(0,o).toLowerCase())||/\.(?:css|html|js)$/i.test(i))return null;if(!(n=n.slice(o+1).trim()))return null;if(s=/[\s+,\uff0b\uff0c]+/g,1===e)switch(i){case"sum":case"mul":n=n.replace(s,"sum"===i?" + ":" * "),i="e";break;case"avg":case"average":u=n.split(s),n="("+u.join(" + ")+") / "+u.length,i="e"}if(1===e)switch(i){case"e":case"exec":case"eval":case"expr":case"calc":case"m":case"math":return m.pn("MathParser").catch(function(){return null}).then(function(MathParser){return r.K.test(n)&&(n=n.slice(1,-1)),n=n.replace(/\uff0c/g," "),[r.vn(n,MathParser)||"",0,n]});case"error":return[n,3]}else if(e>=2)switch(i){case"status":case"state":return[n,4];case"url-copy":case"search-copy":case"search.copy":case"copy-url":if((l=m.J(n,null,1))instanceof Promise)return l.then(function(n){var e=n[0]||n[2]||"";return e=e instanceof Array?e.join(" "):e,[e=r.gn(e),1]});n=(l=5===m.Y&&l instanceof Array?l[0]:l)instanceof Array?l.join(" "):l;case"cp":case"copy":case"clip":return[n=r.gn(n),1]}switch(i){case"cd":case"up":if(!(u=(n+"  ").split(" "))[2]||!a){if(e<1||!a)return null;if("string"!=typeof(l=a.bn()))return l.then(function(o){var i=o&&r.Z("cd "+n+" "+(n.includes(" ")?o:". "+o),e,t);return i?"string"==typeof i?[i,6]:i:[o?"fail in parsing":"No current tab found",3]});u[2]=l}return f="/"===(i=u[0])[0],o=parseInt(i,10),o=isNaN(o)?"/"===i?1:f?i.replace(/(\.+)|./g,"$1").length+1:-i.replace(/\.(\.+)|./g,"$1").length||-1:o,(d=a._n({u:u[2],p:o,t:null,f:1,a:"."!==u[1]?u[1]:""}))&&d.u||[d?d.e:"No upper path",3];case"parse":case"decode":(i=n.split(" ",1)[0]).search(/\/|%2f/i)<0?n=n.slice(i.length+1).trimLeft():i="~",u=[n=m.wn(n)],n=m.J(n),4!==m.Y&&(c=a._n({u:n}))?""===c.u?u=[i]:(u=c.u.split(" ")).unshift(i):u=u[0].split(m.B);break;case"u":case"url":case"search":u=m.wn(n).split(m.B);break;case"paste":if(e>0)return(l=r.yn(n))instanceof Promise?l.then(function(n){return[n?n.trim().replace(r.B," "):"",5]}):[l?l.trim().replace(r.B," "):"",5];default:return null}return t?[u,2]:(o=m.hn++)>12?null:12===o?m.on(u,"",0):o>0?m.on(u,"",e):(l=m.on(u,"",e),m.hn=0,l)},vn:function(n,e){var r=null;if((e=e||window.MathParser||{}).evaluate){try{r="function"==typeof(r=e.evaluate(n))?null:""+r}catch(n){}e.clean()}return r},kn:function(n){var e="/"===n[0],r=parseInt(n,10);return isNaN(r)?e&&"/"===n?1:n.split(e?/(\.+)/:/\.(\.+)|./).join("").length*(e?1:-1):r},gn:function(){return""},yn:function(){return""},Sn:null,pn:function(n){var e=window[n];return e?Promise.resolve(e):window[n]=new Promise(function(e){var r=document.createElement("script");r.src=l.$[n],r.onload=function(){this.remove(),e(window[n])},document.documentElement.appendChild(r)})},Cn:/\$([sS])(?:\{([^}]*)})?/g,xn:/\$([+-]?\d+)/g,on:function(n,e,t){var o,i=r,u=l.dn.searchEngineMap[e||n[0]];return u?(e||(e=n.shift()),o=i.Tn(n,u.In,u.S)):o=n.join(" "),"~"!==e?i.J(o,null,t):(i.Y=4,o)},Tn:function(n,e,t,o){var i,u=r,a=0;return e=0===n.length&&t?t:e.replace(u.Cn,function(t,u,c,l){var s;return"S"===u?(s=n,u=" "):(s=i||(i=n.map(encodeURIComponent)),u=r.E(e)?"%20":"+"),0===s.length?"":(c=c&&c.includes("$")?c.replace(r.xn,function(n,e){var r=parseInt(e,10);if(!r)return s.join(u);if(r<0)r+=s.length+1;else if("+"===e[0])return s.slice(r-1).join(u);return s[r-1]||""}):s.join(null!=c?c:u),null!=o&&(o.push(l+=a,l+c.length),a+=c.length-t.length),c)}),u.x(),null==o?e:{In:e,Rn:o}},Q:function(n,e){if(!n)return"";try{n=(e?decodeURI:decodeURIComponent)(n)}catch(n){}return n},Nn:function(n){var e=n.replace(/%25/g,"%2525").replace(/%(?![\da-zA-Z]{2})/g,"%25"),t=r.Q(e,1);return(r.G.test(t=t.length!==e.length?t:n)||t.startsWith("data:")||t.startsWith("about:")||r.E(t))&&(t=t.trim().replace(/\s+/g,encodeURIComponent)),t},wn:function(n){return n=!n.includes("://")&&/%(?:2[36f]|3[adf])/i.test(n)?r.Q(n).trim():n,r.Nn(n)},Mn:function(n){var e,r,t=+n.includes("\u3002")+2*+n.includes("\uff1a");return 0===t?n:(e=n.indexOf("//"),(e=n.indexOf("/",e>=0?e+2:0))>=0&&e<4?n:(r=e>0?n.slice(0,e):n,1&t&&(r=r.replace(/\u3002/g,".")),2&t&&(r=r.replace("\uff1a",":").replace("\uff1a",":")),e>0&&(r+=n.slice(e)),this.J(r,null,-2),this.Y<=2?r:n))},Pn:function(n){return/\.(?:avif|bmp|gif|icon?|jpe?g|a?png|tiff?|webp)$/i.test(n)?this.X("show image "+n,false,0):n},En:function(n){var e,r,t=n.indexOf(":"),o=t;if(t<=0)return n;if("://"===n.substr(t,3))if((t=n.indexOf("/",t+3))<0)t=o,o=-1;else if(7===t&&"file"===n.slice(0,4).toLowerCase())return"file:///"+((t=":"===n.substr(9,1)?3:0)?n[8].toUpperCase()+":/":"")+n.slice(t+8);return r=(e=n.slice(0,t)).toLowerCase(),-1===o&&/^(file|ftp|https?|rt[ms]p|wss?)$/.test(e)&&(n+="/"),e!==r?r+n.slice(t):n},Hn:function(n,e){var r,t,o,i,u,a,c,l,s,f,d,m,h,p=this,v=[],g=/\s/,b=p.Cn,_=function(n){return!!((n=n.trim())&&"__proto__"!==n&&n.length<51)&&(e[n]=u,true)};for(c=0,l=n.replace(/\\\\?\n/g,function(n){return 3===n.length?"\\\n":""}).split("\n");c<l.length;c++)if((s=(s=l[c]).trim())&&s.charCodeAt(0)>35){a=0;do{a=s.indexOf(":",a+1)}while(92===s.charCodeAt(a-1));a<=0||!(i=s.slice(0,a).trimRight())||(r=i.replace(/\\:/g,":").split("|"),(s=s.slice(a+1).trimLeft())&&(f="",(a=(i=s.replace(/\\\s/g,"\\s")).search(g))>0?(n=s.slice(a),s=i.slice(0,a),(a=n.search(/\sblank=/i))>=0&&(d=n.slice(a+7).search(g),f=n.slice(a+7,(d=d>0?a+7+d:0)||void 0),n=n.slice(0,a)+(d?n.slice(d):"")),a=n.search(/\sre=/i)):(s=i,n=""),s=s.replace(/\\s/g," ").trim().replace(/([^\\]|^)%(s)/gi,"$1$$$2").replace(/\\%/g,"%"),u={Un:"",S:f,In:s},0!==(r=r.filter(_)).length&&(-1===a?(b.lastIndex=0,(m=b.exec(s))&&(a=m.index+1)&&((i=m[2])?s=s.replace(b,"$$$1"):i="s"===m[1]?"+":" ",s=p.J(s,null,-1),p.Y>2?a=(s=s.replace(/%24(s)/gi,"$$$1")).search(b)+1:0!==p.Y&&(a+=2===p.Y?7:5),(t=p.zn(s.toLowerCase(),a))&&(i.includes("$")?(i=i.replace(p.xn,"(.*)"),o=new RegExp("^"+i,/[a-z]/i.test(i)?"i":"")):o=i.trim()||" ",v.push({$n:t.$n,jn:t.jn,Un:r[0].trimRight(),An:o})))):47===n.charCodeAt(a+4)?(i=a>1?n.slice(1,a).trim():"",a=(n=n.slice(a+5)).search(/[^\\]\//)+1,s=n.slice(0,a),a=(n=n.slice(a+1)).search(g),(h=p.Ln(s,a>=0?n.slice(0,a):n))&&(i=p.Dn(i),v.push({$n:i,jn:h,Un:r[0].trimRight(),An:u.In.lastIndexOf("$S")>=0?" ":"+"})),n=a>=0?n.slice(a+1):""):n=n.slice(a+4),n=n.trimLeft(),u.Un=n?p.Q(n):r[r.length-1].trimLeft())))}return v},zn:function(n,e){var r,t,o,i;return e<1||!this.G.test(n)?null:(r=n.slice(0,e-1),(e=Math.max(r.lastIndexOf("?"),r.lastIndexOf("#"))+1)?(o=t=r.slice(e),r=r.slice(0,r.search(/[#?]/)),(i=t.lastIndexOf("&")+1)&&(o=t.slice(i)),o&&o.indexOf("=")>=1?t="[#&?]":(o=t,t="#"===n[e-1]?"#":o?"[#?]":"\\?"),n="([^#&?]*)"):(t="^([^#?]*)",(o=n.slice(r.length+2))&&(e=o.search(/[#?]/)+1)&&(o=o.slice(0,e-1)),n=""),o=o&&o.replace(/[$()*+.?\[\\\]\^{|}]/g,"\\$&").replace(/\\\+|%20| /g,"(?:\\+|%20| )"),{$n:r=this.Dn(r),jn:new RegExp(t+o+n,/[a-z]/i.test(o)?"i":"")})},On:function(n){return(n=n.slice(0,8).toLowerCase()).startsWith("http://")?7:"https://"===n?8:0},Dn:function(n){var e=n.slice(0,9).toLowerCase();return this.On(e)?n=n.slice(58===n.charCodeAt(4)?7:8):"vimium://"===e&&(n=this.X(n.slice(9),false,-1)),n},Ln:function(n,e,r){try{return new RegExp(n,e)}catch(t){0===r||console.log("%c/%s/%s","color:#c41a16",n,e,"is not a valid regexp.")}return null},Fn:/<(?!<)(?:.-){0,4}.\w*?(?::i)?>|./g,qn:function(){return null},Vn:function(n,e){setTimeout(e,n)},Bn:function(){}},n=chrome.i18n.getMessage,f=0|(navigator.appVersion.match(/\bChrom(?:e|ium)\/(\d+)/)||[0,998])[1],p=/\sEdg\//.test(navigator.appVersion),g=0,v="chrome",75===f&&matchMedia("(prefers-color-scheme)").matches&&(f=81),l={dn:r.D(),Wn:{Gn:localStorage.length<=0,Kn:null,Yn:null,Jn:0,Qn:0,Zn:null,Xn:null,ne:null,ee:false,re:null},te:{v:f,d:"",m:false,g:false,o:2},oe:{v:f,o:2,a:0,n:0,t:0,l:"",s:"",c:"",k:null},ie:null,ue:r.D(),ae:null,ce:localStorage,le:function(n,e){var r,t,o;return n in this.dn?this.dn[n]:(r=this.se[n],o=null==(t=this.ce.getItem(n))?r:"string"==typeof r?t:false===r||true===r?"true"===t:JSON.parse(t),e&&(this.dn[n]=o),o)},fe:function(n,e){var r,t,o=this;if(o.dn[n]=e,n in o.de||(e===(r=o.se[n])?(o.ce.removeItem(n),o.me(n,null)):(o.ce.setItem(n,"string"==typeof r?e:JSON.stringify(e)),o.me(n,e)),n in o.he&&o.pe(o.he[n],e,o.te)),t=o.ve[n])return t.call(o,e,n)},ge:function(n,e){return l.ve[n].call(this,void 0!==e?e:l.le(n),n)},be:function(n){if(6!==n.N)l._e(n);else if(null==n.d.length)l._e(n);else{var e=n.d,r=l.Wn.Zn;r?e=e.concat(r):Promise.resolve(n).then(l._e),l.Wn.Zn=e,n.d=null}},_e:function(n){var e,r,t,o,i,u,c,s,f;if(6===n.N&&!n.d){for(e=l.Wn.Zn,r=n.d={},t=0,o=e;t<o.length;t++)r[i=o[t]]=l.te[i];l.Wn.Zn=null}for(c in u=a.we())for(f=(s=u[+c]).length;0<--f;)s[f].postMessage(n)},ye:function(n){var e,r;for(e=0,r=a.we(-3);e<r.length;e++)r[e].postMessage(n)},pe:function(n,e,r){switch(n){case"c":case"n":e=e.toLowerCase().toUpperCase();break;case"i":e=e===!!e?e:e>1||e>0&&!l.te.o;break;case"d":e=e?" D":""}return r?r[n]=e:e},ke:r.S,Se:r.S,Ce:function(n){var e,r,t=n?n.split(/^\/\*\s?#!?([A-Za-z:]+)\s?\*\//m):[""],o={ui:t[0].trim()};for(e=1;e<t.length;e+=2)o[r=t[e].toLowerCase()]=(o[r]||"")+t[e+1].trim();return o},xe:function(n,e){var r,t,o,i,u,a,c,s,f=l,d="innerCSS",m=f.ce.getItem(d),h=m.indexOf("\n");return m=h>0?m.slice(0,h):m,t=(r=f.Ce(n)).ui?m+"\n"+r.ui:m,o=r["find:host"],i=r.find,u=r.omni,a="omniCSS",h=(m=f.ce.getItem("findCSS")).indexOf("\n"),c=(m=m.slice(0,h+1+ +m.slice(0,h))).indexOf("\n",m.indexOf("\n",h+1)+1),s=m.lastIndexOf("  ",c),o=o?"  "+o.replace(/\n/g," "):"",(s>0?m.slice(s,c)!==o:o)&&(m=(m=m.slice(h+1,s>0?s:c)+o+m.slice(c)).length+"\n"+m),i=i?m+"\n"+i:m,m=(f.ce.getItem(a)||"").split("\n",1)[0],u=u?m+"\n"+u:m,e||(f.ce.setItem("findCSS",i),u?f.ce.setItem(a,u):f.ce.removeItem(a),f.fe(d,t)),{ui:t,find:i,omni:u}},Te:function(n){var e=(n=n.slice(n.indexOf("\n")+1)).indexOf("\n")+1,r=n.indexOf("\n",e);return{c:n.slice(0,e-1),s:n.slice(e,r).replace("  ","\n"),i:n.slice(r+1)}},ve:{__proto__:null,extAllowList:function(n){var e,t,o,i,u=l.ae,a=l.ae=r.D();if(u&&!0)for(e in u)false===u[e]&&(a[e]=false);if(n)for(o=(t=n.split("\n")).length,i=/^[\da-z_]/i;0<=--o;)(n=t[o].trim())&&i.test(n)&&(a[n]=true)},grabBackFocus:function(n){l.te.g=n},newTabUrl:function(n){return n=/^\/?pages\/[a-z]+.html\b/i.test(n)?chrome.runtime.getURL(n):r.J(n),l.fe("newTabUrl_f",n)},searchEngines:function(){return l.fe("searchEngineMap",r.D())},searchEngineMap:function(n){var e,t=l;return"searchKeywords"in t.dn&&t.fe("searchKeywords",null),e=r.Hn("~:"+t.le("searchUrl")+"\n"+t.le("searchEngines"),n),t.fe("searchEngineRules",e)},searchUrl:function(n){var e,t=l.dn;if(n)r.Hn("~:"+n,t.searchEngineMap);else if(e={"~":{Un:"~",S:"",In:l.le("searchUrl").split(" ",1)[0]}},t.searchEngineMap=e,t.searchEngineRules=[],n=l.le("newTabUrl_f",true))return l.ve.newTabUrl_f(n);return l.ge("newTabUrl")},baseCSS:function(n){var e,r,t,o,i,u,a,c,s,d,m,h,v=l,g=v.$.Ie,b=f;return g.slice(g.indexOf(",")+1),b<54&&(n=n.replace(/user-select\b/g,"-webkit-$&")),e=n.lastIndexOf("/*#find*/"),r=n.slice(e+10),t="",o=(n=n.slice(0,e-1)).indexOf("all:"),i=n.lastIndexOf("{",o),u=b>=53?n.indexOf(";",o):n.length,n=n.slice(0,i+1)+n.slice(o,u+1)+n.slice(n.indexOf("\n",u)+1||n.length),b>=65&&!0?(o=n.indexOf("display:"),i=n.lastIndexOf("{",o),n=n.slice(0,i+1)+n.slice(o)):n=n.replace("contents","block"),b<73&&(n=n.replace("3px 5px","3px 7px")),b<62&&(n=n.replace(/#[\da-f]{4}([\da-f]{4})?\b/gi,function(n){n=5===n.length?"#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4]:n;var e=parseInt(n.slice(1),16);return"rgba("+(e>>>24)+","+(e>>16&255)+","+(e>>8&255)+","+((255&e)/255+"").slice(0,4)+")"})),b<69&&(n=n.replace(".LH{",".LH{box-sizing:border-box;")),p||(r=r.replace("@media(-ms-high-contrast:active){","").slice(0,-1)),p||(n=n.split("\nbody",1)[0]),r=r.replace(p?/\.HC\b/g:/\.HC\b[^]+?}\s?/g,"").trim(),n=g+";"+(n=n.replace(/\n/g,"")),t=t&&t.replace(/\n/g,""),c=(a=v.Ce(v.le("userDefinedCss")))["find:host"],s=a.find,d=a.omni,m="omniCSS",a.ui&&(n+="\n"+a.ui),b<48&&(n=n.replace(/\b0\.5px|\/\*!DPI\*\/ ?[\w.]+/g,"/*!DPI*/1px")),c&&(h=r.indexOf("\n",r.indexOf("\n")+1),r=r.slice(0,h)+"  "+c.replace(/\n/g," ")+"\n"+r.slice(h)),v.ce.setItem("findCSS",r.length+"\n"+r+(s?"\n"+s:"")),t||d?v.ce.setItem(m,d?t+"\n"+d:t):v.ce.removeItem(m),v.fe("innerCSS",n)},userDefinedCss:function(n){var e,r,t,o,i,u,c=l;for(t in c.xe(n),e=a.we(),r={N:12,H:c.dn.innerCSS,f:c.dn.findCSS},e)for(i=(o=e[+t]).length;0<--i;)4&(u=o[i].s).f&&(o[i].postMessage(r),u.f|=32);c.ye({N:47,d:{c:c.oe.c}})},mapModifier:function(n){l.ye({N:47,d:{a:n}})},innerCSS:function(n){var e=l,r=e.dn,t=e.ce.getItem("findCSS"),o=e.ce.getItem("omniCSS")||"";t?(r.findCSS=e.Te(t),r.innerCSS=n.slice(e.$.Ie.length+1),e.oe.c=o):e.Re("baseCSS")},vomnibarPage:function(n){var e=l,t=localStorage.getItem("vomnibarPage_f");!t||n?((n=n||e.le("vomnibarPage"))===e.se.vomnibarPage?n=e.$.Ne:n.startsWith("front/")?n=chrome.runtime.getURL(n):(n=r.J(n),n=r.En(n),n=f<50&&!n.startsWith(v)?e.$.Ne:n.replace(":version",""+parseFloat(e.$.Me))),e.fe("vomnibarPage_f",n)):e.dn.vomnibarPage_f=t},vomnibarOptions:function(n){var e,r,t,o,i,u=l,a=u.se.vomnibarOptions,c=u.oe,s=true,f=a.maxMatches,d=a.queryInterval,m=a.styles,h=a.sizes;n!==a&&n&&"object"==typeof n&&(e=Math.max(3,Math.min(0|n.maxMatches||f,25)),r=+n.queryInterval,t=((n.styles||"")+"").trim(),o=((n.sizes||"")+"").trim(),i=Math.max(0,Math.min(r>=0?r:d,1200)),(s=f===e&&d===i&&o===h&&m===t)||(f=e,d=i,h=o,m=t),n.maxMatches=e,n.queryInterval=i,n.sizes=o,n.styles=t),u.dn.vomnibarOptions=n=s?a:n,c.n=f,c.t=d,c.l=h,c.s=m,u.ke(0,1),u.ke(1,1),u.ye({N:47,d:{n:f,t:d,l:h,s:c.s}})}},Re:function(n,e){function r(r){"baseCSS"===n?l.ge(n,r):"words"===n?l.$.words=r.replace(/[\n\r]/g,"").replace(/\\u(\w{4})/g,function(n,e){return String.fromCharCode(+("0x"+e))}):l.fe(n,r),e&&setTimeout(e,0)}var t,o;if(e&&n in this.dn)e();else{if(!(t=this.$[n]))throw Error("unknown file: "+n);t="/front/"+t,f>=47?fetch(t).then(function(n){return n.text()}).then(r):((o=new XMLHttpRequest).open("GET",t,true),o.responseType="text",o.onload=function(){r(this.responseText)},o.send())}},se:{__proto__:null,autoDarkMode:true,autoReduceMotion:false,clipSub:"",dialogMode:false,exclusionListenHash:true,exclusionOnlyFirstMatch:false,exclusionRules:[{pattern:":https://mail.google.com/",passKeys:""}],extAllowList:"# modified versions of X New Tab and PDF Viewer,\n# NewTab Adapter, and Shortcuts Forwarding Tool\nhdnehngglnbnehkfcidabjckinphnief\nnacjakoppgmdcpemlfnfegmlhipddanj\ncglpcedifkgalfdklahhcchnjepcckfn\nclnalilglegcjmlgenoppklmfppddien",filterLinkHints:false,findModeRawQueryList:"",focusNewTabContent:true,grabBackFocus:false,hideHud:false,ignoreCapsLock:0,ignoreKeyboardLayout:false,innerCSS:"",keyboard:[560,33],keyMappings:"",linkHintCharacters:"sadjklewcmpgh",linkHintNumbers:"0123456789",localeEncoding:"gbk",mapModifier:0,mouseReachable:true,newTabUrl:"",newTabUrl_f:"",nextPatterns:"\u4e0b\u4e00\u5c01,\u4e0b\u9875,\u4e0b\u4e00\u9875,\u4e0b\u4e00\u7ae0,\u540e\u4e00\u9875,next,more,newer,>,\u203a,\u2192,\xbb,\u226b,>>",omniBlockList:"",previousPatterns:"\u4e0a\u4e00\u5c01,\u4e0a\u9875,\u4e0a\u4e00\u9875,\u4e0a\u4e00\u7ae0,\u524d\u4e00\u9875,prev,previous,back,older,<,\u2039,\u2190,\xab,\u226a,<<",regexFindMode:false,scrollStepSize:100,searchUrl:navigator.language.startsWith("zh")?"https://www.baidu.com/s?ie=utf-8&wd=%s \u767e\u5ea6":"https://www.google.com/search?q=%s Google",searchEngines:"b|ba|baidu: https://www.baidu.com/s?ie=utf-8&wd=%s Baidu\nbi|bing: https://www.bing.com/search?q=%s Bing\ng|go|gg|google: https://www.google.com/search?q=%s Google\njs\\:|Js: javascript:\\ $S; JavaScript\nw|wiki:\\\n  https://www.wikipedia.org/w/index.php?search=%s Wikipedia\nv.m|v\\:math: vimium://math\\ $S re= Calculate\n\n# More examples.\n#\n# (Vimium C supports search completion Google, Wikipedia,\n# and so on, as above, and for these.)\n#\n# l: https://www.google.com/search?q=%s&btnI I'm feeling lucky\n# y: https://www.youtube.com/results?search_query=%s YouTube\n# gm: https://www.google.com/maps?q=%s Google maps\n# d: https://duckduckgo.com/?q=%s DuckDuckGo\n# az: https://www.amazon.com/s/?field-keywords=%s Amazon\n# qw: https://www.qwant.com/?q=%s Qwant",searchEngineMap:{},showActionIcon:true,showAdvancedCommands:true,showAdvancedOptions:true,showInIncognito:false,notifyUpdate:true,smoothScroll:true,vomnibarOptions:{maxMatches:10,queryInterval:500,sizes:"77,3,44",styles:"mono-url"},userDefinedCss:"",vimSync:null,vomnibarPage:"front/vomnibar.html",vomnibarPage_f:"",waitForEnter:true},Pe:{__proto__:null,extWhiteList:"extAllowList",phraseBlacklist:"omniBlockList"},de:{__proto__:null,baseCSS:1,helpDialog:1,searchEngineMap:1,searchEngineRules:1,searchKeywords:1},Ee:["showAdvancedCommands"],He:["icons/enabled.bin","icons/partial.bin","icons/disabled.bin"],he:{__proto__:null,filterLinkHints:"f",ignoreCapsLock:"i",ignoreKeyboardLayout:"l",mapModifier:"a",mouseReachable:"e",keyboard:"k",linkHintCharacters:"c",linkHintNumbers:"n",regexFindMode:"r",smoothScroll:"s",scrollStepSize:"t",waitForEnter:"w"},me:r.S,Ue:null,$:{ze:true,$e:0,z:p?"https://www.msn.cn/spartan/ntp":"chrome-search://local-ntp/local-ntp.html",je:"pages/blank.html",Ae:false,Le:null,Me:"",De:"",GitVer:"1122780",Ie:"",Oe:"/lib/injector.js",mn:["blank","newtab","options","show"],MathParser:"/lib/math_parser.js",HelpDialog:"/background/help_dialog.js",Commands:"/background/commands.js",Exclusions:"/background/exclusions.js",Fe:"content/injected_end.js",qe:"",Ve:false,Be:true,We:"pages/options.html",Ge:"browser",baseCSS:"vimium-c.css",helpDialog:"help_dialog.html",words:"words.txt",Ke:"",fn:"https://github.com/gdh1995/vimium-c",sn:{about:"",changelog:"/RELEASE-NOTES.md",help:"/wiki",home:"",license:"/LICENSE.txt",permissions:"/PRIVACY-POLICY.md#permissions-required",policy:"/PRIVACY-POLICY.md",popup:"options.html",privacy:"/PRIVACY-POLICY.md#privacy-policy",readme:"#readme",release:"/RELEASE-NOTES.md","release-notes":"/RELEASE-NOTES.md",settings:"options.html",wiki:"/wiki",__proto__:null},Ye:null,Je:"pages/show.html",Ne:"",Qe:"/front/vomnibar.js",Ze:""}},chrome.runtime.getPlatformInfo(function(n){var e=n.os.toLowerCase(),r=chrome.runtime.PlatformOs||{MAC:"mac",WIN:"win"},t=e===r.WIN?2:e===r.MAC?0:1,o=l.le("ignoreCapsLock");l.$.Ge=e,l.oe.o=l.te.o=t,l.pe("i",o,l.te),l.Wn.Jn|=1,a&&a.Xe()}),f<59||!r.Ln("\\p{L}","u",0)?l.Re("words"):l.$.words="",(function(){function n(n){return(47===n.charCodeAt(0)?u:n.startsWith(a)?"":a)+n}var e,r,t,o,i=chrome.runtime.getManifest(),u=location.origin,a=u+"/",c=i.content_scripts[0].js,s=l,d=s.$,m=s.se,h=s.he,v=s.te,g=s.ue;for(e in m.newTabUrl=p?"edge://newtab":"chrome://newtab",g["about:newtab"]=g["about:newtab/"]=1,g["chrome://newtab"]=g["chrome://newtab/"]=1,p&&(g["edge://newtab"]=g["edge://newtab/"]=1),d.Ye=Object.keys(i.commands||{}).map(function(n){return"quickNext"===n?"nextTab":n}),d.Me=i.version,d.De=i.version_name||i.version,d.We=n(i.options_page||d.We),d.ze=null!=i.permissions&&i.permissions.indexOf("clipboardRead")>=0,d.Je=n(d.Je),d.Ne=n(m.vomnibarPage),d.Ze=n(d.Qe),d.fn=i.homepage_url||d.fn,d.sn.release+="#"+d.Me.replace(/\D/g,""),d.Oe=n(d.Oe),c.push(d.Fe),d.Le=c.map(n),v.g=s.le("grabBackFocus"),h)s.pe(h[e],s.le(e),v);for(r in s.Pe)null!=(t=s.ce.getItem(r))&&(s.fe(s.Pe[r],t),s.ce.removeItem(r));d.Ie=d.Me+","+f,(o=s.ce.getItem("innerCSS"))&&o.startsWith(d.Ie+";")?s.ge("innerCSS",o):(s.ce.removeItem("vomnibarPage_f"),s.Re("baseCSS"))})(),(function(){function t(n){fn&&clearTimeout(fn),fn=n}function o(n,e,r){var t,o=n.url;return o?(t=l.ue[o])&&1===t&&delete n.url:(o=l.dn.newTabUrl_f,2===m.nr&&(-1==r?o.endsWith(l.$.je)&&o.startsWith(location.origin):!r&&o.startsWith(location.protocol))||(n.url=o),n.url||delete n.url),chrome.tabs.create(n,e)}function i(n,e,r){var t=n.windowId,i=null!=n.index;if(o(n,n.active?function(n){n&&n.windowId!==t&&W(n)}:null,r),!(e<2)){n.active=false;do{i&&++n.index,chrome.tabs.create(n)}while(--e>1)}}function u(n,e){var r,t;return null==n&&(n="unknown_sender"),null!=(t=(r=l.ae)[n])?t:e===l.dn.vomnibarPage_f||("background-color:#fffbe5",console.log("%cReceive message from an extension/sender not in the allow list: %c%s","background-color:#fffbe5","background-color:#fffbe5;color:red",n),r[n]=false)}function s(n){for(var e=n.length;0<--e;)if(n[e].active)return n[e];return n[0]}function p(n,e){return"before"===e?n.index:"start"===e||"begin"===e?0:"end"!==e?n.index+1:void 0}function g(n,e,r){var t=false!==n.focused;t?"minimized"===e&&(e="normal"):"minimized"!==e&&(e="normal"),e&&f>=44&&(n.state=e,e=""),n.focused=true,chrome.windows.create(n,e||!t?function(n){if(r&&r(n),n){var o=t?{}:{focused:false};e&&(o.state=e),chrome.windows.update(n.id,o)}}:r||null)}function _(n,e,t){if(t){if(t.length>0&&t[0].incognito&&r.U(n))return o({url:n}),void r.x()}else if(r.U(n)&&true!==e)return void gn(_.bind(null,n,true));var i={url:n},u=vn;t?chrome.tabs.update(t[0].id,i,u):chrome.tabs.update(i,u),r.x()}function w(n,e,t,o){if(o instanceof Promise)o.then(w.bind(null,n,e,t));else switch(r.x(),o[1]){case 1:return a.er(o[0],15);case 5:case 6:return e.$p||6===o[1]?n=0:(e=r.y(r.D(),e)).$p=1,tn=e,A(r.J(o[0]),n,t);case 4:return void(n>=3&&a.rr(o[0]))}}function y(n,e){var t,o,i,u=r.ln(n),a=u?u.host:"";if(a&&/git\b|\bgit/i.test(a)&&/^[\w\-]+(\.\w+)?(:\d{2,5})?$/.test(a)&&((t=e.split("/"))[o=t.length-1]||(o--,t.pop()),i=t[o],"github.com"===a)){if(3===o)return"pull"===i||"milestone"===i?e+"s":"tree"===i?t.slice(0,3).join("/"):null;if(4===o&&"releases"===t[3]&&("tag"===t[4]||"edit"===t[4]))return t.slice(0,4).join("/");if(o>3)return"blob"===t[3]?(t[3]="tree",t.join("/")):null}}function k(n,e){var r=n.s,t=r.f;return 128&t||(r.f=t|=128|(r.u===l.dn.vomnibarPage_f||r.u===l.$.Ne?256:0)),!(256&t)&&(e||512&t||(console.warn("Receive a request from %can unsafe source page%c (should be vomnibar) :\n %s @ tab %o","color:red","color:auto",r.u.slice(0,128),r.t),r.f|=t),true)}function S(n,e,t,o,i,u){var a,c,l,s,d,m,h,p=this.s.u,v=2===n?2:0;if(1===n&&f>=58&&(p=p.slice(0,p.indexOf("/",p.indexOf("://")+3)+1),a=pn,null!=(c=dn>=0?x(dn,0):null)&&(c.s.u.startsWith(p)?v=1:dn=-1),!v))for(l in a){for(d=1,m=(s=a[+l]).length;d<m;d++)if(0===(h=s[d].s).i){h.u.startsWith(p)&&(v=1,dn=+l);break}if(v)break}C(this,{N:43,a:t,m:o,s:i,l:e,i:v,t:u}),r.x()}function C(n,e){try{return n.postMessage(e),1}catch(n){return 0}}function x(n,e){var r,t,o=pn[n];if(!o)return null;for(r=1,t=o.length;r<t;r++)if(o[r].s.i===e)return o[r];return null}function T(n,e,r,t){var o,i,u=un;return t&&(u+=u>0?t:-t),i=u>0,(o=n+u)<=e&&o>-2?i?[n,o]:[o+1,n+1]:!tn.limited&&hn(u)<2*(r||e)?hn(u)<e?i?[e-u,e]:[0,-u]:[0,e]:i?[n,e]:[0,n+1]}function I(e,r){var t,o,i;return t=n("cmdConfirm",[r,n(e)]),o=Date.now(),i=window.confirm(t),hn(Date.now()-o)>9?i?r:0:1}function R(n,e){on=on||x(m.tr,0);var r=a.bn(on,e);"string"!=typeof r?r.then(function(e){n.u=e,e&&In[n.H](n,on)}):r&&(n.u=r,In[n.H](n,on))}function N(n){var e=n.s;return 4&e.f?null:(e.f|=6,l.dn.innerCSS)}function M(n,e){r.Bn(),Commands?Commands.or(n,e,Tn):r.pn("Commands").then(function(){return M(n,e)})}function P(){on&&on.postMessage({N:7,H:null,k:sn,c:0,m:0})}function E(n){return n.url||n.pendingUrl}function H(n){var e=pn[n?n.s.t:m.tr];return e?e[0]:null}function U(n,e,r,t,o){var u,a=t&&o.filter(function(n){return n.id===t.windowId})[0],c=null!=a&&a.incognito;if(!r.window&&(c||(o=o.filter(function(n){return n.incognito&&"normal"===n.type})).length>0))return u={url:n,active:e,windowId:c?t.windowId:o[o.length-1].id},c&&(u.index=p(t,r.position),r.opener&&(u.openerTabId=t.id)),i(u,un),!c&&e?W(u):void 0;g({url:n,incognito:true,focused:e},a&&"normal"===a.type?a.state:"")}function z(n,e){if(tn.url||tn.urls)return Cn[24](e),vn();var r=null;if(e)if(e.length>0)r=e[0];else if(m.tr>=0)return wn(m.tr,function(e){z(n,e&&[e])}),vn();return i(r?{active:r.active,windowId:r.windowId,index:p(r,tn.position)}:{active:true},un,tn.evenIncognito),vn()}function $(n){return null==n?-1:"string"!=typeof n?0|n:"reuse"===n?1:"newWindow"===n?2:"newFg"===n?-1:"newBg"===n?-2:"lastWndFg"===n?-5:"lastWndBg"===n?-6:-1}function A(n,e,t){var o,i,u,a,c,s,f;"string"!=typeof n||(n||9!==e?(o=t&&t.length>0?E(t[0]):"",i=(tn.keyword||"")+"",a=null!=(u=tn.testUrl)?u:!i,(c=tn.url_mask||tn.url_mark)&&(n=n&&n.replace(c+"",/^[%$]s/.test(c)?encodeURIComponent(o):o)),(c=tn.host_mask||tn.host_mark)&&(n=n&&n.replace(c+"",new URL(o).host)),(c=tn.id_mask||tn.id_mark||tn.id_marker)&&(n=n&&n.replace(c+"",chrome.runtime.id)),9!==e&&(n=a?r.J(n,i,e):r.on(n.trim().split(r.B),i||"~"))):n=l.dn.newTabUrl_f),s=$(tn.reuse),f=tn,tn=null,r.x(),"string"!=typeof n?w(e,f,t,n):yn(n,s,f)||(r.E(n)?O(n):1===s?In[19]({u:n}):0===s?_(n):t?D(n,s,f,t):gn(D.bind(null,n,s,f)))}function L(e,t){var o,i,u,c,l,s;return null===t?a.ir("read clipboard"):(t=t.trim())?(r.K.test(t)?t=t.slice(1,-1):(o=tn.keyword)&&"~"!==o&&!tn.testUrl||(t=r.an(t)),(i=t.indexOf("://")+3)>3&&r.G.test(t)&&(u=void 0,c=t.indexOf("/",i)+1||t.length,l=t.slice(i,c),t=(s=l.startsWith("0.0.0.0")?7:l.includes(":::")&&(u=/^(\[?::\]?):\d{2,5}$/.exec(l))?u[1].length:0)?t.slice(0,i)+(s>6?"127.0.0.1":"[::1]")+t.slice(i+s):t),void A(t,2,e)):a.er(n("noCopied"))}function D(n,e,t,o){var u=o[0],a=!!u&&u.incognito,c=t.incognito,l=-2!==e&&-6!==e,s=2===e||e<-4||t.window;if(r.U(n))(a||2===m.nr)&&(s=true);else if(a){if(false!==c)return U(n,l,t,u,[{id:u.windowId,incognito:true,type:"normal",state:"normal",focused:true}]);s=true}else if(c)return void chrome.windows.getAll(U.bind(null,n,l,t,u));if(s)return e<-4&&m.ur>=0?void chrome.tabs.create({windowId:m.ur,url:n,active:e>-6},function(){if(vn())return D(n,2,t,o),vn()}):void _n(false,function(e){var r=e.state;g({url:n,focused:l},"minimized"!==r&&"docked"!==r?r:"")});i({url:n,active:l,windowId:u?u.windowId:void 0,openerTabId:t.opener&&u?u.id:void 0,index:u?p(u,t.position):void 0},un)}function O(n){if(!"void 0;void(0);".includes(n.slice(11).trim())){if(on){if(C(on,{N:5,u:n}))return;on=null}var e=function(e){if(-1===e||vn()){var t=r.Q(n.slice(11));return chrome.tabs.executeScript({code:t},vn),vn()}};f<71?chrome.tabs.update({url:n},e):e(-1)}}function F(n){var e,t,i,u,a,c,l,s=n&&n[0],f=s&&s.windowId,d=tn.urls,m=un;if(!tn.ar){for(e=0;e<d.length;e++)d[e]=r.J(d[e]+"");tn.ar=1}i=2===(t=$(tn.reuse))||tn.window?{url:d,incognito:!!tn.incognito}:null,u=t>-2,a=s&&p(s,tn.position),tn=null;do{if(i)chrome.windows.create(i,vn);else for(c=0,l=d;c<l.length;c++)o({url:l[c],index:a,windowId:f,active:u}),u=false,null!=a&&a++}while(0<--m);return vn()}function q(n,e,t){var i,u,a=false;(t=t.filter(function(n){return"normal"===n.type})).length<=1?(a=true,(u=t[0])&&(u.id!==n.windowId?a=false:u.incognito&&!r.U(l.dn.newTabUrl_f)&&(i=u.id))):n.incognito||1===(t=t.filter(function(n){return!n.incognito})).length&&t[0].id===n.windowId&&(i=t[0].id,a=true),a&&o({index:e.length,url:"",windowId:i}),V(n,e,0,e.length)}function V(n,e,r,t){var o,i,u,a=chrome.tabs,c=n.index;a.remove(n.id,vn),o=e.slice(c+1,t),i=e.slice(r,c),un<0&&(u=o,o=i,i=u),o.length>0&&a.remove(o.map(function(n){return n.id}),vn),i.length>0&&a.remove(i.map(function(n){return n.id}),vn)}function B(n,e){chrome.tabs.update(n,{active:true},e?W:null)}function W(n){return n&&chrome.windows.update(n.windowId,{focused:true}),vn()}function G(n,e,r,t){r&&2!==r.s.s?r.postMessage({N:7,H:t||5!==n.c?N(e):null,m:t?4:0,c:n.c,n:n.n,k:t?sn:0,a:n.a}):(n.a.$forced=true,e.postMessage({N:10,H:null,c:n.c,n:n.n,a:n.a}))}function K(n,e){var o,i,u,a,l;if(t(0),e)o=e[0],t(setTimeout(K,100,n,null)),o.postMessage({N:13,c:n,i:fn,m:""}),6&o.s.f||In[10]({},o),o.s.f|=2;else{if(a=0,"goBack"===(u=(i=c.lr[n]).cr)||"goForward"===u?a=39:"autoOpen"===u&&(a=41),a&&(i={sr:a,fr:1,cr:u,dr:null,mr:i.mr,hr:i.hr}),!i.fr)return;i.sr>9||i.sr<1?Tn(i,1,0,null,0):(l=i.mr||(i.mr=r.D())).$noWarn||(l.$noWarn=true,console.log("Error: Command",u,"must run on pages which are not privileged"))}}function Y(n,e){if(90!==n.H)return In[n.H](n,e);e.postMessage({N:4,m:n.i,r:In[n.c](n.a,e)})}function J(n,e){var r,t,o=nn(n),i=o.t,u=o.u,s=pn[i],f=u===l.dn.vomnibarPage_f,d=0;if(e>=8||f)if(e<16||f){if(Z(n,i,e))return;o.f=2}else{if(999===e)return;d=(e>>>4&3)-1,o.f=(128&e?3:2)+(64&e&&4)}e>=16?n.postMessage({N:6,d:l.te}):(r=void 0,t=0,s&&1&(t=o.f=3&s[0].s.f)?r=2!==(d=s[0].s.s)?null:"":d=null===(r=a.pr(u,o))?0:r?1:2,n.postMessage({N:0,s:t,c:l.te,p:r,m:c.vr,k:c.gr})),o.s=d,n.onDisconnect.addListener(Q),n.onMessage.addListener(Y),s?(s.push(n),2&e&&(ln&&s[0].s.s!==d&&a.br(i,d),s[0]=n)):(pn[i]=[n,n],0!==d&&ln&&a.br(i,d))}function Q(n){var e,r=n.s.t,t=pn[r];t&&(e=t.lastIndexOf(n),n.s.i?(e===t.length-1?--t.length:e>=1&&t.splice(e,1),t.length<=1?delete pn[r]:n===t[0]&&(t[0]=t[1])):e>=0&&delete pn[r])}function Z(n,e,r){if(r>=8){if(!k(n,false))return e<0&&(n.s.t=8!==r?cn--:on?on.s.t:m.tr),Rn.push(n),n.onDisconnect.addListener(X),n.onMessage.addListener(Y),8===r&&n.postMessage({N:42,l:l.oe,s:mn()}),true}else if(!(e<0||f<50||0===n.s.i))return chrome.tabs.executeScript(e,{file:l.$.Qe,frameId:n.s.i,runAt:"document_start"},vn),n.disconnect(),true;return false}function X(n){var e=Rn,r=e.lastIndexOf(n);r===e.length-1?--e.length:r>=0&&e.splice(r,1)}function nn(n){var e=n.sender,r=e.tab||{id:cn--,url:"",incognito:false},t=e.url;return e.tab=null,n.s={i:e.frameId,a:r.incognito,s:0,f:0,t:r.id,u:t}}var en,rn,tn=null,on=null,un=1,an=null,cn=-4,ln=false,sn=0,fn=0,dn=-1,mn=(en=0,rn=0,function(){var n=Date.now();return n-rn>3e3&&(en=1+(0|1879048191*Math.random())+(4095&n)),rn=n,en}),hn=Math.abs,pn=r.D(),vn=r.T,gn=chrome.tabs.query.bind(null,{active:true,currentWindow:true}),bn=chrome.tabs.query.bind(null,{currentWindow:true}),_n=function(n,e){var r=m._r,t={populate:n};return r>=0?chrome.windows.get(r,t,e):chrome.windows.getCurrent(t,e)},wn=chrome.tabs.get,yn=function(n,e,r,t){var i,u,a,c=l.$.Je;return!(n.length<c.length+3||!n.startsWith(c))&&(t?((n=n.slice(c.length)).startsWith("#!image ")&&2===m.nr&&(n="#!image incognito=1&"+n.slice(8).trim()),i=t.incognito,l.Wn.re=(u=[n,null,0])[1]=function(){return clearTimeout(u[2]),l.Wn.re=null,u[0]},u[2]=setTimeout(function(){u[0]="#!url vimium://error (vimium://show: sorry, the info has expired.)",u[2]=setTimeout(function(){l.Wn.re===u[1]&&(l.Wn.re=null),u[0]="",u[1]=null},2e3)},1200),un=1,0!==e||i?i?o({url:c,active:-2!==e}):D(c,e,r,[t]):(a=f>=54&&!t.url.split("#",2)[1]?chrome.extension.getViews({tabId:t.id}):[]).length>0&&a[0].location.href.startsWith(c)&&a[0].onhashchange?a[0].onhashchange():chrome.tabs.update(t.id,{url:c}),true):(gn(function(t){if(!t||t.length<=0)return vn();yn(n,e,r,t[0])}),true))},kn=[function(n){if(2!==m.nr&&n&&(n=n.filter(function(n){return!n.incognito})),!(n&&n.length>0))return gn(kn[1].bind(this)),vn();_n(false,kn[2].bind(this,n))},function(n){var e=this.s?kn[3].bind(this,0):null;n.length<=0||2===m.nr&&!n[0].incognito?chrome.windows.create({url:this.u},e&&function(n){if(n.tabs&&n.tabs.length>0)return e(n.tabs[0])}):o({index:n[0].index+1,url:this.u,windowId:n[0].windowId},e)},function(n,e){var r,t=e.id,o=this.u,i=n.filter(function(n){return n.windowId===t});if(!(i.length<=0&&(i=e.incognito?n:n.filter(function(n){return!n.incognito})).length<=0))return this.p&&i.sort(function(n,e){return n.url.length-e.url.length}),(r=s(i)).url.length>i[0].url.length&&(r=i[0]),chrome.tabs.update(r.id,{url:r.url===o||r.url.startsWith(o)?void 0:o,active:true},this.s?kn[3].bind(this,0):null),r.windowId!==t?W(r):void 0;gn(kn[1].bind(this))},function(n,e){var r=this;return e?"complete"===e.status||n>=2?j.wr(this,e):void setTimeout(function(){wn(e.id,kn[3].bind(r,n+1))},800):vn()}],Sn=[0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,3,0,3,3,0,0,3,0,1,2,0,2,1,0,3,0,3,0,0,1,0,1,1,0,0,0],Cn=[r.S,function(){var n,e=on,r=-1,t=pn[e.s.t];if(t&&t.length>2){for(r=Math.max(0,t.indexOf(e,1)),n=hn(un);n>0;n--)(r+=un>0?1:-1)===t.length?r=1:r<1&&(r=t.length-1);e=t[r]}e.postMessage({N:7,H:0===e.s.i?N(e):null,k:sn,c:0,m:e!==on&&t&&e!==t[0]?3:2})},function(){var n=on.s,e=n.t>=0&&pn[n.t]?null:"Vimium C can not access frames in current tab";if(e&&a.er(e),!n.i||!chrome.webNavigation)return Cn[32]();chrome.webNavigation.getAllFrames({tabId:n.t},function(e){var r,t,o,i,u,a=n.i,c=a,l=un;do{for(r=false,t=0,o=e;t<o.length;t++)if((i=o[t]).frameId===c){r=(c=i.parentFrameId)>0;break}}while(r&&0<--l);if(!(u=c>0&&c!==a?x(n.t,c):null))return Cn[32]();u.postMessage({N:7,H:N(u),k:sn,c:0,m:4})})},function(){var n,e,r,t,o,i=tn.rel,u=[],a=tn.patterns;for(i=i?i+"":"next",a instanceof Array||("string"==typeof a||(a=""),a=(a=a||("next"!==i?l.dn.previousPatterns:l.dn.nextPatterns)).split(",")),n=0,e=a;n<e.length&&((r=(r=e[n])&&(r+"").trim())&&u.push(".#[".includes(r[0])?r:r.toLowerCase()),200!==u.length);n++);t=u.map(function(n){return Math.max(n.length+12,4*n.length)}),o=Math.max.apply(Math,t),on.postMessage({N:10,H:null,c:11,n:1,a:{r:i,p:u,l:t,m:o>0&&o<99?o:32}})},function(){var e,r,t=(tn.key||"")+"",o="darkMode"===t?"d":"reduceMotion"===t?"m":l.he[t],i=o?l.te[o]:0,u=n("quoteA",[t]),c=tn.value,s="boolean"==typeof c,f="";if(o?"boolean"==typeof i?s||(c=null):s||void 0===c?f=n(s?"notBool":"needVal",[u]):typeof c!=typeof i&&(f=JSON.stringify(i),f=n("unlikeVal",[u,f.length>10?f.slice(0,9)+"\u2026":f])):f=n(t in l.se?"notFgOpt":"unknownA",[u]),f)a.er(f);else for(c=l.pe(o,c),e=a.we(on.s.t),r=1;r<e.length;r++)e[r].postMessage({N:10,H:e[r]===e[0]?N(on):null,c:9,n:1,a:{k:o,n:e[r]===e[0]?u:"",v:c}})},function(){0!==on.s.i||8&on.s.f?(window.HelpDialog||r.pn("HelpDialog"),on.postMessage({N:10,H:N(on),c:17,n:1,a:tn})):In[12]({a:tn},on)},function(){var e,t=tn.key,o=null!=tn.hideHUD?!tn.hideHUD:null!=tn.hideHud?!tn.hideHud:!l.dn.hideHud;e=r.I(t=t&&"string"==typeof t?t:""),on.postMessage({N:10,H:o?N(on):null,c:8,n:1,a:{u:!!tn.unhover,r:+!!tn.reset,i:!!tn.insert,k:e||null,p:!!tn.passExitKey,h:o?[n("5",[e&&": "+t])]:null}})},function(){var n,e,r,t,o,i;n="string"==typeof tn.mode?tn.mode.toLowerCase():"",r=null,t="",o=null,i=null,16&~(e=on.s).f&&(t=l.$.words,32&e.f||(e.f|=32,r=l.dn.findCSS),o=c.yr,i=c.kr,e.f|=16),on.postMessage({N:10,H:N(on),c:6,n:1,a:{m:"caret"===n?3:"line"===n?2:1,f:r,g:i,k:o,w:t}})},function(){var n=on.s,e=un<0?-un:un,r=tn.index,t=r?"other"===r?e+1:"count"===r?e:r>=0?-1-(0|r):0:0,o=!!t||!tn.active,i=null;32&n.f||(n.f|=32,i=l.dn.findCSS),on.postMessage({N:10,H:N(on),c:1,n:1,a:{n:t>0?un/e:un,l:o,f:i,r:true===tn.returnToViewport,s:!t&&e<2&&!!tn.selected,p:!!tn.postOnEsc,q:o||tn.last?h.Sr(n.a,"",t<0?-t:t):""}})},function(n){var e,t,o,i,u,a,c,s,f=on,d=tn.url;null!=d&&true!==d&&"string"!=typeof d&&(d=null,delete tn.url),(f||(f=on=x(m.tr,0)))&&(t=f.s.u,o=!(e=l.dn.vomnibarPage_f).startsWith(v),i=t.startsWith(v),u=n||!e.startsWith(location.origin)?l.$.Ne:e,n=n||(o?i||e.startsWith("file:")&&!t.startsWith("file:///")||e.startsWith("http:")&&!/^http:/.test(t)&&!/^http:\/\/localhost[:/]/i.test(e):f.s.a||i&&!e.startsWith(t.slice(0,t.indexOf("/",t.indexOf("://")+3)+1))),"bookmark"===(s=r.y(r.O({v:(a=n||e===u||f.s.t<0)?u:e,i:a?null:u,t:a?0:o?2:1,s:null!=(c=tn.trailingSlash)?c:tn.trailing_slash,j:a?"":l.$.Ze,e:!!tn.exitOnClick,k:mn()}),tn)).mode&&(s.mode="bookm"),f.postMessage({N:10,H:N(f),c:7,n:un,a:s}),s.k=-1,tn=s)},r.S,function(){function e(n){return i({url:E(n),active:false,windowId:n.windowId,pinned:n.pinned,index:n.index+2,openerTabId:n.id},un-1)}var r=on?on.s.t:m.tr;if(r<0)return a.ir(n("dupTab"));chrome.tabs.duplicate(r),un<2||(f>=52||0===m.nr||l.$.Ae?wn(r,e):chrome.windows.getCurrent({populate:true},function(n){var t,o=n.tabs.filter(function(n){return n.id===r})[0];if(!n.incognito||o.incognito)return e(o);for(t=un;0<--t;)chrome.tabs.duplicate(r)}))},function(){function e(){return a.er(n("hasIncog"))}var t=!!tn.incognito;if(t&&(on?on.s.a:2===m.nr))return e();chrome.windows.getCurrent({populate:true},t?function(t){var o,i,u=s(t.tabs);if(t.incognito&&u.incognito)return e();if(o={tabId:u.id,incognito:true},i=E(u),u.incognito);else{if(t.incognito)return r.U(i)?e():(++u.index,a.Cr(u));if(r.U(i))return a.ir(n("openIncog"));o.url=i}t.tabs=null,chrome.windows.getAll(function(n){var e,r;(n=n.filter(function(n){return n.incognito&&"normal"===n.type})).length?chrome.tabs.query({windowId:n[n.length-1].id,active:true},function(n){var e=n[0],r=o.tabId;chrome.tabs.create({url:o.url,index:e.index+1,windowId:e.windowId}),W(e),chrome.tabs.remove(r)}):(r="normal"===t.type?t.state:"",o.url&&(e=o.tabId,o.tabId=void 0,l.$.Ae&&(o.focused=true,r="")),g(o,r,e?null:P),e&&chrome.tabs.remove(e))})}:function(e){var r,t,o,i,u,c=e.tabs,l=c.length,d=!!tn.all;if(d||!(l<=1)){if(r=s(c),t=r.incognito,o=r.index,d)i=[0,u=l];else{if((u=(i=T(o,l))[1]-i[0])>=l)return a.er(n("moveAllTabs"));if(u>30){if(!(u=I("moveTabToNewWindow",u)))return;u<2&&(i=[o,o+1])}}return g({tabId:c[o].id,incognito:t},"normal"===e.type?e.state:"",u>1?function(n){var r,u,a,l,s,d;P(),r=c.slice(i[0],o),u=c.slice(o+1,i[1]),e.incognito&&f<52&&(r=r.filter(a=function(n){return n.incognito===t}),u=u.filter(a)),s=u.length,d=function(n){return n.id},(l=r.length)&&(chrome.tabs.move(r.map(d),{index:0,windowId:n.id},vn),l>1&&chrome.tabs.move(c[o].id,{index:l})),s&&chrome.tabs.move(u.map(d),{index:l+1,windowId:n.id},vn)}:P)}})},function(n){var e=n[0];chrome.windows.getAll(function(n){var r,t,o=e.windowId,i=n.filter(function(n){return n.incognito===e.incognito&&"normal"===n.type});if(i.length>0){if(r=i.map(function(n){return n.id}),o=r.indexOf(o),r.length>=2||o<0)return t=(o+un)%r.length,o<0&&un<0&&t++,t<0&&(t+=r.length),void chrome.tabs.query({windowId:r[t],active:true},function(n){function r(){chrome.tabs.move(e.id,{index:t.index+(tn.right>0?1:0),windowId:t.windowId},function(){P(),B(e.id,true)})}var t=n[0];o>=0||f>=52?r():(function(n,e,r){var t="number"==typeof n,o={type:"normal",focused:false,incognito:e,state:"minimized",tabId:t?n:void 0,url:t?void 0:n};f<44&&(o.state=void 0,o.left=o.top=0,o.width=o.height=50),chrome.windows.create(o,r)})(e.id,e.incognito,r)})}else i=n.filter(function(n){return n.id===o});g({tabId:e.id,incognito:e.incognito},1===i.length&&"normal"===i[0].type?i[0].state:"",P)})},function(){chrome.windows.getAll(f<46?{populate:true}:{populate:true,windowTypes:["normal","popup"]},function(n){var e,r,t,o,i,u;f<46&&(n=n.filter(function(n){return"normal"===n.type||"popup"===n.type})),e=2===m.nr,r=m._r,(o=(t=(n=n.filter(function(n){return n.incognito===e})).filter(function(n){return n.id===r})).length?t[0]:null)&&(i=function(e){var r=[],t=function(n){r.push(n.id)};n.sort(function(n,e){return n.id-e.id}).forEach(function(n){return n.tabs.forEach(t)}),r.length&&chrome.tabs.move(r,{windowId:e.id,index:e.tabs.length})},"popup"===o.type&&o.tabs.length?(u=o.tabs[0].id,o.tabs=o.tabs.filter(function(n){return n.id!==u}),g({tabId:u,incognito:e},o.state,i)):(n=n.filter(function(n){return n.id!==r}),i(o)))})},function(n){return e.xr(un,tn,n)},function(){return e.Tr(tn,on)},function(n){var e,r,t,o,i,u;if(!(n.length<2)){if(e=un,r=n.length,(i=n[o=((o=tn.absolute?e>0?Math.min(r,e)-1:Math.max(0,r+e):hn(e)>2*n.length?e>0?-1:0:(t=s(n)).index+e)>=0?0:r)+o%r]).pinned&&e<0&&tn.noPinned&&(u=(t||s(n)).index)>o&&!n[u-1].pinned){for(;n[o].pinned;)o++;i=n[o]}return i.active?void 0:B(i.id)}},function(n,e){var r,t,o,i,u,a,c,l,f,d,h,p,v,g,b=tn.highlighted;if(n){if(!e||!e.length)return vn();if(t=e.length,o=s(e),u=1,a=i=o.index,c=i+1,hn(un)>1&&t>1){if(l=0,e[0].pinned!==o.pinned&&!(un<0&&e[i-1].pinned))for(;e[l].pinned;)l++;if((u=(f=T(i,t-l,t))[1]-f[0])>20&&!(u=I("removeTab",u)))return;u>1&&(a=l+f[0],c=l+f[1])}else if(b&&(h="no-current"===b,(u=(d=e.filter(function(n){return n.highlighted})).length)>1&&(h||u<t)&&(chrome.tabs.remove(d.filter(function(n){return n!==o}).map(function(n){return n.id}),vn),u=1),h))return;!a&&u>=t&&true!==(null!=tn.mayClose?tn.mayClose:tn.allow_close)?n<2?bn(Cn[18].bind(null,2)):chrome.windows.getAll(q.bind(null,o,e)):(n<2&&(a=o.index=0,c=1),p=tn.goto||(tn.left?"left":""),-2===(v=u>=t?t:"left"===p?a>0?a-1:c:"right"===p?c<t?c:a-1:"previous"===p?-2:t)&&(v=(g=c<t&&!(e[c].id in m.Ir)?e[c]:e.filter(function(n,e){return(e<a||e>=c)&&n.id in m.Ir}).sort(m.Rr)[0])?g.index:t),v>=0&&v<t&&B(e[v].id),V(o,e,a,c))}else((r=hn(un)>1||b||tn.goto||tn.left)?bn:gn)(Cn[18].bind(null,r?2:1))},function(n){var e,t,o,i,u,a=s(n),c=tn.other?0:un,l=a.index,f=false,d=tn.filter;c>0?(++l,n=n.slice(l,l+c)):(f=l>0&&n[0].pinned&&!n[l-1].pinned,c<0?n=n.slice(Math.max(l+c,0),l):n.splice(l,1)),f&&(n=n.filter(function(n){return!n.pinned})),d&&(e=d.includes("title")?a.title:"",t=d.includes("hash"),o=E(a),i=d.includes("host")?r.ln(o):null,u=t?o:i?i.host:o.split("#",1)[0],n=n.filter(function(n){var a=E(n),c=i?r.ln(o):null;return(c?c.host:t?a:a.split("#",1)[0])===u&&(!e||n.title===e)})),n.length>0&&chrome.tabs.remove(n.map(function(n){return n.id}),vn)},function(n){if(n){var e=s(n).index,r=T(e,n.length,0,1),t=r[0],o=r[1];chrome.tabs.remove(n[e+1===o||un>0&&t!==e?t:o-1].id)}},function(){var e,r;if(hn(e=un)<2&&(on?on.s.a:2===m.nr))return a.er(n("notRestoreIfIncog"));e>(r=chrome.sessions.MAX_SESSION_RESULTS)&&(e=r);do{chrome.sessions.restore(null,vn)}while(0<--e)},function(){function e(e){if(un>e.length)return a.er(n("indexOOR"));var r=e[un-1],t=r.tab||r.window;t&&chrome.sessions.restore(t.sessionId)}if(un>chrome.sessions.MAX_SESSION_RESULTS)return e([]);un<=1?chrome.sessions.restore(null,vn):chrome.sessions.getRecentlyClosed(e)},function(e){var r,t,o,i,u,c,l;if(f<54&&a.er(n("noDiscardIfOld",[54])),r=s(e).index,i=(t=Math.max(0,Math.min(r+un,e.length-1)))>r?1:-1,(o=hn(t-r))>20&&(o=I("removeTab",o)),o)for(!(u=e[r+i]).discarded&&(o<2||u.autoDiscardable)&&chrome.tabs.discard(u.id,o>1?vn:function(){var e=vn();return e&&a.er(n("discardFail")),e}),c=2;c<=o;c++)!(l=e[r+i*c]).discarded&&l.autoDiscardable&&chrome.tabs.discard(l.id,vn)},function(n){var e,t,o;if(tn.urls&&tn.urls instanceof Array)return n&&n.length>0?F(n):gn(F),vn();if((tn.url_mask||tn.url_mark||tn.host_mask||tn.host_mark)&&!n)return vn()||void gn(Cn[24]);if(e=b.Nr(tn),tn.url)t=tn.url+"",e&&(t=b.Mr(t,e.k?0:32768,e)),A(t,3,n);else if(tn.copied){if((t=r.yn(e))instanceof Promise)return void t.then(L.bind(null,n));L(n,t)}else o=tn.url_f,e&&"string"==typeof o&&o&&(o=b.Mr(o,e.k?0:32768,e)),A(o||"",9,n)},function(e){var t,o=(tn.keyword||"")+"",i=a._n({u:E(e[0])});i&&o?(t=r.on(i.u.split(" "),o,2),tn=r.O({reuse:tn.reuse,opener:true,url_f:t}),Cn[24](e)):a.er(n(o?"noQueryFound":"noKw"))},function(n){var e,r,t,o,i=s(n),u=!i.pinned,a={pinned:u},c=u?0:1,l=0;if(hn(un)>1&&u)for(;n[l].pinned;)l++;for(r=l+(e=T(n.length<2?0:i.index,n.length-l,n.length))[c]-c,t=l+e[1-c]-c,o=[];r!==t;r+=u?1:-1)(u||n[r].pinned)&&o.push(n[r].id);if((t=o.length)>30){if(!(t=I("togglePinTab",t)))return;1===t&&(o=[i.id])}for(r=0;r<t;r++)chrome.tabs.update(o[r],a)},function(){if(f<45)return a.er(n("noMute",[45]));tn.all||tn.other?chrome.tabs.query({audible:true},function(e){var r,t,o,i=tn.other?on?on.s.t:m.tr:-1,u=-1===i?"All":"Other",c=false,l={muted:true};for(r=e.length;0<=--r;)(t=e[r]).id===i||(f<46?t.muted:t.mutedInfo.muted)||(c=true,chrome.tabs.update(t.id,l));if(c)return a.er(n("mute",[u]));for(l.muted=false,r=e.length;0<=--r;)(o=e[r].id)!==i&&chrome.tabs.update(o,l);a.er(n("unmute",[u]))}):gn(function(e){var r=e[0],t=f<46?!r.muted:!r.mutedInfo.muted;chrome.tabs.update(r.id,{muted:t}),a.er(n(t?"muted":"unmuted"))})},function(n){var e,r,t,o,i,u={bypassCache:true===(tn.hard||tn.bypassCache)},a=chrome.tabs.reload;if(!n||n.length<1)return n&&_n(true,function(n){return n&&n.tabs.length&&Cn[28](n.tabs),vn()}),vn();if(hn(un)<2)a(s(n).id,u);else{if(t=(r=T(e=s(n).index,n.length))[0],o=r[1],tn.single&&(t=e=e+1===o||un>0&&t!==e?t:o-1,o=e+1),(i=o-t)>20){if(!(i=I("reloadTab",i)))return;1===i&&(t=e,o=e+1)}for(a(n[e].id,u);t!==o;t++)t!==e&&a(n[t].id,u)}},function(n){if(!(n.length<=0)){var e=n[0];if(++e.index,f>=52||0===m.nr||l.$.Ae||!r.U(E(e)))return a.Cr(e);chrome.windows.get(e.windowId,function(n){return n.incognito&&!e.incognito&&(e.openerTabId=e.windowId=void 0),a.Cr(e)})}},function(){un>0&&on&&on.s.i&&(on=x(on.s.t,0)||on),R({H:3,u:"",p:un,t:tn.trailingSlash,r:tn.trailing_slash,s:b.Nr(tn),e:true})},function(n){for(var e=s(n),r=e.pinned,t=Math.max(0,Math.min(n.length-1,e.index+un));r!==n[t].pinned;)t-=un>0?1:-1;t!==e.index&&chrome.tabs.move(e.id,{index:t})},function(){var n=on?on.s.t:m.tr,e=x(n,0);e&&e.postMessage({N:7,H:N(e),k:sn,c:0,m:pn[n][0]===e?2:4})},function(n){if(!(n.length<2)){n.splice(s(n).index,1);var e=(n=n.filter(function(n){return n.id in m.Ir}).sort(m.Rr))[un>0?Math.min(un,n.length)-1:Math.max(0,n.length+un)];e&&B(e.id)}},function(){var e=!!(tn.decoded||tn.decode),t=tn.type;"frame"===t&&on?R({H:16,u:"",d:e,e:b.Nr(tn)}):chrome.tabs.query("browser"===t?{windowType:"normal"}:{active:"window"!==t&&("tab"!==t||hn(un)<2)||void 0,currentWindow:true},function(o){var i,u,c,l,f,d,h,p,v;t&&"title"!==t&&"frame"!==t&&"url"!==t?(i=on?on.s.a:2===m.nr,c=""+((u=tn.format)||"${title}: ${url}"),f="json"===(l=tn.join)&&!u,d=/\$\{([^}]+)\}/g,"tab"===t?(h=T(o.length<2?0:s(o).index,o.length),o=o.slice(h[0],h[1])):(o=o.filter(function(n){return n.incognito===i})).sort(function(n,e){return n.windowId-e.windowId||n.index-e.index}),p=o.map(function(n){return f?{title:n.title,url:e?r.Nn(E(n)):E(n)}:c.replace(d,function(t,o){return e&&"url"===o?r.Nn(E(n)):"__proto__"!==o&&n[o]||""})}),v=r.gn(p,l,b.Nr(tn)),a.er("tab"===t&&o.length<2?v:n("copiedWndInfo"),"url"===t?14:15)):In[16]({u:"title"===t?o[0].title:E(o[0]),d:e,e:b.Nr(tn)},on)})},function(){var e=on?on.s.a:2===m.nr;return h.Pr(e),a.er(n("fhCleared",[e?n("incog"):""]))},function(e){var t,i=e[0],u=E(i),c=tn.reader,l=tn.keyword;if(u.startsWith(v))a.ir(n("openExtSrc"));else{if(c&&l)return u=(t=a._n({u:u}))&&t.k===l?t.u:r.J(u,l),void chrome.tabs.update(i.id,{url:u},vn);o({url:u=u.startsWith("view-source:")?u.slice(12):"view-source:"+u,active:i.active,windowId:i.windowId,index:i.index+1,openerTabId:i.id})}},function(){tn.local?R({H:18,u:"",a:2},true):j.Er()},function(e){var r,t,o,i=e[0].id,u=((tn.style||"")+"").trim(),c=!!tn.current;if(u){for(r=0,t=Rn;r<t.length;r++)if((o=t[r]).s.t===i)return void o.postMessage({N:46,t:u,c:c});c||In[24]({t:u,o:1})}else a.er(n("noStyleName"))},function(n){if(!n.length)return vn();In[26]({s:un,r:tn.reuse},null,n[0])},function(){var e=tn.text;a.er(e?e+"":n("needText"))},function(){tn=r.O({copied:true,keyword:tn.keyword}),Cn[24]()},function(){chrome.tabs.getZoom(function(n){var e,r,t,o,i,u,a;if(!n)return vn();if(un<-4&&(un=-un),e=n,r=Math,un>4)e=r.max(.25,r.min(e=un/(un>1e3?un:un>49?100:10),5));else{for(t=0,o=9,i=[.25,1/3,.5,2/3,.75,.8,.9,1,1.1,1.25,1.5,1.75,2,2.5,3,4,5],u=0,a=0;u<i.length&&(a=hn(i[u]-n))<o;u++)t=u,o=a;e=i[t+un<0?0:r.min(t+un,i.length-1)]}hn(e-n)>.005&&chrome.tabs.setZoom(e)})}],xn=/^-?\d+|^-/,Tn=function(n,e,t,o){var i,u,a,c,l=n.mr,s=n.hr;if(l&&(i=l.count)&&(e*=i),1===(e=e>=1e4?9999:e<=-1e4?-9999:0|e||1));else if(1===s)e=1;else if(s>0&&(e>s||e<-s)){if(!(e=I(n.cr,hn(e))*(e<0?-1:1)))return}else e=e||1;if(n.fr){if(c=Cn[a=n.sr],tn=l||r.D(),on=o,un=e,sn=t,(e=Sn[a])<1)return c();e<2||2===e&&hn(un)<2?gn(c):bn(c)}else o.postMessage({N:10,H:9224>>(u=n.sr)&1?N(o):null,c:u,n:e,a:l})},In=[function(e,r){var t,o,i=e.k,u=l.Ee;if(!(i>=0&&i<u.length))return on=r,a.ir(n("notModify",[i]));t=u[i],o=l.Ue&&l.Ue(),l.le(t)!==e.v&&(o?o.then(function(){l.fe(t,e.v)}):l.fe(t,e.v))},function(n,e){return h.Sr(e.s.a,n.q,n.i)},function(n,e){var r=a._n(n);if(!("i"in n))return r;e.postMessage({N:44,i:n.i,s:r})},function(n,e){var t,o,i,u,c,l,s,f,d,m,h,p,g,_,w,k,S,C,x,T,I;if(n.e)return n.e=false,void(null==(t=In[3](n)).p?(on=e,a.er(t.u)):e?e.postMessage({N:10,H:null,c:0,n:1,a:{r:1,url:t.u}}):chrome.tabs.update({url:t.u}));if(i=(o=n.u).toLowerCase(),!r.G.test(r.un(i)))return r.x(),{u:"This url has no upper paths",p:null};if(u=encodeURIComponent,c="",false,d=false,false,h=null,g=0,_=0,w=false,(p=o.lastIndexOf("#")+1)&&(c=o.slice(p+ +("!"===o.substr(p,1))),((p=(l=r.Q(c)).lastIndexOf("/"))>0||0===p&&l.length>1)&&(w=l!==c,"/"===(h=(s=(S=/([^&=]+=)([^&\/=]*\/[^&]*)/).exec(l)||/(^|&)([^&\/=]*\/[^&=]*)(?:&|$)/.exec(l))?s[2]:l)||h.includes("://")?h=null:s?w?(l="https://example.com/",l=encodeURI(l+h).slice(l.length),(p=c.indexOf(l))<0&&(p=c.indexOf(l=u(h))),p<0&&(w=false,p=c.indexOf(l=h)),_=p+l.length,p<0&&"&"!==s[1]&&((p=c.indexOf(l=s[1]))<0&&(w=true,l=u((l=s[1]).slice(0,-1)),p=c.indexOf(l)),p>=0&&(_=c.indexOf("&",p+=l.length)+1)),p>=0?g=p:(k=S.exec(c))?(h=r.Q(k[2]),_=(g=k.index+k[1].length)+k[2].length):"&"!==(l=s[1])&&(p=o.length-c.length,c=l+u(h),o=o.slice(0,p)+c,g=l.length,_=0)):g=s.index+s[1].length:g=0,h&&(g+=p=o.length-c.length,_>0&&(_+=p)))),!h){if(i.startsWith(v)&&!n.f)return r.x(),{u:"An extension has no upper-level pages",p:null};c="",g=o.indexOf("/",o.indexOf("://")+3),i.startsWith("filesystem:")&&(g=o.indexOf("/",g+1)),p=o.indexOf("?",g=g<0?0:g),_=o.indexOf("#",g),h=o.slice(g,p=(p=_<0?p:p<0?_:p<_?p:_)>0?p:o.length),_=0,w=false}if(p=n.p,f=h.startsWith("/"),!c&&i.startsWith("file:")){if(h.length<=1||11===o.length&&o.endsWith(":/")){if(!n.f)return r.x(),{u:"This has been the root path",p:null};p=0}d=true,n.f||1===p&&(p=-1)}else d=!(c||!i.startsWith("ftp:"))||(null!=n.t?!!n.t:null!=n.r?!!n.r:h.length>1&&h.endsWith("/")||/\.([a-z]{2,3}|apng|jpeg|tiff)$/i.test(h));return x=(C=h.slice(+f,h.length-+h.endsWith("/")).split("/")).length,T=p<0?p+x:p,m=x<=1&&p<=-2&&o.lastIndexOf("#",g)>0,C.length=p=T>x?x:p>0?T-1:T>0?T:0,h=C.join("/"),(l=n.a||"")&&(h+="/"===l[0]?l:"/"+l),h=h?("/"===h[0]?"":"/")+h+(!d||h.endsWith("/")?"":"/"):"/",!_&&o.lastIndexOf("git",g-3)>0&&(h=y(o,h)||h),!m||h&&"/"!==h?(l=w?u(h):h,o=o.slice(0,g)+(_?l+o.slice(_):l)):o=o.split("#",1)[0],(I=b.Mr(o,64,n.s)||o)!==o&&(r.J(I,null,-2),o=0===r.Y?I:o),r.x(),{u:o,p:h}},function(e,t){function o(e){var o=null===e?"It's not allowed to read clipboard":(e=e.trim())?"":n("noSelOrCopied");if(o)return on=t,void a.er(o);e=r.on(e.split(r.B),u.k),yn(e,0,{})||_(e)}var i,u=a._n(e);if(!u||!u.k)return on=t,a.er(n("noEngineFound"));(i=e.t.trim()||(e.c?r.yn(e.s):""))instanceof Promise?i.then(o):o(i)},function(e,r){var t,o=e.s,i=false!==e.a;if(on=H(r),"number"!=typeof o){if(chrome.sessions.restore(o,function(){var e=vn();return e&&a.er(n("noSessionItem")),e}),!i)return(t=r.s.t)>=0||(t=m.tr),t>=0?B(t):void 0}else chrome.tabs.update(o,{active:true},function(e){var r=vn();return r?a.er(n("noTabItem")):W(e),r})},function(n,e){var t,o,i,u,a,c,l,s,f;r.O(n),t=null!=e&&k(e,true),on=t?e:H(e)||on,o=n.u,u=(n.k||"")+"",c=null!=(a=n.t)?a:!u,s=n.r,(i=r.D()).reuse=null==(l="reverse"===n.i?on?!on.s.a:null:n.i)||s&&"current"!==s||on&&l===on.s.a?s:-1,i.incognito=l,i.sed=n.e,o?(":"===o[0]&&n.o&&/^:[bdhostw]\s/.test(o)&&((o=o.slice(2).trim())||(t=false)),n.f||(c?(o=r.Mn(o),o=r.J(o,u,t?-1:3),f=r.Y,null==n.h||2!==f&&1!==f?t&&3===f&&o.startsWith("vimium:")&&(o=r.J(o)):o=(n.h?"https":"http")+o.slice("s"===o[4]?5:4)):o=r.on(o.trim().split(r.B),u||"~")),i.opener=t&&!n.n,i.url_f=o):(i.copied=n.c,i.keyword=u,i.testUrl=a),un=1,tn=i,Cn[24]()},function(n,e){var r,t=e.s.t,o=pn[t];if(o){if(e!==o[0])return ln&&(r=e.s.s)!==o[0].s.s?(o[0]=e,void a.br(t,r)):void(o[0]=e)}else ln&&a.br(t,e.s.s)},function(n,e){var r,t,o,i,u=e;if(u||(u=x(n.tabId,n.frameId))){if(t=(r=u.s).u,o=a.pr(r.u=e?n.u:n.url,r),r.s!==(i=null===o?0:o?1:2)){if(1&r.f)return;r.s=i,ln&&pn[r.t][0]===u&&a.br(r.t,i)}else if(!o||o===a.pr(t,r))return;u.postMessage({N:1,p:o})}},function(n,e){var r,t;if(on=e,un=1,sn=n.k,2!==(r=n.t||0))return Cn[1===r?2:1]();(t=pn[e.s.t])?t[0].postMessage({N:7,H:null,k:sn,c:0,m:1}):C(e,{N:45,l:sn})},function(n,e){var r,t,o,i=pn[e.s.t];if(i&&(i[0].s.f|=2,!(i.length<3)))for(r={N:8},t=i.length;0<--t;)(o=i[t])!==e&&(o.postMessage(r),o.s.f|=2)},function(n,e){var r,t,o,i=e.s.t,u=pn[i],a=n.u;if(!u||u.length<3)return false;for(r=null,t=u.length;1<=--t;)if(u[t].s.u===a){if(r){r=null;break}r=u[t]}return r?(sn=n.k,G(n,e,r,1)):(o=chrome.webNavigation)&&o.getAllFrames({tabId:e.s.t},function(r){var t,o,u,a,c=0,l=e.s.i;for(t=0,o=r;t<o.length;t++)if((u=o[t]).parentFrameId===l){if(c){c=0;break}c=u.frameId}(a=c&&x(i,c))&&(sn=n.k,G(n,e,a,1))}),!!r},function(n,e){Promise.all([r.pn("HelpDialog"),new Promise(function(n){l.Re("helpDialog",n)})]).then(function(r){var t=n.w&&x(e.s.t,0)||e,o=t.s.u.startsWith(l.$.We),i=n.a||{};t.s.f|=8,t.postMessage({N:10,H:N(t),c:17,n:1,a:{h:r[0].Hr(o),o:l.$.We,e:!!i.exitOnClick,c:l.le("showAdvancedCommands",true)||o&&0!==l.Wn.Qn}})},null)},function(n,e){e.s.f|=6,e.postMessage({N:12,H:l.dn.innerCSS})},function(n,e){var t=n.c,o=n.i;if(sn=0,null!=t)delete n.c,delete n.H,delete n.i,un=+t||1,tn=r.O(n);else{if(true!==n.r)return;if(null==tn||-1!==tn.secret){if(o)return;tn=r.D(),un=1}else if(o&&tn.v===l.$.Ne)return}return on=e,Cn[9](o)},function(n,e){if(!k(e,false))return d.Ur(n.q,n,S.bind(e,0|n.i))},function(n,e){var t,o=n.u||n.s;if(n.d)if("string"!=typeof o)for(t=o.length;0<=--t;)o[t]=r.Nn(o[t]+"");else o=r.Nn(o);else o.length<4&&!o.trim()&&" "===o[0]&&(o="");o=o&&r.gn(o,n.j,n.e),on=e,o=n.s&&"object"==typeof n.s?"["+n.s.length+"] "+n.s.slice(-1)[0]:o,a.er(n.d?o.replace(/%(20|0[9ADad])/g,decodeURIComponent):o,n.u?14:15)},function(n,e){var t,o,i,u,a,l;e.s.f|=2,o=1,null!=(i=xn.exec(t=n.k))&&(t=t.slice((u=i[0]).length),o="-"!==u?parseInt(u,10)||1:-1),t in(a=c.zr)||(i=t.match(r.Fn),t=i[i.length-1],o=1),l=a[t],r.x(),Tn(l,o,n.l,e,0)},function(n,e){switch(on=e,n.a){case 1:return j.$r(n,e);case 0:return j.jr(n,e);case 2:return j.Er(n.u);default:return}},function(n,e,t){var o,i=r.En(n.u.split("#",1)[0]),u=kn[0];t||!i.startsWith("file:")||i.includes(".",i.lastIndexOf("/")+1)?(n.p&&(i+="*"),o=u.bind(n)):(i+="/",o=function(e){return e&&e.length>0?u.call(n,e):In[19](n,null,true)}),chrome.tabs.query({url:i,windowType:"normal"},o)},function(n,e){var r,o,i=n.c,u=n.i;u>=-1&&fn!==u||(t(0),n.r?(o=an,an=null,(r=n.r)>1&&o&&(r<3&&(un=un>0?1:-1),o())):Tn(c.lr[i],n.n,0,e,0))},function(n,e){return a.Ar(n,e)},function(e,t){var o,i=e.u;if(!r.ln(i))return on=t,void a.er(n("invalidImg"));o=l.$.Je+"#!image ",e.f&&(o+="download="+encodeURIComponent(e.f)+"&"),false!==e.a&&(o+="auto=once&"),i=e.e?b.Mr(i,32768,e.e):i,yn(o+i,e.r,{opener:true})},function(n,e){G(n,e,x(e.s.t,0),n.f)},function(n,e){var t,o,i,u,a,c,s,f,d,m=l.oe,h=m.s;if(n.o||!l.Wn.ee)if(u=(i=h&&" "+h+" ").includes(o=" "+n.t+" "),t=(t=(a=null!=n.e?n.e:u)?u?h:h+o:i.replace(o," ")).trim().replace(r.B," "),false!==n.b){if(n.o&&(l.Wn.ee=a!==(" "+l.dn.vomnibarOptions.styles+" ").includes(o)),t!==h)for(m.s=t,c={N:47,d:{s:t}},s=0,f=Rn;s<f.length;s++)(d=f[s])!==e&&d.postMessage(c)}else m.s=t},function(n,e){tn=r.O({active:true,returnToViewport:true}),on=e,un=1,Cn[8]()},function(e,r,t){function o(n,e){chrome.tabs.executeScript(n.id,{code:"history.go("+e+")",runAt:"document_start"},vn)}var i,u,c,l,s=t?t.id:r.s.t,d=e.s,m=$(e.r||0),h=false;if(f<72){if((t?E(t):(r.s.i?x(s,0):r).s.u).startsWith(v)&&!0)return on=r,void a.er(n("noTabHistory"));h=true}if(m)return i=e.p,void chrome.tabs.duplicate(s,function(n){var e,r;if(!n)return vn();-2===m&&B(s),h?o(n,d):In[26]({s:d,r:0},null,n),e=n.index--,null!=(r="end"===i?3e4:p(n,i))&&r!==e&&chrome.tabs.move(n.id,{index:r},vn)});if(u=d>0?chrome.tabs.goForward:chrome.tabs.goBack)for(c=0,l=d>0?d:-d;c<l;c++)u(s,vn);else o(t,d)},function(){return l.Wn.ne&&l.Wn.ne(),{m:l.ie}},function(n,e){e.s.f|=4}],Rn=[];a={Lr:In[5],Dr:In[6],Or:In[8],Fr:In[19],qr:In[24],pr:r.qn,bn:function(n,e){var r=Exclusions;return(n=n||x(m.tr,0))&&r&&r.Vr.length>0&&(e||r.Br)?n.s.u:new Promise(function(e){var r=f>48&&n&&n.s.i?chrome.webNavigation:null;n?(r?r.getFrame:wn)(r?{tabId:n.s.t,frameId:n.s.i}:n.s.t,function(n){return e(n?n.url:""),vn()}):gn(function(n){return e(n&&n.length?E(n[0]):""),vn()})})},Ar:function(e,r){var t=e.t,o=e.u,i="tab"===t?t:t+" item";return on=H(r),"tab"===t&&m.tr===+o?a.er(n("notRemoveCur")):d.Ar(o,t,function(e){return a.er(n(e?"delSug":"notDelSug",[n("sug_"+t)||i]))})},br:function(){},ir:function(e){a.er(n("notAllowA",[e]))},_n:function(n){var e,t,o,i,u,a,c=n.u,s=c.toLowerCase(),f=null,d=false;if(!r.G.test(r.un(s)))return r.x(),null;if(n.p)return{k:"",s:0,u:(i=null!=(o=In[3](n)).p)?o.u:c,e:i?o.p:o.u};for(u=l.dn.searchEngineRules,(t=r.On(s))&&(s=s.slice(t),c=c.slice(t)),t=u.length;0<=--t&&(!s.startsWith((e=u[t]).$n)||!(f=c.slice(e.$n.length).match(e.jn))););if(!f||!e)return r.x(),null;for(f.length>1&&!e.jn.global&&f.shift(),a=e.An,f.length>1?d=true:a instanceof RegExp?(f=(s=f[0]).match(a))?(f.shift(),d=true):f=[s]:f=f[0].split(a),s="",t=0;t<f.length;t++)s+=" "+r.Q(f[t]);return s=s.trim().replace(r.B," "),r.x(),{k:e.Un,u:s,s:d?s.lastIndexOf(" ")+1:0}},Cr:function(n,e){var r,t,i,u,a=n.id;if(e)return r=0,t=-1,i=function(){var n=vn();if(n)return chrome.sessions.restore(),t>=0&&chrome.tabs.remove(t),t=0,n;(r+=1)>=5||setTimeout(function(){wn(a,i)},50*r*r)},1===e&&chrome.tabs.create({url:"about:blank",active:false,windowId:n.windowId},function(n){t?t=n.id:chrome.tabs.remove(n.id)}),chrome.tabs.remove(a,vn),void wn(a,i);f<45||(u=function(e){chrome.tabs.update(e.id,{muted:n.muted})}),o({windowId:n.windowId,index:n.index,url:E(n),active:n.active,pinned:n.pinned,openerTabId:n.openerTabId},u),chrome.tabs.remove(a)},er:function(n,e){e&&(n.startsWith("chrome-")&&n.includes("://")&&(n=n.slice(n.indexOf("/",n.indexOf("/")+2)+1)||n),n=n.length>41?n.slice(0,41)+"\u2026":n+"."),on&&!C(on,{N:12,H:N(on),k:e?n?20:e:1,t:n})&&(on=null)},rr:function(e,r){var t,o,i,u,c,l,s,f,d,h,p,v,g,b,_=pn[r||(r=m.tr)];if(_)if(o=(t=e.indexOf(" "))>0?e.slice(t+1):"",e=e.toLowerCase(),t>0&&(e=e.slice(0,t)),(o=((i=!!o&&/^silent/i.test(o))?o.slice(7):o).trimLeft())&&!o.startsWith("^ ")?(console.log('"vimium://status" only accepts a list of hooked keys'),o=""):o=o&&o.replace(/<(\S+)>/g,"$1"),u=null==Exclusions||Exclusions.Vr.length<=0,c=_[0].s.s,f=!((s=null!==(l="enable"===e?0:"disable"===e?2:"toggle"===e||"next"===e?0!==c?0:2:null))||u),d={N:1,p:2!==l?null:o,f:s},on=x(r,0)||_[0],null===l&&r<0)i||2!==c&&a.er(n("unknownStatAction",[e]));else{for(p=s?l:0,v=_.length;1<=--v;)(b=(g=_[v]).s).f=s?1|b.f:-2&b.f,f&&1!=(p=null===(h=d.p=a.pr(b.u,b))?0:h?1:2)&&b.s===p||(b.s=p,g.postMessage(d));i||2!==p&&a.er(n("newStat",[n(0===p?"fullEnabled":"halfDisabled")])),ln&&(p=_[0].s.s)!==c&&a.br(r,p)}},Wr:function(n){var e,r=m.tr,t=pn[r];if("quickNext"===n&&(n="nextTab"),(e=c.lr)&&e[n])return null==t||2&t[0].s.f||r<0?K(n,t):void wn(r,function(e){return K(n,e&&"complete"===e.status?pn[e.id]:null),vn()});e&&null!==e[n]&&(e[n]=null,console.log("Shortcut %o has not been configured.",n))},we:function(n,e){return null==n?pn:null==e?-3===n?Rn:pn[n]||null:x(n,e)},Xe:function(){3===l.Wn.Jn&&(c.gr||l.ge("keyMappings"),a.Xe=null,l.le("hideHud",true),l.le("nextPatterns",true),l.le("previousPatterns",true),chrome.runtime.onConnect.addListener(function(n){return J(n,0|n.name)}),chrome.runtime.onConnectExternal.addListener(function(n){var e,r=n.sender,t=n.name;if(r&&u(r.id,r.url)&&t.startsWith("vimium-c.")&&(e=t.split("@")).length>1){if(e[1]!==l.$.GitVer)return n.postMessage({N:2,t:1}),void n.disconnect();J(n,0|e[0].slice(9))}else n.disconnect()}))}},l.ve.newTabUrl_f=function(n){var e=r.U(n);Cn[10]=z.bind(null,e)},l.ve.showActionIcon=function(n){ln=n&&!!chrome.browserAction},chrome.runtime.onMessageExternal.addListener(function(n,e,r){if(u(e.id,e.url))if("string"!=typeof n){if("object"==typeof n&&n)switch(n.handler){case"shortcut":var t=n.shortcut;t&&a.Wr(t+"");break;case"id":r({name:"Vimium C",host:location.host,shortcuts:true,injector:l.$.Oe,version:l.$.Me});break;case 99:r({s:n.scripts?l.$.Le:null,version:l.$.Me,host:"",h:"@"+l.$.GitVer});break;case"command":M(n,e)}}else M({command:n},e);else r(false)}),l.ge("extAllowList"),chrome.tabs.onReplaced.addListener(function(n,e){var r,t=pn,o=t[e];if(o)for(delete t[e],t[n]=o,r=o.length;0<--r;)o[r].s.t=n}),l.ge("vomnibarPage",null),l.ge("searchUrl",null),l.ge("vomnibarOptions"),window.onunload=function(n){var e,r,t,o;if(!n||false!==n.isTrusted){for(r in(e=pn).o=Rn,e)for(o=(t=e[r]).length;0<--o;)t[o].disconnect();Rn.length>0&&Rn[0].disconnect()}}})();